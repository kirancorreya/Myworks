{"ast":null,"code":"import _objectSpread from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js\";\nimport React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { fetchFlowDetils } from '../../../store/system/systemActions';\nimport { connect } from 'react-redux';\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\nimport { Collapse, Modal, ModalBody, Tooltip } from \"reactstrap\";\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = target => {\n      this.setState(_objectSpread({}, this.state, {\n        [target]: !this.state[target]\n      }));\n    };\n\n    this.state = {\n      details: {}\n    };\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n  } //show or hide tool tip\n\n\n  //show or hide description\n  toggleDescription() {\n    this.setState(state => ({\n      collapse: !state.collapse\n    }));\n  } //closes the detail window\n\n\n  close(type) {\n    this.props.close(type);\n  } //get flow details\n\n\n  componentWillMount() {\n    this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n  } //update flow details\n\n\n  updateFlowDetails(event) {\n    let value = event.target.value;\n\n    if ((event.key === 'Enter' || event.type === 'blur') && this.state.modal && value) {\n      event.target.value = '';\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/flow/\") + this.props.activeFlow, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          description: value\n        })\n      }).then(response => {\n        this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n      }).catch(error => console.log(error));\n    }\n  } //control right click modal\n\n\n  modalToggle(e, data) {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n      this.setState({\n        details: {\n          'description': data.description\n        }\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"org_browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(ContextMenu, {\n      id: \"flowdetail_right_click\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      data: {\n        itemType: 'rename'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Update\")), React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      onBlur: this.updateFlowDetails.bind(this),\n      onKeyDown: this.updateFlowDetails.bind(this),\n      defaultValue: this.props.flowDetails.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })))), React.createElement(\"h3\", {\n      className: \"text-center text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Flow Details\", React.createElement(\"i\", {\n      className: \"far fa-edit\",\n      onClick: () => this.modalToggle(this, this.props.flowDetails),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon browser_close\",\n      onClick: () => this.close('flowDetail'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(VerticalScrollbars, {\n      autoHide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"flow-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.props.flowDetails.name), React.createElement(\"i\", {\n      className: \"fas fa-chevron-down system-down-icon\",\n      onClick: this.toggleDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(Tooltip, {\n      placement: \"top\",\n      toggle: () => this.toggle(\"flow-detail-name\"),\n      isOpen: this.state[\"flow-detail-name\"],\n      autohide: false,\n      target: \"flow-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.props.flowDetails.id)), React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Support lvl: \", this.props.flowDetails.supportLevel)), React.createElement(Collapse, {\n      isOpen: this.state.collapse,\n      className: \"systemDetailsDisc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.props.flowDetails.description ? this.props.flowDetails.description : 'No Description'))), React.createElement(\"div\", {\n      className: \" row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"System\")), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.props.flowDetails.sourceSystems ? this.props.flowDetails.sourceSystems.map((source, i) => {\n      return React.createElement(\"li\", {\n        className: \"tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, source.title);\n    }) : ''))), React.createElement(\"div\", {\n      className: \" row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Target\")), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, this.props.flowDetails.targetSystems ? this.props.flowDetails.targetSystems.map((target, i) => {\n      return React.createElement(\"li\", {\n        className: \"tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, target.title);\n    }) : ''))), React.createElement(\"div\", {\n      className: \"doc-url\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Documentation URL\"), React.createElement(\"p\", {\n      className: \"text-grey text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"https//:confluence.entiros.se/xOU90\")), React.createElement(\"div\", {\n      className: \"ob-block row m-t-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Flow Martix \", React.createElement(\"i\", {\n      className: \"fas fa-sync-alt  system-down-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-small text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"EDI 856F - Advanced Ship Notice, Shipping\"))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-small text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"EDI 856F - Advanced Ship Notice, Shipping\"))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-small text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"EDI 856F - Advanced Ship Notice, Shipping\"))))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlowDetails);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js"],"names":["React","Component","VerticalScrollbars","fetchFlowDetils","connect","ContextMenu","MenuItem","Collapse","Modal","ModalBody","Tooltip","FlowDetails","constructor","props","toggle","target","setState","state","details","close","bind","toggleDescription","modalToggle","collapse","type","componentWillMount","getFlowDetails","activeModel","activeFlow","updateFlowDetails","event","value","key","modal","prevState","fetch","process","env","REACT_APP_API","method","headers","body","JSON","stringify","description","then","response","catch","error","console","log","e","data","render","itemType","flowDetails","name","id","supportLevel","sourceSystems","map","source","i","title","targetSystems","mapDispatchToProps","dispatch","modelId","flowId","mapStateToProps","activeSystem","model","system","modelUri"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { fetchFlowDetils } from '../../../store/system/systemActions'\nimport { connect } from 'react-redux';\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\nimport { Collapse, Modal, ModalBody, Tooltip } from \"reactstrap\";\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: {}\n    };\n\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n  }\n\n  //show or hide tool tip\n  toggle = (target) => {\n    this.setState({\n      ...this.state,\n      [target]: !this.state[target]\n    });\n  };\n\n  //show or hide description\n  toggleDescription() {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  //closes the detail window\n  close(type) {\n    this.props.close(type);\n  }\n\n  //get flow details\n  componentWillMount() {\n    this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n  }\n\n  //update flow details\n  updateFlowDetails(event) {\n    let value = event.target.value;\n    if ((event.key === 'Enter' || event.type === 'blur') && this.state.modal && value) {\n      event.target.value = '';\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(\n        process.env.REACT_APP_API + `${this.props.activeModel}/flow/` + this.props.activeFlow,\n        {\n          method: \"PATCH\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify({ description: value })\n        }\n      )\n        .then(response => {this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow)})\n        .catch(error => console.log(error));\n    }\n  }\n\n\n  //control right click modal\n  modalToggle(e, data) {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n      this.setState({\n        details: { 'description' : data.description }\n      })\n\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"org_browser\">\n        <ContextMenu id=\"flowdetail_right_click\">\n          <MenuItem data={{ itemType: 'rename' }} onClick={this.modalToggle}>\n            Update\n          </MenuItem>\n        </ContextMenu>\n        <Modal isOpen={this.state.modal} toggle={this.modalToggle} >\n          <ModalBody>\n            <div>\n              <textarea onBlur={this.updateFlowDetails.bind(this)} onKeyDown={this.updateFlowDetails.bind(this)} defaultValue={this.props.flowDetails.description} />\n            </div>\n          </ModalBody>\n        </Modal>\n        <h3 className=\"text-center text-white\">\n          Flow Details\n          <i className=\"far fa-edit\" onClick={() => this.modalToggle(this, this.props.flowDetails)}></i>\n          <i className=\"fas fa-times system-down-icon browser_close\" onClick={() => this.close('flowDetail')} />\n        </h3>\n        <VerticalScrollbars autoHide>\n          <div className=\"browser_wrapper\">\n\n            <div className=\"ob-block row\">\n              <div className=\"col-md-6 m-b-20\">\n                <p className=\"text-white text-left\">\n                  <span id=\"flow-detail-name\">{this.props.flowDetails.name}</span>\n\n                  <i\n                    className=\"fas fa-chevron-down system-down-icon\"\n                    onClick={this.toggleDescription}\n                  />\n                </p>\n                <Tooltip placement=\"top\" toggle={() => this.toggle(`flow-detail-name`)} isOpen={this.state[`flow-detail-name`]} autohide={false} target={`flow-detail-name`} >\n                  {this.props.flowDetails.id}\n                </Tooltip>\n\n              </div>\n              <div className=\"col-md-6 m-b-20\">\n                <p className=\"text-white text-left\">Support lvl: {this.props.flowDetails.supportLevel}</p>\n              </div>\n              <Collapse\n                isOpen={this.state.collapse}\n                className=\"systemDetailsDisc\"\n              >\n\n                  <p className=\"text-grey\">\n                    {this.props.flowDetails.description ? this.props.flowDetails.description : 'No Description'}\n                  </p>\n\n              </Collapse>\n            </div>\n\n            <div className=\" row\">\n              <div className=\"col-md-4\">\n                <p className=\"text-white text-left\">System</p>\n              </div>\n              <div className=\"col-md-8\">\n                <ul>\n                {this.props.flowDetails.sourceSystems\n                                                                ? this.props.flowDetails.sourceSystems.map((source, i) => {\n                                                                  return (\n                                                                    <li className=\"tag\">{source.title}</li>\n                                                                  )\n                                                                }):''}\n\n                </ul>\n              </div>\n            </div>\n            <div className=\" row\">\n              <div className=\"col-md-4\">\n                <p className=\"text-white text-left\">Target</p>\n              </div>\n              <div className=\"col-md-8\">\n                <ul>\n                {this.props.flowDetails.targetSystems\n                                                                ? this.props.flowDetails.targetSystems.map((target, i) => {\n                                                                  return (\n                                                                    <li className=\"tag\">{target.title}</li>\n                                                                  )\n                                                                }):''}\n                </ul>\n              </div>\n            </div>\n            <div className=\"doc-url\">\n              <p className=\"text-white text-left\">Documentation URL</p>\n              <p className=\"text-grey text-left\">\n                https//:confluence.entiros.se/xOU90\n              </p>\n            </div>\n            <div className=\"ob-block row m-t-50\">\n              <div className=\"col-md-12 m-b-20\">\n                <p className=\"text-white text-left\">\n                  Flow Martix <i className=\"fas fa-sync-alt  system-down-icon\" />\n                </p>\n              </div>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"text-small text-grey\">\n                  EDI 856F - Advanced Ship Notice, Shipping\n                </p>\n              </div>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"text-small text-grey\">\n                  EDI 856F - Advanced Ship Notice, Shipping\n                </p>\n              </div>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"text-small text-grey\">\n                  EDI 856F - Advanced Ship Notice, Shipping\n                </p>\n              </div>\n            </div>\n          </div>\n        </VerticalScrollbars>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlowDetails);\n"]},"metadata":{},"sourceType":"module"}