{"ast":null,"code":"import _objectSpread from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js\";\nimport React, { Component } from \"react\";\nimport { fetchFlowDetils } from \"../../../store/system/systemActions\";\nimport { connect } from \"react-redux\";\nimport { Modal, ModalBody, FormGroup, Input } from \"reactstrap\";\nimport Select from \"react-select\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport addCircle from \"../../../_assets/icons/icons/add-icon-circle.svg\";\nimport sequence from \"../../../_assets/images/Sequence-diagram.png\";\nimport edit from \"../../../_assets/icons/icons/edit.svg\";\nimport Reorder from \"react-reorder\";\nimport closeIcon from \"../../../_assets/icons/icons/exitwhite.svg\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = target => {\n      this.setState(_objectSpread({}, this.state, {\n        [target]: !this.state[target]\n      }));\n    };\n\n    this.state = {\n      details: {},\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\",\n        custom: {\n          documentationUrl: \"\"\n        }\n      },\n      filterOptions: [],\n      invocations: [],\n      referenceData: {\n        consumerSystem: \"\",\n        consumedService: \"\",\n        referenceName: \"\"\n      },\n      servicesList: \"\",\n      invocationsList: [],\n      items: [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\", \"Item 5\", \"Item 6\"],\n      referenceAdd: false\n    };\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n  }\n\n  onReorder(event, previousIndex, nextIndex, fromId, toId) {\n    fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/flow/\").concat(this.props.activeFlow, \"/invocation/\") + this.props.invocations[previousIndex].invocationId, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        index: nextIndex\n      })\n    }).then(response => {\n      this.props.getFlowDetails(this.props.activeModelId, this.props.activeFlow);\n    }).catch(error => console.log(error));\n  } //show or hide tool tip\n\n\n  handleUrlChange(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = {\n      documentationUrl: event.target.value\n    };\n    this.setState({\n      formData\n    });\n  }\n\n  handleChange(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  handleReferenceChange(event) {\n    const referenceData = this.state.referenceData;\n    referenceData[event.target.name] = event.target.value;\n    this.setState({\n      referenceData\n    });\n    console.log(referenceData);\n  }\n\n  openAddReference(event) {\n    this.setState(prev => ({\n      referenceAdd: !prev.referenceAdd\n    }));\n  }\n\n  updateFlow() {\n    fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/flow/\") + this.props.activeFlow, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state.formData)\n    }).then(response => {\n      if (this.state.deletedSourceSystems.length > 0) this.deleteSourceSystems();\n      if (this.state.deletedTargetSystems.length > 0) this.deleteTargetSystems();\n      this.addSourceSystems();\n      this.addTargetSystems();\n      setTimeout(() => {\n        this.props.getFlowDetails(this.props.activeModelId, this.props.activeFlow);\n        this.setState(prevState => ({\n          modal: !prevState.modal\n        }));\n      }, 2000);\n    }).catch(error => console.log(error));\n  }\n\n  addSourceSystems() {\n    console.log(this.state.sourceSystems);\n    this.state.sourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/source/\" + system.value, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  addTargetSystems() {\n    this.state.targetSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/target/\" + system.value, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteSourceSystems() {\n    this.state.deletedSourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/source/\" + system.value, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteTargetSystems() {\n    console.log(this.state.deletedTargetSystems);\n    this.state.deletedTargetSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/target/\" + system.value, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  handleSourceChange(option, event) {\n    console.log(option);\n    let difference = this.state.sourceSystems.filter(x => !option.includes(x)); // calculates diff\n\n    console.log(difference);\n\n    if (difference.length > 0) {\n      this.state.deletedSourceSystems.push(difference[0]);\n    }\n\n    this.setState(state => {\n      return {\n        sourceSystems: option\n      };\n    });\n  }\n\n  handleTargetChange(option) {\n    let difference = this.state.targetSystems.filter(x => !option.includes(x)); // calculates diff\n\n    if (difference.length > 0) {\n      this.state.deletedTargetSystems.push(difference[0]);\n    }\n\n    this.setState(state => {\n      return {\n        targetSystems: option\n      };\n    });\n  } //show or hide description\n\n\n  toggleDescription() {\n    this.setState(state => ({\n      collapse: !state.collapse\n    }));\n  } //closes the detail window\n\n\n  close(type) {\n    this.props.close(type);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.state.flow = nextProps.invocations;\n    console.log(nextProps.invocations);\n  } //update flow details\n\n\n  updateFlowDetails(event) {\n    let value = event.target.value;\n\n    if ((event.key === \"Enter\" || event.type === \"blur\") && this.state.modal && value) {\n      event.target.value = \"\";\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/flow/\") + this.props.activeFlow, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          description: value\n        })\n      }).then(response => {\n        this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n      }).catch(error => console.log(error));\n    }\n  } //Delete entity\n\n\n  deleteReference(referenceId, event) {\n    console.log(referenceId);\n    return fetch(process.env.REACT_APP_API + \"/model/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/invocation/\" + referenceId, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      this.props.getFlowDetails(this.props.activeModelId, this.props.activeFlow);\n    });\n  } //control right click modal\n\n\n  modalToggle(e, data) {\n    this.state.sourceSystems = [];\n    this.state.targetSystems = [];\n    this.state.deletedSourceSystems = [];\n    this.state.deletedTargetSystems = [];\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    this.props.flowDetails._links.filter(links => links.rel === \"SOURCE\").map(source => {\n      console.log(source);\n      this.state.sourceSystems.push({\n        value: source.params.id,\n        label: source.title\n      });\n      return true;\n    });\n\n    this.props.flowDetails._links.filter(links => links.rel === \"TARGET\").map(target => {\n      this.state.targetSystems.push({\n        value: target.params.id,\n        label: target.title\n      });\n    });\n\n    this.setState({\n      formData: {\n        name: this.props.flowDetails.name,\n        description: this.props.flowDetails.description,\n        supportLevel: this.props.flowDetails.supportLevel,\n        custom: {\n          documentationUrl: this.props.flowDetails.custom.documentationUrl\n        }\n      }\n    });\n    this.getSystems();\n  }\n\n  getSystems() {\n    return fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/allsystems\").then(res => res.json()).then(response => {\n      this.setState({\n        systems: response\n      });\n      response.map((systems, i) => {\n        this.state.filterOptions.push({\n          value: systems.id,\n          label: systems.name\n        });\n      });\n      return true;\n    }).catch(error => console.log(error));\n  }\n\n  getSystemServices(event) {\n    let parents = this.state.systems;\n    let parent = parents.filter(parent => parent.name === event.target.value);\n    if (parent) this.setState({\n      servicesList: parent[0].services\n    });\n  } //create service\n\n\n  createReference(event) {\n    fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/system/\").concat(this.state.referenceData.consumerSystem, \"/reference/service/\").concat(this.state.referenceData.consumedService), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(responseJson => {\n      console.log(responseJson);\n      return fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/service/\").concat(this.props.activeFlow, \"/invocation/\") + responseJson.id, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        setTimeout(() => {\n          this.props.getFlowDetails(this.props.activeModelId, this.props.activeFlow);\n          this.setState(prevState => ({\n            modal: true\n          }));\n        }, 2000);\n      });\n    });\n  }\n\n  render() {\n    var formData = this.state.formData;\n    return React.createElement(\"div\", {\n      className: \"browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"editFlow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"d-inline-block modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, \"Edit Flow Details\"), React.createElement(\"button\", {\n      className: \"btn grey-btn modal-top-btn\",\n      onClick: this.updateFlow.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, \"Done \", React.createElement(\"img\", {\n      src: check,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput m-t-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, \"Flow name\"), React.createElement(\"input\", {\n      type: \"text\",\n      value: formData.name,\n      name: \"name\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"select-css\",\n      type: \"select\",\n      name: \"supportLevel\",\n      value: formData.supportLevel,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, \"Support Level\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, \"Gold\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, \"Platinum\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472\n      },\n      __self: this\n    }, \"Silver\"), \"))}\"))), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, \"Documentation URL\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"custom\",\n      value: formData.custom.documentationUrl,\n      onChange: this.handleUrlChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      name: \"description\",\n      value: formData.description,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    }, \"Source system\"), React.createElement(\"div\", {\n      className: \"searchbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      sm: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(Select, {\n      name: \"filters\",\n      placeholder: \"\",\n      value: this.state.sourceSystems,\n      options: this.state.filterOptions,\n      onChange: this.handleSourceChange.bind(this),\n      multi: true,\n      clearable: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }, \"Target system\"), React.createElement(\"div\", {\n      className: \"searchbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      sm: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, React.createElement(Select, {\n      name: \"filters\",\n      placeholder: \"\",\n      value: this.state.targetSystems,\n      options: this.state.filterOptions,\n      onChange: this.handleTargetChange.bind(this),\n      multi: true,\n      clearable: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"technical row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"technical-header col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, \"Technical\"), !this.state.referenceAdd && React.createElement(\"div\", {\n      className: \"addModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.openAddReference.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: addCircle,\n      alt: \"starlify\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533\n      },\n      __self: this\n    }), \"Add Contract\"))), React.createElement(\"div\", {\n      className: \"technical-body col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"row head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }, \"Consumer\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543\n      },\n      __self: this\n    }, \"Provider\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    }, \"Service\"), React.createElement(\"li\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545\n      },\n      __self: this\n    })), React.createElement(Reorder, {\n      reorderId: \"my-list\" // Unique ID that is used internally to track this list (required)\n      ,\n      reorderGroup: \"reorder-group\" // A group ID that allows items to be dragged between lists of the same group (optional)\n      ,\n      component: \"ul\" // Tag name or Component to be used for the wrapping element (optional), defaults to 'div'\n      ,\n      placeholderClassName: \"placeholder\" // Class name to be applied to placeholder elements (optional), defaults to 'placeholder'\n      ,\n      draggedClassName: \"dragged\" // Class name to be applied to dragged elements (optional), defaults to 'dragged'\n      ,\n      lock: \"horizontal\" // Lock the dragging direction (optional): vertical, horizontal (do not use with groups)\n      ,\n      holdTime: 500 // Default hold time before dragging begins (mouse & touch) (optional), defaults to 0\n      ,\n      touchHoldTime: 500 // Hold time before dragging begins on touch devices (optional), defaults to holdTime\n      ,\n      mouseHoldTime: 200 // Hold time before dragging begins with mouse (optional), defaults to holdTime\n      ,\n      onReorder: this.onReorder.bind(this) // Callback when an item is dropped (you will need this to update your state)\n      ,\n      autoScroll: true // Enable auto-scrolling when the pointer is close to the edge of the Reorder component (optional), defaults to true\n      ,\n      disabled: false // Disable reordering (optional), defaults to false\n      ,\n      disableContextMenus: true // Disable context menus when holding on touch devices (optional), defaults to true\n      ,\n      placeholder: React.createElement(\"div\", {\n        className: \"custom-placeholder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      }) // Custom placeholder element (optional), defaults to clone of dragged element\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547\n      },\n      __self: this\n    }, this.props.invocations.map((invocation, i) => {\n      return React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"row body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"col-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-bars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \"col-md-4 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 572\n        },\n        __self: this\n      }, invocation.consumer), React.createElement(\"li\", {\n        className: \"col-md-3 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575\n        },\n        __self: this\n      }, invocation.provider), React.createElement(\"li\", {\n        className: \"col-md-3 text-white word-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578\n        },\n        __self: this\n      }, invocation.service), React.createElement(\"li\", {\n        className: \"col-md-1 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash-alt\",\n        onClick: this.deleteReference.bind(this, invocation.invocationId),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582\n        },\n        __self: this\n      }))));\n    })), React.createElement(\"div\", {\n      className: \"sequence\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595\n      },\n      __self: this\n    })), this.state.referenceAdd && React.createElement(\"div\", {\n      className: \"d-block mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"d-flex formGroupWrapper justify-content-md-center create-ref\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"consumerSystem\",\n      onChange: this.handleReferenceChange.bind(this),\n      className: \"p-l-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607\n      },\n      __self: this\n    }, \"Consumer System\"), this.state.systems ? this.state.systems.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item.id,\n        id: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611\n        },\n        __self: this\n      }, item.name);\n    }) : \"\")), React.createElement(\"li\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 619\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"select\",\n      onChange: this.getSystemServices.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625\n      },\n      __self: this\n    }, \"Provider System\"), this.state.systems ? this.state.systems.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item.name,\n        id: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629\n        },\n        __self: this\n      }, item.name);\n    }) : \"\")), React.createElement(\"li\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"consumedService\",\n      id: \"exampleSelect\",\n      onChange: this.handleReferenceChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 642\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 648\n      },\n      __self: this\n    }, \"Service\"), this.state.servicesList ? this.state.servicesList.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 652\n        },\n        __self: this\n      }, item.name);\n    }) : \"\")), React.createElement(\"li\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"link-btn modal-top-btn m-l-15\",\n      onClick: this.createReference.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 661\n      },\n      __self: this\n    }, \"Done\")))))))), React.createElement(\"div\", {\n      className: \"browser_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 677\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"icon icon-Share submenu-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 680\n      },\n      __self: this\n    }, \"Flow Details\"), React.createElement(\"img\", {\n      src: edit,\n      alt: \"starlify\",\n      className: \"edit\",\n      onClick: () => this.modalToggle(this, this.props.flowDetails),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: closeIcon,\n      alt: \"starlify\",\n      className: \"system-down-icon browser_close\",\n      onClick: () => this.close(\"flowDetail\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 688\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"browser_wrapper browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 696\n      },\n      __self: this\n    }, React.createElement(VerticalScrollbars, {\n      style: {\n        height: \"calc(100vh - 120px)\"\n      },\n      autoHide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 697\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"name m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey m-b-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 702\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703\n      },\n      __self: this\n    }, this.props.flowDetails.name)), React.createElement(\"div\", {\n      className: \"support m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 705\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey m-b-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 706\n      },\n      __self: this\n    }, \"Support level\"), this.props.flowDetails.supportLevel === 1 && React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708\n      },\n      __self: this\n    }, \"Gold\"), this.props.flowDetails.supportLevel === 2 && React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 711\n      },\n      __self: this\n    }, \"Platinum\"), this.props.flowDetails.supportLevel === 3 && React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 714\n      },\n      __self: this\n    }, \"Silver\")), React.createElement(\"div\", {\n      className: \"url m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 717\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey m-b-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 718\n      },\n      __self: this\n    }, \"Documentation URL\"), React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 719\n      },\n      __self: this\n    }, this.props.flowDetails.custom ? this.props.flowDetails.custom.documentationUrl : \"\")), React.createElement(\"div\", {\n      className: \"desc m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey m-b-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 726\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 727\n      },\n      __self: this\n    }, this.props.flowDetails.description)), React.createElement(\"div\", {\n      className: \"system m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 729\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey m-b-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730\n      },\n      __self: this\n    }, \"Source\"), this.props.flowDetails._links ? this.props.flowDetails._links.filter(links => links.rel === \"SOURCE\").map(source => {\n      return React.createElement(\"p\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 735\n        },\n        __self: this\n      }, source.title);\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"target m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 739\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey m-b-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 740\n      },\n      __self: this\n    }, \"Target\"), this.props.flowDetails._links ? this.props.flowDetails._links.filter(links => links.rel === \"TARGET\").map(target => {\n      return React.createElement(\"p\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 745\n        },\n        __self: this\n      }, target.title);\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"technical row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 749\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"technical-header col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 750\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"text-white m-b-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 751\n      },\n      __self: this\n    }, \"Technical\")), React.createElement(\"div\", {\n      className: \"technical-body col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 753\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 754\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 755\n      },\n      __self: this\n    }, \"Consumer\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 756\n      },\n      __self: this\n    }, \"Provider\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 757\n      },\n      __self: this\n    }, \"Service\")), this.props.invocations.map((invocation, i) => {\n      return React.createElement(\"ul\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 761\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"col-md-4 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 762\n        },\n        __self: this\n      }, \" \", invocation.consumer), React.createElement(\"li\", {\n        className: \"col-md-3 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 766\n        },\n        __self: this\n      }, invocation.provider), React.createElement(\"li\", {\n        className: \"col-md-3 text-white word-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 769\n        },\n        __self: this\n      }, \" \", invocation.service));\n    }), React.createElement(\"div\", {\n      className: \"sequence\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 777\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: sequence,\n      alt: \"starlify\",\n      className: \"d-block mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 778\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails,\n    invocations: state.system.invocations,\n    activeModelId: state.model.modelId\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlowDetails);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js"],"names":["React","Component","fetchFlowDetils","connect","Modal","ModalBody","FormGroup","Input","Select","sequence","Reorder","VerticalScrollbars","FlowDetails","constructor","props","toggle","target","setState","state","details","formData","name","description","supportLevel","custom","documentationUrl","filterOptions","invocations","referenceData","consumerSystem","consumedService","referenceName","servicesList","invocationsList","items","referenceAdd","close","bind","toggleDescription","modalToggle","onReorder","event","previousIndex","nextIndex","fromId","toId","fetch","process","env","REACT_APP_API","activeModelId","activeFlow","invocationId","method","headers","body","JSON","stringify","index","then","response","getFlowDetails","catch","error","console","log","handleUrlChange","value","handleChange","handleReferenceChange","openAddReference","prev","updateFlow","activeModel","deletedSourceSystems","length","deleteSourceSystems","deletedTargetSystems","deleteTargetSystems","addSourceSystems","addTargetSystems","setTimeout","prevState","modal","sourceSystems","map","system","i","targetSystems","handleSourceChange","option","difference","filter","x","includes","push","handleTargetChange","collapse","type","componentWillReceiveProps","nextProps","flow","updateFlowDetails","key","deleteReference","referenceId","e","data","flowDetails","_links","links","rel","source","params","id","label","title","getSystems","res","json","systems","getSystemServices","parents","parent","services","createReference","responseJson","render","check","addCircle","invocation","consumer","provider","service","item","edit","closeIcon","height","mapDispatchToProps","dispatch","modelId","flowId","mapStateToProps","activeSystem","model","modelUri"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { fetchFlowDetils } from \"../../../store/system/systemActions\";\nimport { connect } from \"react-redux\";\nimport { Modal, ModalBody, FormGroup, Input } from \"reactstrap\";\nimport Select from \"react-select\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport addCircle from \"../../../_assets/icons/icons/add-icon-circle.svg\";\nimport sequence from \"../../../_assets/images/Sequence-diagram.png\";\nimport edit from \"../../../_assets/icons/icons/edit.svg\";\nimport Reorder from \"react-reorder\";\nimport closeIcon from \"../../../_assets/icons/icons/exitwhite.svg\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: {},\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\",\n        custom: { documentationUrl: \"\" }\n      },\n      filterOptions: [],\n      invocations: [],\n      referenceData: {\n        consumerSystem: \"\",\n        consumedService: \"\",\n        referenceName: \"\"\n      },\n      servicesList: \"\",\n      invocationsList: [],\n      items: [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\", \"Item 5\", \"Item 6\"],\n      referenceAdd: false\n    };\n\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n  }\n  onReorder(event, previousIndex, nextIndex, fromId, toId) {\n    fetch(\n      process.env.REACT_APP_API +\n        `/hypermedia/network/${this.props.activeModelId}/flow/${this.props.activeFlow}/invocation/` +\n        this.props.invocations[previousIndex].invocationId,\n      {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ index: nextIndex })\n      }\n    )\n      .then(response => {\n        this.props.getFlowDetails(\n          this.props.activeModelId,\n          this.props.activeFlow\n        );\n      })\n      .catch(error => console.log(error));\n  }\n\n  //show or hide tool tip\n  toggle = target => {\n    this.setState({\n      ...this.state,\n      [target]: !this.state[target]\n    });\n  };\n\n  handleUrlChange(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = { documentationUrl: event.target.value };\n    this.setState({\n      formData\n    });\n  }\n\n  handleChange(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  handleReferenceChange(event) {\n    const { referenceData } = this.state;\n    referenceData[event.target.name] = event.target.value;\n    this.setState({\n      referenceData\n    });\n    console.log(referenceData);\n  }\n\n  openAddReference(event) {\n    this.setState(prev => ({\n      referenceAdd: !prev.referenceAdd\n    }));\n  }\n\n  updateFlow() {\n    fetch(\n      process.env.REACT_APP_API +\n        `${this.props.activeModel}/flow/` +\n        this.props.activeFlow,\n      {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.state.formData)\n      }\n    )\n      .then(response => {\n        if (this.state.deletedSourceSystems.length > 0)\n          this.deleteSourceSystems();\n        if (this.state.deletedTargetSystems.length > 0)\n          this.deleteTargetSystems();\n        this.addSourceSystems();\n        this.addTargetSystems();\n        setTimeout(() => {\n          this.props.getFlowDetails(\n            this.props.activeModelId,\n            this.props.activeFlow\n          );\n          this.setState(prevState => ({\n            modal: !prevState.modal\n          }));\n        }, 2000);\n      })\n      .catch(error => console.log(error));\n  }\n\n  addSourceSystems() {\n    console.log(this.state.sourceSystems);\n    this.state.sourceSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/source/\" +\n          system.value,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  addTargetSystems() {\n    this.state.targetSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/target/\" +\n          system.value,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteSourceSystems() {\n    this.state.deletedSourceSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/source/\" +\n          system.value,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteTargetSystems() {\n    console.log(this.state.deletedTargetSystems);\n    this.state.deletedTargetSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/target/\" +\n          system.value,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  handleSourceChange(option, event) {\n    console.log(option);\n    let difference = this.state.sourceSystems.filter(x => !option.includes(x)); // calculates diff\n    console.log(difference);\n    if (difference.length > 0) {\n      this.state.deletedSourceSystems.push(difference[0]);\n    }\n    this.setState(state => {\n      return {\n        sourceSystems: option\n      };\n    });\n  }\n\n  handleTargetChange(option) {\n    let difference = this.state.targetSystems.filter(x => !option.includes(x)); // calculates diff\n    if (difference.length > 0) {\n      this.state.deletedTargetSystems.push(difference[0]);\n    }\n    this.setState(state => {\n      return {\n        targetSystems: option\n      };\n    });\n  }\n\n  //show or hide description\n  toggleDescription() {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  //closes the detail window\n  close(type) {\n    this.props.close(type);\n  }\n  componentWillReceiveProps(nextProps) {\n    this.state.flow = nextProps.invocations;\n    console.log(nextProps.invocations);\n  }\n\n  //update flow details\n  updateFlowDetails(event) {\n    let value = event.target.value;\n    if (\n      (event.key === \"Enter\" || event.type === \"blur\") &&\n      this.state.modal &&\n      value\n    ) {\n      event.target.value = \"\";\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(\n        process.env.REACT_APP_API +\n          `${this.props.activeModel}/flow/` +\n          this.props.activeFlow,\n        {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ description: value })\n        }\n      )\n        .then(response => {\n          this.props.getFlowDetails(\n            this.props.activeModel,\n            this.props.activeFlow\n          );\n        })\n        .catch(error => console.log(error));\n    }\n  }\n\n  //Delete entity\n  deleteReference(referenceId, event) {\n    console.log(referenceId);\n    return fetch(\n      process.env.REACT_APP_API +\n        \"/model/\" +\n        this.props.activeModelId +\n        \"/flow/\" +\n        this.props.activeFlow +\n        \"/invocation/\" +\n        referenceId,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }\n    ).then(response => {\n      this.props.getFlowDetails(\n        this.props.activeModelId,\n        this.props.activeFlow\n      );\n    });\n  }\n\n  //control right click modal\n  modalToggle(e, data) {\n    this.state.sourceSystems = [];\n    this.state.targetSystems = [];\n    this.state.deletedSourceSystems = [];\n    this.state.deletedTargetSystems = [];\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    this.props.flowDetails._links\n      .filter(links => links.rel === \"SOURCE\")\n      .map(source => {\n        console.log(source);\n        this.state.sourceSystems.push({\n          value: source.params.id,\n          label: source.title\n        });\n        return true;\n      });\n\n    this.props.flowDetails._links\n      .filter(links => links.rel === \"TARGET\")\n      .map(target => {\n        this.state.targetSystems.push({\n          value: target.params.id,\n          label: target.title\n        });\n      });\n\n    this.setState({\n      formData: {\n        name: this.props.flowDetails.name,\n        description: this.props.flowDetails.description,\n        supportLevel: this.props.flowDetails.supportLevel,\n        custom: {\n          documentationUrl: this.props.flowDetails.custom.documentationUrl\n        }\n      }\n    });\n    this.getSystems();\n  }\n\n  getSystems() {\n    return fetch(\n      process.env.REACT_APP_API +\n        \"/hypermedia/network/\" +\n        this.props.activeModelId +\n        \"/allsystems\"\n    )\n      .then(res => res.json())\n      .then(response => {\n        this.setState({ systems: response });\n        response.map((systems, i) => {\n          this.state.filterOptions.push({\n            value: systems.id,\n            label: systems.name\n          });\n        });\n        return true;\n      })\n      .catch(error => console.log(error));\n  }\n\n  getSystemServices(event) {\n    let parents = this.state.systems;\n    let parent = parents.filter(parent => parent.name === event.target.value);\n    if (parent) this.setState({ servicesList: parent[0].services });\n  }\n\n  //create service\n  createReference(event) {\n    fetch(\n      process.env.REACT_APP_API +\n        `/hypermedia/network/${this.props.activeModelId}/system/${this.state.referenceData.consumerSystem}/reference/service/${this.state.referenceData.consumedService}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }\n    )\n      .then(response => response.json())\n      .then(responseJson => {\n        console.log(responseJson);\n        return fetch(\n          process.env.REACT_APP_API +\n            `${this.props.activeModel}/service/${this.props.activeFlow}/invocation/` +\n            responseJson.id,\n\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }\n        )\n          .then(response => response.json())\n          .then(responseJson => {\n            setTimeout(() => {\n              this.props.getFlowDetails(\n                this.props.activeModelId,\n                this.props.activeFlow\n              );\n\n              this.setState(prevState => ({\n                modal: true\n              }));\n            }, 2000);\n          });\n      });\n  }\n\n  render() {\n    var { formData } = this.state;\n    return (\n      <div className=\"browser\">\n        <Modal isOpen={this.state.modal} toggle={this.modalToggle}>\n          <ModalBody>\n            <div className=\"editFlow\">\n              <h3 className=\"d-inline-block modal-title\">Edit Flow Details</h3>\n              <button\n                className=\"btn grey-btn modal-top-btn\"\n                onClick={this.updateFlow.bind(this)}\n              >\n                Done <img src={check} alt=\"\" />\n              </button>\n              <div className=\"ModalInput m-t-50\">\n                <h4>Flow name</h4>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  name=\"name\"\n                  onChange={this.handleChange.bind(this)}\n                />\n              </div>\n              <div className=\"ModalInput\">\n                <FormGroup>\n                  <Input\n                    className=\"select-css\"\n                    type=\"select\"\n                    name=\"supportLevel\"\n                    value={formData.supportLevel}\n                    onChange={this.handleChange.bind(this)}\n                  >\n                    <option value=\"\">Support Level</option>\n                    <option value=\"1\">Gold</option>\n                    <option value=\"2\">Platinum</option>\n                    <option value=\"3\">Silver</option>\n                    ))}\n                  </Input>\n                </FormGroup>\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Documentation URL</h4>\n                <input\n                  type=\"text\"\n                  name=\"custom\"\n                  value={formData.custom.documentationUrl}\n                  onChange={this.handleUrlChange.bind(this)}\n                />\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Description</h4>\n                <textarea\n                  type=\"text\"\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={this.handleChange.bind(this)}\n                />\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Source system</h4>\n                <div className=\"searchbar\">\n                  <div sm=\"12\">\n                    <Select\n                      name=\"filters\"\n                      placeholder=\"\"\n                      value={this.state.sourceSystems}\n                      options={this.state.filterOptions}\n                      onChange={this.handleSourceChange.bind(this)}\n                      multi\n                      clearable={false}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Target system</h4>\n                <div className=\"searchbar\">\n                  <div sm=\"12\">\n                    <Select\n                      name=\"filters\"\n                      placeholder=\"\"\n                      value={this.state.targetSystems}\n                      options={this.state.filterOptions}\n                      onChange={this.handleTargetChange.bind(this)}\n                      multi\n                      clearable={false}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"technical row\">\n                <div className=\"technical-header col-md-12\">\n                  <span className=\"\">Technical</span>\n                  {!this.state.referenceAdd && (\n                    <div className=\"addModal\">\n                      <span onClick={this.openAddReference.bind(this)}>\n                        <img src={addCircle} alt=\"starlify\" />\n                        Add Contract\n                      </span>\n                    </div>\n                  )}\n                </div>\n                <div className=\"technical-body col-md-12\">\n                  <ul className=\"row head\">\n                    <li className=\"col-md-1\"></li>\n                    <li className=\"col-md-4\">Consumer</li>\n                    <li className=\"col-md-3\">Provider</li>\n                    <li className=\"col-md-3\">Service</li>\n                    <li className=\"col-md-1\"></li>\n                  </ul>\n                  <Reorder\n                    reorderId=\"my-list\" // Unique ID that is used internally to track this list (required)\n                    reorderGroup=\"reorder-group\" // A group ID that allows items to be dragged between lists of the same group (optional)\n                    component=\"ul\" // Tag name or Component to be used for the wrapping element (optional), defaults to 'div'\n                    placeholderClassName=\"placeholder\" // Class name to be applied to placeholder elements (optional), defaults to 'placeholder'\n                    draggedClassName=\"dragged\" // Class name to be applied to dragged elements (optional), defaults to 'dragged'\n                    lock=\"horizontal\" // Lock the dragging direction (optional): vertical, horizontal (do not use with groups)\n                    holdTime={500} // Default hold time before dragging begins (mouse & touch) (optional), defaults to 0\n                    touchHoldTime={500} // Hold time before dragging begins on touch devices (optional), defaults to holdTime\n                    mouseHoldTime={200} // Hold time before dragging begins with mouse (optional), defaults to holdTime\n                    onReorder={this.onReorder.bind(this)} // Callback when an item is dropped (you will need this to update your state)\n                    autoScroll={true} // Enable auto-scrolling when the pointer is close to the edge of the Reorder component (optional), defaults to true\n                    disabled={false} // Disable reordering (optional), defaults to false\n                    disableContextMenus={true} // Disable context menus when holding on touch devices (optional), defaults to true\n                    placeholder={\n                      <div className=\"custom-placeholder\" /> // Custom placeholder element (optional), defaults to clone of dragged element\n                    }\n                  >\n                    {this.props.invocations.map((invocation, i) => {\n                      return (\n                        <li>\n                          <ul className=\"row body\">\n                            <li className=\"col-md-1\">\n                              <i className=\"fas fa-bars\"></i>\n                            </li>\n                            <li className=\"col-md-4 text-white\">\n                              {invocation.consumer}\n                            </li>\n                            <li className=\"col-md-3 text-white\">\n                              {invocation.provider}\n                            </li>\n                            <li className=\"col-md-3 text-white word-wrap\">\n                              {invocation.service}\n                            </li>\n                            <li className=\"col-md-1 text-white\">\n                              <i\n                                className=\"fas fa-trash-alt\"\n                                onClick={this.deleteReference.bind(\n                                  this,\n                                  invocation.invocationId\n                                )}\n                              ></i>\n                            </li>\n                          </ul>\n                        </li>\n                      );\n                    })}\n                  </Reorder>\n                  <div className=\"sequence\"></div>\n                </div>\n                {this.state.referenceAdd && (\n                  <div className=\"d-block mx-auto\">\n                    <ul className=\"d-flex formGroupWrapper justify-content-md-center create-ref\">\n                      <li className=\"form-group\">\n                        <Input\n                          type=\"select\"\n                          name=\"consumerSystem\"\n                          onChange={this.handleReferenceChange.bind(this)}\n                          className=\"p-l-0\"\n                        >\n                          <option>Consumer System</option>\n                          {this.state.systems\n                            ? this.state.systems.map((item, i) => {\n                                return (\n                                  <option key={i} value={item.id} id={item.id}>\n                                    {item.name}\n                                  </option>\n                                );\n                              })\n                            : \"\"}\n                        </Input>\n                      </li>\n                      <li className=\"form-group\">\n                        <Input\n                          type=\"select\"\n                          name=\"select\"\n                          onChange={this.getSystemServices.bind(this)}\n                        >\n                          <option>Provider System</option>\n                          {this.state.systems\n                            ? this.state.systems.map((item, i) => {\n                                return (\n                                  <option\n                                    key={i}\n                                    value={item.name}\n                                    id={item.id}\n                                  >\n                                    {item.name}\n                                  </option>\n                                );\n                              })\n                            : \"\"}\n                        </Input>\n                      </li>\n                      <li className=\"form-group\">\n                        <Input\n                          type=\"select\"\n                          name=\"consumedService\"\n                          id=\"exampleSelect\"\n                          onChange={this.handleReferenceChange.bind(this)}\n                        >\n                          <option>Service</option>\n                          {this.state.servicesList\n                            ? this.state.servicesList.map((item, i) => {\n                                return (\n                                  <option key={i} value={item.id}>\n                                    {item.name}\n                                  </option>\n                                );\n                              })\n                            : \"\"}\n                        </Input>\n                      </li>\n                      <li className=\"form-group\">\n                        <button\n                          className=\"link-btn modal-top-btn m-l-15\"\n                          onClick={this.createReference.bind(this)}\n                        >\n                          Done\n                        </button>\n                      </li>\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n          </ModalBody>\n        </Modal>\n\n        <div className=\"browser_header text-white\">\n          <div>\n            <span className=\"icon icon-Share submenu-icon\" />\n\n            <h3 className=\"d-inline-block\">Flow Details</h3>\n\n            <img\n              src={edit}\n              alt=\"starlify\"\n              className=\"edit\"\n              onClick={() => this.modalToggle(this, this.props.flowDetails)}\n            />\n            <img\n              src={closeIcon}\n              alt=\"starlify\"\n              className=\"system-down-icon browser_close\"\n              onClick={() => this.close(\"flowDetail\")}\n            />\n          </div>\n        </div>\n        <div className=\"browser_wrapper browser_body\">\n          <VerticalScrollbars\n            style={{ height: \"calc(100vh - 120px)\" }}\n            autoHide\n          >\n            <div className=\"name m-b-20\">\n              <p className=\"text-grey m-b-0\">Name</p>\n              <p className=\"text-white\">{this.props.flowDetails.name}</p>\n            </div>\n            <div className=\"support m-b-20\">\n              <p className=\"text-grey m-b-0\">Support level</p>\n              {this.props.flowDetails.supportLevel === 1 && (\n                <p className=\"text-white\">Gold</p>\n              )}\n              {this.props.flowDetails.supportLevel === 2 && (\n                <p className=\"text-white\">Platinum</p>\n              )}\n              {this.props.flowDetails.supportLevel === 3 && (\n                <p className=\"text-white\">Silver</p>\n              )}\n            </div>\n            <div className=\"url m-b-20\">\n              <p className=\"text-grey m-b-0\">Documentation URL</p>\n              <p className=\"text-white\">\n                {this.props.flowDetails.custom\n                  ? this.props.flowDetails.custom.documentationUrl\n                  : \"\"}\n              </p>\n            </div>\n            <div className=\"desc m-b-20\">\n              <p className=\"text-grey m-b-0\">Description</p>\n              <p className=\"text-white\">{this.props.flowDetails.description}</p>\n            </div>\n            <div className=\"system m-b-20\">\n              <p className=\"text-grey m-b-0\">Source</p>\n              {this.props.flowDetails._links\n                ? this.props.flowDetails._links\n                    .filter(links => links.rel === \"SOURCE\")\n                    .map(source => {\n                      return <p className=\"text-white\">{source.title}</p>;\n                    })\n                : \"\"}\n            </div>\n            <div className=\"target m-b-20\">\n              <p className=\"text-grey m-b-0\">Target</p>\n              {this.props.flowDetails._links\n                ? this.props.flowDetails._links\n                    .filter(links => links.rel === \"TARGET\")\n                    .map(target => {\n                      return <p className=\"text-white\">{target.title}</p>;\n                    })\n                : \"\"}\n            </div>\n            <div className=\"technical row\">\n              <div className=\"technical-header col-md-12\">\n                <span className=\"text-white m-b-0\">Technical</span>\n              </div>\n              <div className=\"technical-body col-md-12\">\n                <ul className=\"row\">\n                  <li className=\"col-md-4\">Consumer</li>\n                  <li className=\"col-md-3\">Provider</li>\n                  <li className=\"col-md-3\">Service</li>\n                </ul>\n                {this.props.invocations.map((invocation, i) => {\n                  return (\n                    <ul className=\"row\">\n                      <li className=\"col-md-4 text-white\">\n                        {\" \"}\n                        {invocation.consumer}\n                      </li>\n                      <li className=\"col-md-3 text-white\">\n                        {invocation.provider}\n                      </li>\n                      <li className=\"col-md-3 text-white word-wrap\">\n                        {\" \"}\n                        {invocation.service}\n                      </li>\n                    </ul>\n                  );\n                })}\n\n                <div className=\"sequence\">\n                  <img\n                    src={sequence}\n                    alt=\"starlify\"\n                    className=\"d-block mx-auto\"\n                  />\n                </div>\n              </div>\n            </div>\n          </VerticalScrollbars>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails,\n    invocations: state.system.invocations,\n    activeModelId: state.model.modelId\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FlowDetails);\n"]},"metadata":{},"sourceType":"module"}