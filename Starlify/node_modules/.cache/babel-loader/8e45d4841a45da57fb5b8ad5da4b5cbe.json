{"ast":null,"code":"import _slicedToArray from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/components/pages/Login.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport '../../scss/components/pages/Login.scss';\nimport { UserContext } from \"../../contexts\";\nimport LocalStorage from \"../../lib/utilities/storage/LocalStorage\";\nconst USERS = {\n  'gustav.rosen@entiros.se': {\n    name: 'Gustav',\n    email: 'gustav.rosen@entiros.se',\n    image: 'https://ca.slack-edge.com/T6QSPHLSK-U6QLSQ4DU-g196fc70d39e-150'\n  },\n  'christoffer.lantz@entiros.se': {\n    name: 'Christoffer',\n    email: 'christoffer.lantz@entiros.se',\n    image: 'https://ca.slack-edge.com/T6QSPHLSK-U8TE1A2F7-8ba35cb01ad5-150'\n  },\n  'axel.bostrom@entiros.se': {\n    name: 'Axel',\n    email: 'axel.bostrom@entiros.se',\n    image: 'https://ca.slack-edge.com/T6QSPHLSK-U9037NW10-ff1f732fa448-150'\n  },\n  'andreas.jaderberg@entiros.se': {\n    name: 'Andreas',\n    email: 'andreas.jaderberg@entiros.se',\n    image: 'https://ca.slack-edge.com/T6QSPHLSK-UA73Z7KL4-gfc8a4ee775c-150'\n  }\n};\nexport default function Login() {\n  let userContext = useContext(UserContext);\n\n  let _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      profilePicture = _useState2[0],\n      setProfilePicture = _useState2[1];\n\n  let _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setUsername = _useState4[1];\n\n  let _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  const TRANSLUCENT_IMAGE = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n\n  const onSubmit = e => {\n    e.preventDefault();\n    let user = USERS[username] || null;\n\n    if (user) {\n      LocalStorage.setItem('user', user);\n      LocalStorage.setItem('is-authenticated', true);\n      userContext.setUser(user);\n      userContext.setAuthenticated(true);\n    }\n  };\n\n  const onImageError = () => setProfilePicture(TRANSLUCENT_IMAGE);\n\n  useEffect(() => {\n    let user = USERS[username] || {\n      image: TRANSLUCENT_IMAGE\n    };\n    setProfilePicture(user.image);\n  }, [username]);\n  useEffect(() => {\n    let profile = LocalStorage.getItem('user', {});\n    setUsername(profile.email);\n    setProfilePicture(profile.image); // not necessary since we have the useEffect above which listens for username change. Might reduce \"blinking\" though since we wait for next render on useEffect\n  }, []);\n  return React.createElement(\"div\", {\n    id: \"app\",\n    \"data-page\": \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: profilePicture,\n    className: 'profile-image circle-image',\n    onError: onImageError,\n    alt: \"Avatar\",\n    width: 150,\n    height: 150,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: 'form-control',\n    type: 'text',\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    placeholder: 'Login',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: 'form-control',\n    type: 'password',\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    placeholder: 'Password',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    href: '/',\n    className: 'forgot-password',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Forgot password?\"), React.createElement(\"button\", {\n    type: 'submit',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Sign in\")), React.createElement(\"span\", {\n    className: 'hr',\n    text: \"Or sign in with\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/components/pages/Login.js"],"names":["React","useEffect","useState","useContext","UserContext","LocalStorage","USERS","name","email","image","Login","userContext","profilePicture","setProfilePicture","username","setUsername","password","setPassword","TRANSLUCENT_IMAGE","onSubmit","e","preventDefault","user","setItem","setUser","setAuthenticated","onImageError","profile","getItem","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useContext} from 'react';\r\nimport '../../scss/components/pages/Login.scss';\r\nimport {UserContext} from \"../../contexts\";\r\nimport LocalStorage from \"../../lib/utilities/storage/LocalStorage\";\r\nconst USERS = {\r\n    'gustav.rosen@entiros.se': {\r\n        name: 'Gustav',\r\n        email: 'gustav.rosen@entiros.se',\r\n        image: 'https://ca.slack-edge.com/T6QSPHLSK-U6QLSQ4DU-g196fc70d39e-150'\r\n    },\r\n    'christoffer.lantz@entiros.se': {\r\n        name: 'Christoffer',\r\n        email: 'christoffer.lantz@entiros.se',\r\n        image: 'https://ca.slack-edge.com/T6QSPHLSK-U8TE1A2F7-8ba35cb01ad5-150'\r\n    },\r\n    'axel.bostrom@entiros.se': {\r\n        name: 'Axel',\r\n        email: 'axel.bostrom@entiros.se',\r\n        image: 'https://ca.slack-edge.com/T6QSPHLSK-U9037NW10-ff1f732fa448-150'\r\n    },\r\n    'andreas.jaderberg@entiros.se': {\r\n        name: 'Andreas',\r\n        email: 'andreas.jaderberg@entiros.se',\r\n        image: 'https://ca.slack-edge.com/T6QSPHLSK-UA73Z7KL4-gfc8a4ee775c-150'\r\n    }\r\n};\r\nexport default function Login() {\r\n    let userContext = useContext(UserContext);\r\n    let [profilePicture, setProfilePicture] = useState('');\r\n    let [username, setUsername] = useState('');\r\n    let [password, setPassword] = useState('');\r\n    const TRANSLUCENT_IMAGE = `data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7`;\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        let user = USERS[username] || null;\r\n\r\n        if (user) {\r\n            LocalStorage.setItem('user', user);\r\n            LocalStorage.setItem('is-authenticated', true);\r\n            userContext.setUser(user);\r\n            userContext.setAuthenticated(true);\r\n        }\r\n    };\r\n    const onImageError = () => setProfilePicture(TRANSLUCENT_IMAGE);\r\n    useEffect(() => {\r\n        let user = USERS[username] || {image: TRANSLUCENT_IMAGE};\r\n        setProfilePicture(user.image);\r\n    }, [username]);\r\n    useEffect(() => {\r\n        let profile = LocalStorage.getItem('user', {});\r\n        setUsername(profile.email);\r\n        setProfilePicture(profile.image); // not necessary since we have the useEffect above which listens for username change. Might reduce \"blinking\" though since we wait for next render on useEffect\r\n    }, []);\r\n    return <div id=\"app\" data-page=\"login\">\r\n        <div className=\"login\">\r\n            <form onSubmit={onSubmit}>\r\n                <img src={profilePicture} className={'profile-image circle-image'} onError={onImageError} alt=\"Avatar\" width={150} height={150}/>\r\n                <input className={'form-control'} type={'text'} value={username} onChange={e => setUsername(e.target.value)} placeholder={'Login'}/>\r\n                <input className={'form-control'} type={'password'} value={password} onChange={e => setPassword(e.target.value)} placeholder={'Password'}/>\r\n                <a href={'/'} className={'forgot-password'}>Forgot password?</a>\r\n                <button type={'submit'}>Sign in</button>\r\n            </form>\r\n            <span className={'hr'} text=\"Or sign in with\" />\r\n        </div>\r\n    </div>;\r\n}"]},"metadata":{},"sourceType":"module"}