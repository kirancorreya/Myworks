{"ast":null,"code":"var _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/ModalAcess.js\";\nimport React, { Component } from \"react\";\nimport { Modal, ModalBody, Col, Row, Collapse } from \"reactstrap\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport { connect } from \"react-redux\";\n\nclass ModalAcess extends Component {\n  constructor(props) {\n    super(props);\n\n    this.modalToggle = () => {\n      this.setState({\n        popup: !this.state.popup,\n        eventType: null\n      });\n    };\n\n    this.selectModel = e => {\n      this.setState({\n        modeluri: e.target.value,\n        collapse_id: null\n      });\n      fetch(process.env.REACT_APP_API + e.target.value).then(res => res.json()).then(result => {\n        this.setState({\n          model: result,\n          accessEditor: true\n        });\n      }).catch(error => {\n        this.setState({\n          model: null,\n          accessEditor: false\n        });\n      });\n      var modelArr = e.target.value.split(\"/\");\n      this.fetchModelGrants(modelArr[2]);\n      this.fetchDivisions(this.props.domain);\n    };\n\n    this.fetchModelGrants = modelId => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/grant/\" + modelId).then(res => res.json()).then(json => {\n        this.setState({\n          grants: json\n        });\n      });\n    };\n\n    this.fetchDivisions = domainId => {\n      return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId).then(res => res.json()).then(result => {\n        var org = result.organisation;\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + org.id + \"/organisations\").then(res => res.json()).then(json => {\n          var organisations = json;\n\n          for (var i = 0; i < organisations.length; i++) {\n            let org = organisations[i];\n            org[\"teams\"] = [];\n\n            if (org._links && org._links.length !== 0 && this.state.model !== null) {\n              this.fetchTeams(domainId, this.state.model.id, org.id).then(teams => org[\"teams\"] = teams);\n            }\n          }\n\n          this.setState({\n            divisions: organisations\n          });\n          return true;\n        });\n      });\n    };\n\n    this.fetchTeams = (domainId, modelId, orgid) => {\n      return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/organisations\").then(res => res.json()).then(json => {\n        var organisations = json;\n\n        for (var i = 0; i < organisations.length; i++) {\n          let org = organisations[i];\n          org[\"persons\"] = [];\n\n          if (org._links && org._links.length !== 0) {\n            this.fetchPersons(domainId, modelId, org.id).then(persons => org[\"persons\"] = persons);\n          }\n        }\n\n        return organisations;\n      });\n    };\n\n    this.fetchPersons = (domainId, modelId, orgid) => {\n      return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/persons\").then(res => res.json()).then(persons => {\n        return persons;\n      });\n    };\n\n    this.editAccess = e => {\n      this.state.divisions.forEach(division => {\n        if (division.id === e.target.id) {\n          this.setState({\n            editDivison: division\n          });\n        }\n      });\n      this.setState({\n        eventType: \"access-edit\",\n        popup: true\n      });\n    };\n\n    this.onGrantChange = (e, grantid) => {\n      if (e.target.checked) {\n        this.addGrantAccess(this.props.domain, this.state.model.id, grantid, e.target.value);\n      } else {\n        this.deleteGrantAccess(this.props.domain, this.state.model.id, grantid, e.target.value);\n      }\n    };\n\n    this.addGrantAccess = (domainId, modelId, grantid, value) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, {\n        method: \"POST\"\n      }).then(result => {\n        this.fetchModelGrants(this.state.model.id);\n      }).catch(error => {});\n    };\n\n    this.deleteGrantAccess = (domainId, modelId, grantid, value) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, {\n        method: \"DELETE\"\n      }).then(result => {\n        this.fetchModelGrants(this.state.model.id);\n      }).catch(error => {});\n    };\n\n    this.close = this.close.bind(this);\n    this.fetchDivisions = this.fetchDivisions.bind(this);\n    this.fetchTeams = this.fetchTeams.bind(this);\n    this.fetchPersons = this.fetchPersons.bind(this);\n    this.state = {\n      modeluri: \"\",\n      model: null,\n      models: [],\n      divisions: [],\n      grants: [],\n      editDivison: null,\n      accessEditor: false,\n      popup: false,\n      eventType: null,\n      collapse_id: null\n    };\n  }\n\n  close(type) {\n    this.props.close(type);\n  }\n\n  componentDidMount() {\n    var domainID = this.props.domain;\n\n    if (domainID !== \"\") {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainID).then(res => res.json()).then(result => {\n        this.setState({\n          models: result.links\n        });\n      }).catch(error => {\n        this.setState({\n          models: []\n        });\n      });\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    const domain = newProps.domain,\n          type = newProps.type;\n\n    switch (type) {\n      case \"SELECTDOMAIN\":\n        this.setState({\n          modeluri: \"\",\n          model: null,\n          models: [],\n          divisions: [],\n          grants: [],\n          accessEditor: false,\n          popup: false,\n          eventType: null\n        });\n\n        if (domain !== \"\") {\n          fetch(process.env.REACT_APP_API + \"/domain/\" + domain).then(res => res.json()).then(result => {\n            this.setState({\n              models: result.links\n            });\n          }).catch(error => {\n            this.setState({\n              models: []\n            });\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const models = this.state.models;\n\n    if (this.state.editDivison !== null) {\n      var eDRead = false;\n      var eDWrite = false;\n      this.state.grants.forEach(item => {\n        if (item.principal.id === this.state.editDivison.id) {\n          eDRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n          eDWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n        }\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.popup,\n      toggle: this.modalToggle,\n      className: \"selectModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, this.state.eventType === \"model-choose\" && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"d-inline-block modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Choose model\"), React.createElement(\"button\", {\n      className: \"btn grey-btn modal-top-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \" Done \", React.createElement(\"img\", {\n      src: check,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }), \" \"), React.createElement(\"p\", {\n      className: \"text-white text-size-16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Choose which model you want to edit\"), React.createElement(\"div\", {\n      className: \"model-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, models.map((item, i) => React.createElement(\"li\", {\n      key: \"models_\" + i,\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: \"8\",\n      className: \"modelName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \" \", item.title, \" \"), React.createElement(Col, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"mod_opt\" + i,\n      name: \"modelUri\",\n      value: item.uri,\n      checked: this.state.modeluri === item.uri,\n      onChange: this.selectModel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"mod_opt\" + i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }))))))), this.state.eventType === \"access-edit\" && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"d-inline-block modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \" Edit access for \", this.state.editDivison.name, \" \"), React.createElement(\"button\", {\n      className: \"btn grey-btn modal-top-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \" Done \", React.createElement(\"img\", {\n      src: check,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), \" \"), React.createElement(\"div\", {\n      className: \"modalAccesListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"division_model\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_body_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"modelListWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"modelListHeader text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \" Read \"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \" Write \"), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"modelListbody text-white divisionListItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      className: \"divisionitemtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-chevron-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), \" \", this.state.editDivison.name, \" \"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      className: \"regular-checkbox\",\n      checked: eDRead ? \"checked\" : \"\",\n      id: \"read_\" + this.state.editDivison.id,\n      defaultValue: \"RESOURCE_READ\",\n      onChange: e => {\n        this.onGrantChange(e, this.state.editDivison.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"read_\" + this.state.editDivison.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      className: \"regular-checkbox\",\n      checked: eDWrite ? \"checked\" : \"\",\n      id: \"write_\" + this.state.editDivison.id,\n      defaultValue: \"RESOURCE_ANY\",\n      onChange: e => {\n        this.onGrantChange(e, this.state.editDivison.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"write_\" + this.state.editDivison.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      className: \"teamListWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, this.state.editDivison.teams.map((team, i) => {\n      var tmRead = false;\n      var tmWrite = false;\n      this.state.grants.forEach(item => {\n        if (item.principal.id === team.id) {\n          tmRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n          tmWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n        }\n      });\n      return React.createElement(\"li\", {\n        key: \"tm_key\" + i,\n        className: \"teamListItem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"5\",\n        className: \"teamitemtext\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \" \", team.name, \" \"), React.createElement(Col, {\n        sm: \"3\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        className: \"regular-checkbox\",\n        checked: tmRead ? \"checked\" : \"\",\n        id: \"read_\" + team.id,\n        defaultValue: \"RESOURCE_READ\",\n        onChange: e => {\n          this.onGrantChange(e, team.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"read_\" + team.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"3\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        className: \"regular-checkbox\",\n        checked: tmWrite ? \"checked\" : \"\",\n        id: \"write_\" + team.id,\n        defaultValue: \"RESOURCE_ANY\",\n        onChange: e => {\n          this.onGrantChange(e, team.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"write_\" + team.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      })), React.createElement(\"ul\", {\n        className: \"developerListWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, team.persons.map((person, i) => {\n        var prRead = false;\n        var prWrite = false;\n        this.state.grants.forEach(item => {\n          if (item.principal.id === person.id) {\n            prRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n            prWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n          }\n        });\n        return React.createElement(\"li\", {\n          key: \"pr_key\" + i,\n          className: \"developerListItem\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, React.createElement(Col, {\n          sm: \"5\",\n          className: \"developeritemtext\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        }, \" \", person.name, \" \"), React.createElement(Col, {\n          sm: \"3\",\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          className: \"regular-checkbox\",\n          checked: prRead ? \"checked\" : \"\",\n          id: \"read_\" + person.id,\n          defaultValue: \"RESOURCE_READ\",\n          onChange: e => {\n            this.onGrantChange(e, person.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"read_\" + person.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        })), React.createElement(Col, {\n          sm: \"3\",\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          className: \"regular-checkbox\",\n          checked: prWrite ? \"checked\" : \"\",\n          id: \"write_\" + person.id,\n          defaultValue: \"RESOURCE_ANY\",\n          onChange: e => {\n            this.onGrantChange(e, person.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"write_\" + person.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        })), React.createElement(Col, {\n          sm: \"1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        })));\n      })));\n    })))))))))))), this.state.accessEditor === false && React.createElement(\"div\", {\n      className: \"modalAccesListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-key submenu-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, \"Models Access\"), React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon\",\n      onClick: () => this.close(\"modelAccess\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-right modelChooseWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      href: null,\n      className: \"modelChoose raleway\",\n      onClick: () => {\n        this.setState({\n          eventType: \"model-choose\",\n          popup: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, \" Choose model \"))), React.createElement(\"div\", {\n      className: \"browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center text-white m-t-65 text-size-18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, \"So you need to give access to your division, teams or developers?\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }), \"You\\u2019ve come to the right place.\"), React.createElement(\"p\", {\n      className: \"text-center text-white m-t-65 text-size-18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"Just click the Choose model button and choose what \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }), \"model you need to work in and then you can start adding \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }), \"your division, teams and developers.\"), React.createElement(\"h1\", {\n      className: \"text-center text-white m-t-65\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, \"No chosen model\"))), this.state.accessEditor === true && React.createElement(\"div\", {\n      className: \"modalAccesListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-key submenu-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, \"Models Access\"), React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon\",\n      onClick: () => this.close(\"modelAccess\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, \"Edit models access for \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, this.state.model.name)), React.createElement(\"div\", {\n      className: \"text-right modelChooseWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      href: null,\n      className: \"d-inline-block modelChoose\",\n      onClick: () => {\n        this.setState({\n          eventType: \"model-choose\",\n          popup: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, \" Change model \"))), React.createElement(\"div\", {\n      className: \"browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"division_model\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_body_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"Divisions\")), React.createElement(\"div\", {\n      className: \"browser_body_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"modelListWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"modelListHeader text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, \" Read \"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }, \" Write \"), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }))), this.state.divisions && this.state.divisions.length !== 0 && this.state.divisions.map((division, i) => {\n      var divRead = false;\n      var divWrite = false;\n      this.state.grants.forEach(item => {\n        if (item.principal.id === division.id) {\n          divRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n          divWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n        }\n      });\n      return React.createElement(\"li\", {\n        key: \"dv_key\" + i,\n        className: \"modelListbody text-white divisionListItem\",\n        onClick: () => {\n          this.setState({\n            collapse_id: division.id\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"5\",\n        className: \"divisionitemtext\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-chevron-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }), \" \", division.name, \" \"), React.createElement(Col, {\n        sm: \"3\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: divRead ? \"fas fa-check\" : \"fas fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"3\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: divWrite ? \"fas fa-check\" : \"fas fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        id: division.id,\n        className: \"fas fa-pen\",\n        onClick: this.editAccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }), \" \")), React.createElement(Collapse, {\n        isOpen: this.state.collapse_id === division.id ? true : false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"teamListWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, division.teams.map((team, i) => {\n        var tmRead = false;\n        var tmWrite = false;\n        this.state.grants.forEach(item => {\n          if (item.principal.id === team.id) {\n            tmRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n            tmWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n          }\n        });\n        return React.createElement(\"li\", {\n          key: \"tm_key\" + i,\n          className: \"teamListItem\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 456\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 457\n          },\n          __self: this\n        }, React.createElement(Col, {\n          sm: \"5\",\n          className: \"teamitemtext\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 458\n          },\n          __self: this\n        }, \" \", team.name, \" \"), React.createElement(Col, {\n          sm: \"3\",\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 459\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: tmRead ? \"fas fa-check\" : \"fas fa-times\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 460\n          },\n          __self: this\n        })), React.createElement(Col, {\n          sm: \"3\",\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 462\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: tmWrite ? \"fas fa-check\" : \"fas fa-times\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 463\n          },\n          __self: this\n        }))), React.createElement(\"ul\", {\n          className: \"developerListWrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 466\n          },\n          __self: this\n        }, team.persons.map((person, i) => {\n          var prRead = false;\n          var prWrite = false;\n          this.state.grants.forEach(item => {\n            if (item.principal.id === person.id) {\n              prRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n              prWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n            }\n          });\n          return React.createElement(\"li\", {\n            key: \"pr_key\" + i,\n            className: \"developerListItem\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 478\n            },\n            __self: this\n          }, React.createElement(Row, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 479\n            },\n            __self: this\n          }, React.createElement(Col, {\n            sm: \"5\",\n            className: \"developeritemtext\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 480\n            },\n            __self: this\n          }, \" \", person.name, \" \"), React.createElement(Col, {\n            sm: \"3\",\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 481\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: prRead ? \"fas fa-check\" : \"fas fa-times\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 482\n            },\n            __self: this\n          })), React.createElement(Col, {\n            sm: \"3\",\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 484\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: prWrite ? \"fas fa-check\" : \"fas fa-times\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 485\n            },\n            __self: this\n          }))));\n        })));\n      }))));\n    }))))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    domain: state.model.domain,\n    type: state.model.type\n  };\n}\n\nexport default connect(mapStateToProps)(ModalAcess);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/ModalAcess.js"],"names":["React","Component","Modal","ModalBody","Col","Row","Collapse","connect","ModalAcess","constructor","props","modalToggle","setState","popup","state","eventType","selectModel","e","modeluri","target","value","collapse_id","fetch","process","env","REACT_APP_API","then","res","json","result","model","accessEditor","catch","error","modelArr","split","fetchModelGrants","fetchDivisions","domain","modelId","grants","domainId","org","organisation","id","organisations","i","length","_links","fetchTeams","teams","divisions","orgid","fetchPersons","persons","editAccess","forEach","division","editDivison","onGrantChange","grantid","checked","addGrantAccess","deleteGrantAccess","method","close","bind","models","type","componentDidMount","domainID","links","componentWillReceiveProps","newProps","render","eDRead","eDWrite","item","principal","permissions","includes","check","map","title","uri","name","team","tmRead","tmWrite","person","prRead","prWrite","divRead","divWrite","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, ModalBody, Col, Row, Collapse } from \"reactstrap\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport { connect } from \"react-redux\";\n\nclass ModalAcess extends Component {\n  constructor(props) {\n    super(props);\n    this.close = this.close.bind(this);\n    this.fetchDivisions = this.fetchDivisions.bind(this);\n    this.fetchTeams = this.fetchTeams.bind(this);\n    this.fetchPersons = this.fetchPersons.bind(this);\n    this.state = {\n      modeluri: \"\",\n      model: null,\n      models: [],\n      divisions: [],\n      grants: [],\n      editDivison: null,\n      accessEditor: false,\n      popup: false,\n      eventType: null,\n      collapse_id: null\n    };\n  }\n\n  close(type) {\n    this.props.close(type);\n  }\n\n  modalToggle = () => {\n    this.setState({\n      popup: !this.state.popup,\n      eventType: null\n    });\n  };\n\n  selectModel = e => {\n    this.setState({ modeluri: e.target.value, collapse_id: null });\n    fetch(process.env.REACT_APP_API + e.target.value)\n      .then(res => res.json())\n      .then(result => {\n        this.setState({\n          model: result,\n          accessEditor: true\n        });\n      })\n      .catch(error => {\n        this.setState({\n          model: null,\n          accessEditor: false\n        });\n      });\n      var modelArr = e.target.value.split(\"/\");\n      this.fetchModelGrants(modelArr[2]);\n      this.fetchDivisions(this.props.domain);\n  };\n\n  fetchModelGrants = modelId => {\n    fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/grant/\" + modelId )\n      .then(res => res.json())\n      .then(json => {\n        this.setState({ grants: json });\n      });\n  };\n\n  fetchDivisions = domainId => {\n    return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId)\n      .then(res => res.json())\n      .then(result => {\n\n        var org = result.organisation;\n        fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + org.id + \"/organisations\" )\n        .then(res => res.json())\n        .then(json => {\n          var organisations = json;\n          for (var i = 0; i < organisations.length; i++) {\n            let org = organisations[i];\n            org[\"teams\"] = [];\n            if (org._links && org._links.length !== 0 && this.state.model !== null) {\n              this.fetchTeams(domainId, this.state.model.id, org.id).then(\n                teams => (org[\"teams\"] = teams)\n              );\n            }\n          }\n          this.setState({\n            divisions: organisations\n          });\n          return true;\n        });\n\n      });\n  };\n\n  fetchTeams = (domainId, modelId, orgid) => {\n    return fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/organisations\" )\n      .then(res => res.json())\n      .then(json => {\n        var organisations = json;\n        for (var i = 0; i < organisations.length; i++) {\n          let org = organisations[i];\n          org[\"persons\"] = [];\n          if (org._links && org._links.length !== 0) {\n            this.fetchPersons(domainId, modelId, org.id).then(\n              persons => (org[\"persons\"] = persons)\n            );\n          }\n        }\n        return organisations;\n      });\n  };\n\n  fetchPersons = (domainId, modelId, orgid) => {\n    return fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/persons\" )\n      .then(res => res.json())\n      .then(persons => {\n        return persons;\n      });\n  };\n\n  editAccess = (e) => {\n    this.state.divisions.forEach((division)=>{\n      if (division.id === e.target.id) {\n        this.setState({\n          editDivison: division\n        })\n      }\n    })\n    this.setState({\n      eventType: \"access-edit\",\n      popup: true\n    })\n  }\n\n  onGrantChange = (e, grantid) => {\n    if (e.target.checked) {\n      this.addGrantAccess( this.props.domain, this.state.model.id, grantid, e.target.value );\n    } else {\n      this.deleteGrantAccess( this.props.domain, this.state.model.id, grantid, e.target.value );\n    }\n  };\n\n  addGrantAccess = (domainId, modelId, grantid, value) => {\n    fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, { method: \"POST\" } )\n      .then(result => {\n        this.fetchModelGrants(this.state.model.id);\n      })\n      .catch(error => { });\n  };\n\n  deleteGrantAccess = (domainId, modelId, grantid, value) => {\n    fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, { method: \"DELETE\" } )\n      .then(result => {\n        this.fetchModelGrants(this.state.model.id);\n      })\n      .catch(error => { });\n  };\n\n  componentDidMount() {\n    var domainID = this.props.domain;\n    if (domainID !== \"\") {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainID)\n        .then(res => res.json())\n        .then(result => {\n          this.setState({\n            models: result.links\n          });\n        })\n        .catch(error => {\n          this.setState({ models: [] });\n        });\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { domain, type } = newProps;\n    switch (type) {\n      case \"SELECTDOMAIN\":\n        this.setState({\n          modeluri: \"\",\n          model: null,\n          models: [],\n          divisions: [],\n          grants: [],\n          accessEditor: false,\n          popup: false,\n          eventType: null\n        });\n        if (domain !== \"\") {\n          fetch(process.env.REACT_APP_API + \"/domain/\" + domain)\n            .then(res => res.json())\n            .then(result => {\n              this.setState({\n                models: result.links\n              });\n            })\n            .catch(error => {\n              this.setState({ models: [] });\n            });\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const models = this.state.models;\n    if (this.state.editDivison !== null) {\n      var eDRead = false;\n      var eDWrite = false;\n      this.state.grants.forEach((item) => {\n        if (item.principal.id === this.state.editDivison.id) {\n          eDRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n          eDWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n        }\n      });\n    }\n    return (\n      <div className=\"browser\">\n        <Modal isOpen={this.state.popup} toggle={this.modalToggle} className=\"selectModal\" >\n          <ModalBody>\n            {this.state.eventType === \"model-choose\" && (\n              <div>\n                  <h3 className=\"d-inline-block modal-title\">Choose model</h3>\n                  <button className=\"btn grey-btn modal-top-btn\" onClick={this.modalToggle}> Done <img src={check} alt=\"\" /> </button>\n                  <p className=\"text-white text-size-16\">\n                    Choose which model you want to edit\n                  </p>\n                  <div className=\"model-list\">\n                    <ul>\n                      {models.map((item, i) => (\n                        <li  key={\"models_\" + i} className=\"d-flex\">\n                          <Col md=\"8\" className=\"modelName\"> {item.title} </Col>\n                          <Col md=\"4\">\n                            <input type=\"radio\" id={\"mod_opt\"+i} name=\"modelUri\" value={item.uri} checked={this.state.modeluri === item.uri} onChange={this.selectModel} />\n                            <label htmlFor={\"mod_opt\"+i}></label>\n                            <div className=\"check\"></div>\n                          </Col>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n              </div>\n            )}\n            {this.state.eventType === \"access-edit\" &&(\n              <div>\n                  <h3 className=\"d-inline-block modal-title\"> Edit access for {this.state.editDivison.name} </h3>\n                  <button className=\"btn grey-btn modal-top-btn\" onClick={this.modalToggle}> Done <img src={check} alt=\"\" /> </button>\n                  <div className=\"modalAccesListing\">\n                    <div className=\"browser_body\">\n                      <div className=\"division_model\">\n                        <div className=\"browser_body_content\">\n                          <div>\n                            <ul className=\"modelListWrapper\">\n                              <li className=\"modelListHeader text-white\">\n                                <Row>\n                                  <Col sm=\"5\"></Col>\n                                  <Col sm=\"3\" className=\"text-center\"> Read </Col>\n                                  <Col sm=\"3\" className=\"text-center\"> Write </Col>\n                                  <Col sm=\"1\"></Col>\n                                </Row>\n                              </li>\n                              <li className=\"modelListbody text-white divisionListItem\">\n                                <Row>\n                                  <Col sm=\"5\" className=\"divisionitemtext\"><i class=\"fas fa-chevron-down\"></i> {this.state.editDivison.name} </Col>\n                                  <Col sm=\"3\" className=\"text-center\">\n                                    <input type=\"checkbox\" className=\"regular-checkbox\" checked={eDRead ? \"checked\" : \"\"} id={\"read_\" + this.state.editDivison.id} defaultValue=\"RESOURCE_READ\" onChange={e => { this.onGrantChange(e, this.state.editDivison.id); }}/>\n                                    <label htmlFor={\"read_\" + this.state.editDivison.id}></label>\n                                  </Col>\n                                  <Col sm=\"3\" className=\"text-center\">\n                                    <input type=\"checkbox\" className=\"regular-checkbox\" checked={eDWrite ? \"checked\" : \"\"} id={\"write_\" + this.state.editDivison.id} defaultValue=\"RESOURCE_ANY\" onChange={e => { this.onGrantChange(e, this.state.editDivison.id); }} />\n                                    <label htmlFor={\"write_\" + this.state.editDivison.id}></label>\n                                  </Col>\n                                  <Col sm=\"1\"></Col>\n                                </Row>\n\n                                <ul className=\"teamListWrapper\">\n                                  {\n                                    this.state.editDivison.teams.map((team, i) => {\n                                      var tmRead = false;\n                                      var tmWrite = false;\n                                      this.state.grants.forEach((item) => {\n                                        if (item.principal.id === team.id) {\n                                          tmRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n                                          tmWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n                                        }\n                                      });\n                                      return (\n                                        <li key={\"tm_key\"+i} className=\"teamListItem\">\n                                          <Row>\n                                            <Col sm=\"5\" className=\"teamitemtext\"> {team.name} </Col>\n                                            <Col sm=\"3\" className=\"text-center\">\n                                              <input type=\"checkbox\" className=\"regular-checkbox\" checked={tmRead ? \"checked\" : \"\"} id={\"read_\" + team.id} defaultValue=\"RESOURCE_READ\" onChange={e => { this.onGrantChange(e, team.id); }}/>\n                                              <label htmlFor={\"read_\" + team.id}></label>\n                                            </Col>\n                                            <Col sm=\"3\" className=\"text-center\">\n                                              <input type=\"checkbox\" className=\"regular-checkbox\" checked={tmWrite ? \"checked\" : \"\"} id={\"write_\" + team.id} defaultValue=\"RESOURCE_ANY\" onChange={e => { this.onGrantChange(e, team.id); }} />\n                                              <label htmlFor={\"write_\" + team.id}></label>\n                                            </Col>\n                                            <Col sm=\"1\"></Col>\n                                          </Row>\n                                          <ul className=\"developerListWrapper\">\n                                            {\n                                              team.persons.map((person, i) => {\n                                                var prRead = false;\n                                                var prWrite = false;\n                                                this.state.grants.forEach((item) => {\n                                                  if (item.principal.id === person.id) {\n                                                    prRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n                                                    prWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n                                                  }\n                                                });\n                                                return (\n                                                  <li key={\"pr_key\"+i} className=\"developerListItem\">\n                                                    <Row>\n                                                      <Col sm=\"5\" className=\"developeritemtext\"> {person.name} </Col>\n                                                      <Col sm=\"3\" className=\"text-center\">\n                                                        <input type=\"checkbox\" className=\"regular-checkbox\" checked={prRead ? \"checked\" : \"\"} id={\"read_\" + person.id} defaultValue=\"RESOURCE_READ\" onChange={e => { this.onGrantChange(e, person.id); }}/>\n                                                        <label htmlFor={\"read_\" + person.id}></label>\n                                                      </Col>\n                                                      <Col sm=\"3\" className=\"text-center\">\n                                                        <input type=\"checkbox\" className=\"regular-checkbox\" checked={prWrite ? \"checked\" : \"\"} id={\"write_\" + person.id} defaultValue=\"RESOURCE_ANY\" onChange={e => { this.onGrantChange(e, person.id); }}/>\n                                                        <label htmlFor={\"write_\" + person.id}></label>\n                                                      </Col>\n                                                      <Col sm=\"1\"></Col>\n                                                    </Row>\n                                                  </li>\n                                                )\n                                              })\n                                            }\n                                          </ul>\n                                        </li>\n                                      )\n                                    })\n                                  }\n                                </ul>\n\n                              </li>\n\n                            </ul>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n              </div>\n            )}\n\n          </ModalBody>\n        </Modal>\n        {this.state.accessEditor === false && (\n          <div className=\"modalAccesListing\">\n            <div className=\"browser_header text-white\">\n              <div>\n                <i className=\"fas fa-key submenu-icon\"></i>\n                <h3 className=\"d-inline-block\">Models Access</h3>\n                <i\n                  className=\"fas fa-times system-down-icon\"\n                  onClick={() => this.close(\"modelAccess\")}\n                />\n              </div>\n              <div className=\"text-right modelChooseWrapper\">\n                <button href={null} className=\"modelChoose raleway\" onClick={() => { this.setState({ eventType: \"model-choose\", popup: true }); }} > Choose model </button>\n              </div>\n            </div>\n            <div className=\"browser_body\">\n              <p className=\"text-center text-white m-t-65 text-size-18\">\n                So you need to give access to your division, teams or\n                developers?\n                <br />\n                You’ve come to the right place.\n              </p>\n              <p className=\"text-center text-white m-t-65 text-size-18\">\n                Just click the Choose model button and choose what <br />\n                model you need to work in and then you can start adding <br />\n                your division, teams and developers.\n              </p>\n              <h1 className=\"text-center text-white m-t-65\">No chosen model</h1>\n            </div>\n          </div>\n        )}\n\n        {this.state.accessEditor === true && (\n          <div className=\"modalAccesListing\">\n            <div className=\"browser_header text-white\">\n              <div>\n                <i className=\"fas fa-key submenu-icon\"></i>\n                <h3 className=\"d-inline-block\">Models Access</h3>\n                <i\n                  className=\"fas fa-times system-down-icon\"\n                  onClick={() => this.close(\"modelAccess\")}\n                />\n              </div>\n              <p>\n                Edit models access for <span>{this.state.model.name}</span>\n              </p>\n              <div className=\"text-right modelChooseWrapper\">\n                <button href={null} className=\"d-inline-block modelChoose\" onClick={() => { this.setState({ eventType: \"model-choose\", popup: true }); }} > Change model </button>\n              </div>\n            </div>\n            <div className=\"browser_body\">\n              <div className=\"division_model\">\n                <div className=\"browser_body_header text-white\">\n                  <h4 className=\"d-inline-block\">Divisions</h4>\n                </div>\n                <div className=\"browser_body_content\">\n                  <div>\n                    <ul className=\"modelListWrapper\">\n                      <li className=\"modelListHeader text-white\">\n                        <Row>\n                          <Col sm=\"5\"></Col>\n                          <Col sm=\"3\" className=\"text-center\"> Read </Col>\n                          <Col sm=\"3\" className=\"text-center\"> Write </Col>\n                          <Col sm=\"1\"></Col>\n                        </Row>\n                      </li>\n\n                      {this.state.divisions && this.state.divisions.length !== 0 && this.state.divisions.map((division, i) => {\n                          var divRead = false;\n                          var divWrite = false;\n                          this.state.grants.forEach((item) => {\n                            if (item.principal.id === division.id) {\n                              divRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n                              divWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n                            }\n                          });\n                          return (\n                            <li\n                              key={\"dv_key\"+i} className=\"modelListbody text-white divisionListItem\" onClick={()=>{this.setState({collapse_id: division.id})}}\n                            >\n                              <Row>\n                                <Col sm=\"5\" className=\"divisionitemtext\"><i class=\"fas fa-chevron-down\"></i> {division.name} </Col>\n                                <Col sm=\"3\" className=\"text-center\">\n                                  <i className={divRead ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                </Col>\n                                <Col sm=\"3\" className=\"text-center\">\n                                  <i className={divWrite ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                </Col>\n                                <Col sm=\"1\"> <i id={division.id} className=\"fas fa-pen\" onClick={this.editAccess}></i> </Col>\n                              </Row>\n\n                              <Collapse isOpen={this.state.collapse_id === division.id ? true:false}>\n                                <ul className=\"teamListWrapper\">\n                                  {\n                                    division.teams.map((team, i) => {\n                                      var tmRead = false;\n                                      var tmWrite = false;\n                                      this.state.grants.forEach((item) => {\n                                        if (item.principal.id === team.id) {\n                                          tmRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n                                          tmWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n                                        }\n                                      });\n                                      return (\n                                        <li key={\"tm_key\"+i} className=\"teamListItem\">\n                                          <Row>\n                                            <Col sm=\"5\" className=\"teamitemtext\"> {team.name} </Col>\n                                            <Col sm=\"3\" className=\"text-center\">\n                                              <i className={tmRead ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                            </Col>\n                                            <Col sm=\"3\" className=\"text-center\">\n                                              <i className={tmWrite ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                            </Col>\n                                          </Row>\n                                          <ul className=\"developerListWrapper\">\n                                            {\n                                              team.persons.map((person, i) => {\n                                                var prRead = false;\n                                                var prWrite = false;\n                                                this.state.grants.forEach((item) => {\n                                                  if (item.principal.id === person.id) {\n                                                    prRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n                                                    prWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n                                                  }\n                                                });\n                                                return (\n                                                  <li key={\"pr_key\"+i} className=\"developerListItem\">\n                                                    <Row>\n                                                      <Col sm=\"5\" className=\"developeritemtext\"> {person.name} </Col>\n                                                      <Col sm=\"3\" className=\"text-center\">\n                                                        <i className={prRead ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                                      </Col>\n                                                      <Col sm=\"3\" className=\"text-center\">\n                                                        <i className={prWrite ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                                      </Col>\n                                                    </Row>\n                                                  </li>\n                                                )\n                                              })\n                                            }\n                                          </ul>\n                                        </li>\n                                      )\n                                    })\n                                  }\n                                </ul>\n                              </Collapse>\n\n                            </li>\n                          );\n                        })}\n\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    domain: state.model.domain,\n    type: state.model.type\n  };\n}\n\nexport default connect(mapStateToProps)(ModalAcess);\n"]},"metadata":{},"sourceType":"module"}