{"ast":null,"code":"import _objectSpread from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js\";\nimport React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { fetchFlowDetils } from '../../../store/system/systemActions';\nimport { connect } from 'react-redux';\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport { Collapse, Modal, ModalBody, Tooltip, Input, Label, Button } from \"reactstrap\";\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = target => {\n      this.setState(_objectSpread({}, this.state, {\n        [target]: !this.state[target]\n      }));\n    };\n\n    this.state = {\n      selectedOption: null,\n      sourceSystems: [],\n      targetSystems: [],\n      filterOptions: [],\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\",\n        custom: {\n          \"documentationUrl\": ''\n        }\n      }\n    };\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.handleSourceChange = this.handleSourceChange.bind(this);\n    this.handleTargetChange = this.handleTargetChange.bind(this);\n    this.updateFlow = this.updateFlow.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUrlChange = this.handleUrlChange.bind(this);\n    this.addSourceSystems = this.addSourceSystems.bind(this);\n    this.addTargetSystems = this.addTargetSystems.bind(this);\n  }\n\n  handleUrlChange(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = {\n      \"documenationUrl\": event.target.value\n    };\n    this.setState({\n      formData\n    });\n    console.log(formData);\n  }\n\n  handleChange(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n    console.log(formData);\n  }\n\n  updateFlow() {\n    fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/flow/\") + this.props.activeFlow, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state.formData)\n    }).then(response => {\n      this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n      this.setState({\n        'details': this.props.flowDetails\n      });\n    }).catch(error => console.log(error));\n    this.addSourceSystems();\n    this.addTargetSystems();\n  }\n\n  addSourceSystems() {\n    this.state.sourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + '/hypermedia/network/' + this.props.activeModelId + '/flow/' + this.props.activeFlow + '/source/' + system.value, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n    });\n  }\n\n  addTargetSystems() {\n    this.state.sourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + '/hypermedia/network/' + this.props.activeModelId + '/flow/' + this.props.activeFlow + '/target/' + system.value, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n    });\n  }\n\n  handleSourceChange(option) {\n    this.setState(state => {\n      return {\n        sourceSystems: option\n      };\n    });\n  }\n\n  handleTargetChange(option) {\n    this.setState(state => {\n      return {\n        targetSystems: option\n      };\n    });\n  } //show or hide tool tip\n\n\n  //show or hide description\n  toggleDescription() {\n    this.setState(state => ({\n      collapse: !state.collapse\n    }));\n  } //closes the detail window\n\n\n  close(type) {\n    this.props.close(type);\n  } //get flow details\n\n\n  componentWillMount() {\n    this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n    this.props.flowDetails.sourceSystems.map((source, i) => {\n      this.state.sourceSystems.push({\n        'value': source.id,\n        'label': source.title\n      });\n    });\n    this.props.flowDetails.targetSystems.map((source, i) => {\n      this.state.targetSystems.push({\n        'value': source.params.id,\n        'label': source.title\n      });\n    });\n    this.setState({\n      formData: {\n        name: this.props.flowDetails.name,\n        description: this.props.flowDetails.description,\n        supportLevel: this.props.flowDetails.supportLevel,\n        custom: {\n          \"documenationUrl\": this.props.flowDetails.custom.documenationUrl\n        }\n      }\n    });\n    return fetch(process.env.REACT_APP_API + '/hypermedia/network/' + this.props.activeModelId + '/allsystems').then(res => res.json()).then(response => {\n      this.setState({\n        'systems': response\n      });\n      response.map((systems, i) => {\n        this.state.filterOptions.push({\n          'value': systems.id,\n          'label': systems.name\n        });\n      });\n    }).catch(error => console.log(error));\n  } //update flow details\n\n\n  updateFlowDetails(event) {\n    let value = event.target.value;\n\n    if ((event.key === 'Enter' || event.type === 'blur') && this.state.modal && value) {\n      event.target.value = '';\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/flow/\") + this.props.activeFlow, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          description: value\n        })\n      }).then(response => {\n        this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n        console.log(this.props.flowDetails);\n        this.setState({\n          'details': this.props.flowDetails\n        });\n      }).catch(error => console.log(error));\n    }\n  } //control right click modal\n\n\n  modalToggle(e, data) {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {}\n  }\n\n  render() {\n    const selectedOption = this.state.selectedOption;\n    var formData = this.state.formData;\n    return React.createElement(\"div\", {\n      className: \"org_browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(ContextMenu, {\n      id: \"flowdetail_right_click\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      data: {\n        itemType: 'rename'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Update\")), React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Name\"), React.createElement(Input, {\n      type: \"text\",\n      className: \"text-input\",\n      value: formData.name,\n      name: \"name\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Description\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"description\",\n      className: \"text-input\",\n      value: formData.description,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Support Level\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"supportLevel\",\n      className: \"text-input\",\n      value: formData.supportLevel,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })), React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Documetation  Level\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"custom\",\n      className: \"text-input\",\n      value: formData.custom.documenationUrl,\n      onChange: this.handleUrlChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"Source Systems\"), React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Target Systems\"), React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.updateFlow,\n      size: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"Update\"))), React.createElement(\"h3\", {\n      className: \"text-center text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Flow Details\", React.createElement(\"i\", {\n      className: \"far fa-edit\",\n      onClick: () => this.modalToggle(this, this.props.flowDetails),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon browser_close\",\n      onClick: () => this.close('flowDetail'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })), React.createElement(VerticalScrollbars, {\n      autoHide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"flow-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, this.props.flowDetails.name), React.createElement(\"i\", {\n      className: \"fas fa-chevron-down system-down-icon\",\n      onClick: this.toggleDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    })), React.createElement(Tooltip, {\n      placement: \"top\",\n      toggle: () => this.toggle(\"flow-detail-name\"),\n      isOpen: this.state[\"flow-detail-name\"],\n      autohide: false,\n      target: \"flow-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, this.props.flowDetails.id)), React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Support lvl: \", this.props.flowDetails.supportLevel)), React.createElement(Collapse, {\n      isOpen: this.state.collapse,\n      className: \"systemDetailsDisc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, this.props.flowDetails.description ? this.props.flowDetails.description : 'No Description'))), React.createElement(\"div\", {\n      className: \" row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"System\")), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, this.props.flowDetails.sourceSystems ? this.props.flowDetails.sourceSystems.map((source, i) => {\n      return React.createElement(\"li\", {\n        className: \"tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, source.title);\n    }) : ''))), React.createElement(\"div\", {\n      className: \" row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"Target\")), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, this.props.flowDetails.targetSystems ? this.props.flowDetails.targetSystems.map((target, i) => {\n      return React.createElement(\"li\", {\n        className: \"tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, target.title);\n    }) : ''))), React.createElement(\"div\", {\n      className: \"doc-url\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Documentation URL\"), React.createElement(\"p\", {\n      className: \"text-grey text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, \"https//:confluence.entiros.se/xOU90\")), React.createElement(\"div\", {\n      className: \"ob-block row m-t-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \"Flow Martix \", React.createElement(\"i\", {\n      className: \"fas fa-sync-alt  system-down-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-small text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, \"EDI 856F - Advanced Ship Notice, Shipping\"))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-small text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, \"EDI 856F - Advanced Ship Notice, Shipping\"))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, \"GIB\")), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-small text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, \"EDI 856F - Advanced Ship Notice, Shipping\"))))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails,\n    activeModelId: state.model.modelId\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlowDetails);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js"],"names":["React","Component","VerticalScrollbars","fetchFlowDetils","connect","ContextMenu","MenuItem","ContextMenuTrigger","Collapse","Modal","ModalBody","Tooltip","Input","Label","Button","FlowDetails","constructor","props","toggle","target","setState","state","selectedOption","sourceSystems","targetSystems","filterOptions","formData","name","description","supportLevel","custom","close","bind","toggleDescription","modalToggle","handleSourceChange","handleTargetChange","updateFlow","handleChange","handleUrlChange","addSourceSystems","addTargetSystems","event","value","console","log","fetch","process","env","REACT_APP_API","activeModel","activeFlow","method","headers","body","JSON","stringify","then","response","getFlowDetails","flowDetails","catch","error","map","system","i","activeModelId","option","collapse","type","componentWillMount","source","push","id","title","params","documenationUrl","res","json","systems","updateFlowDetails","key","modal","prevState","e","data","render","itemType","mapDispatchToProps","dispatch","modelId","flowId","mapStateToProps","activeSystem","model","modelUri"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { fetchFlowDetils } from '../../../store/system/systemActions'\nimport { connect } from 'react-redux';\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport { Collapse, Modal, ModalBody, Tooltip, Input, Label, Button  } from \"reactstrap\";\n\n\n\n\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      sourceSystems: [],\n      targetSystems: [],\n      filterOptions: [],\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\",\n        custom: {\"documentationUrl\" : ''}\n\n    }\n    };\n\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.handleSourceChange = this.handleSourceChange.bind(this);\n    this.handleTargetChange = this.handleTargetChange.bind(this);\n    this.updateFlow = this.updateFlow.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUrlChange = this.handleUrlChange.bind(this);\n    this.addSourceSystems = this.addSourceSystems.bind(this);\n    this.addTargetSystems = this.addTargetSystems.bind(this);\n\n  }\n\n  handleUrlChange(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = {\"documenationUrl\" : event.target.value}\n    this.setState({\n      formData\n    });\n    console.log(formData)\n}\n  handleChange(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n    console.log(formData)\n}\n\n\n  updateFlow() {\n    fetch(\n      process.env.REACT_APP_API + `${this.props.activeModel}/flow/` + this.props.activeFlow,\n      {\n        method: \"PATCH\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(this.state.formData)\n      }\n    )\n      .then(response => {\n        this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow)\n       \n        this.setState({'details': this.props.flowDetails})\n      })\n      .catch(error => console.log(error));\n      this.addSourceSystems();\n      this.addTargetSystems();\n  }\n\n  addSourceSystems() {\n    this.state.sourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + '/hypermedia/network/' + this.props.activeModelId + '/flow/' + this.props.activeFlow + '/source/' + system.value,\n        {\n          method: \"POST\",\n          headers: {\n              \"Content-Type\": \"application/json\"\n          }\n      }\n      )\n        .then(response => {\n         \n        })\n        .catch(error => console.log(error));\n    })\n    \n    \n  }\n\n  addTargetSystems() {\n    this.state.sourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + '/hypermedia/network/' + this.props.activeModelId + '/flow/' + this.props.activeFlow + '/target/' + system.value,\n        {\n          method: \"POST\",\n          headers: {\n              \"Content-Type\": \"application/json\"\n          }\n      }\n      )\n        .then(response => {\n         \n        })\n        .catch(error => console.log(error));\n    })\n    \n    \n  }\n\n  handleSourceChange(option) {\n    this.setState(state => {\n      return {\n        sourceSystems: option\n      };\n    });\n  }\n\n  handleTargetChange(option) {\n    this.setState(state => {\n      return {\n        targetSystems: option\n      };\n    });\n}\n  //show or hide tool tip\n  toggle = (target) => {\n    this.setState({\n      ...this.state,\n      [target]: !this.state[target]\n    });\n  };\n\n  //show or hide description\n  toggleDescription() {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  //closes the detail window\n  close(type) {\n    this.props.close(type);\n  }\n\n  //get flow details\n  componentWillMount() {\n    this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n    this.props.flowDetails.sourceSystems.map((source, i) => {\n      this.state.sourceSystems.push({'value' : source.id, 'label' : source.title})\n    })\n\n    this.props.flowDetails.targetSystems.map((source, i) => {\n      this.state.targetSystems.push({'value' : source.params.id, 'label' : source.title})\n    })\n    this.setState({\n      formData: { \n          name: this.props.flowDetails.name,\n          description: this.props.flowDetails.description,\n          supportLevel: this.props.flowDetails.supportLevel,\n          custom: {\"documenationUrl\" :  this.props.flowDetails.custom.documenationUrl}\n      }\n  });\n      return fetch(process.env.REACT_APP_API + '/hypermedia/network/' + this.props.activeModelId + '/allsystems')\n        .then(res => res.json())\n        .then(response => {\n          this.setState({'systems' : response})\n          response.map((systems, i) => {\n            this.state.filterOptions.push({'value' : systems.id, 'label' : systems.name})\n          })\n        })\n        .catch(error => console.log(error));\n  }\n\n  //update flow details\n  updateFlowDetails(event) {\n    let value = event.target.value;\n    if ((event.key === 'Enter' || event.type === 'blur') && this.state.modal && value) {\n      event.target.value = '';\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(\n        process.env.REACT_APP_API + `${this.props.activeModel}/flow/` + this.props.activeFlow,\n        {\n          method: \"PATCH\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify({ description: value })\n        }\n      )\n        .then(response => {\n          this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow)\n          console.log(this.props.flowDetails)\n          this.setState({'details': this.props.flowDetails})\n        })\n        .catch(error => console.log(error));\n    }\n  }\n\n\n  //control right click modal\n  modalToggle(e, data) {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n\n    }\n  }\n\n  render() {\n    const { selectedOption } = this.state;\n    var { formData } = this.state;\n    return (\n      <div className=\"org_browser\">\n        <ContextMenu id=\"flowdetail_right_click\">\n          <MenuItem data={{ itemType: 'rename' }} onClick={this.modalToggle}>\n            Update\n          </MenuItem>\n        </ContextMenu>\n        <Modal isOpen={this.state.modal} toggle={this.modalToggle} >\n          <ModalBody>\n            <div>\n              \n              <Label for=\"name\">Name</Label>\n              <Input\n                  type=\"text\"\n                  className=\"text-input\"\n                  value={formData.name}\n                  name=\"name\"\n                  onChange={this.handleChange}\n                />\n                <Label for=\"name\">Description</Label>\n              <Input\n                  type=\"text\"\n                  name=\"description\"\n                  className=\"text-input\"\n                  value={formData.description}\n                  onChange={this.handleChange}\n                />\n               <Label for=\"name\">Support Level</Label>\n              <Input\n                  type=\"text\"\n                  name=\"supportLevel\"\n                  className=\"text-input\"\n                  value={formData.supportLevel}\n                  onChange={this.handleChange}\n                /> \n            </div>\n            <Label for=\"name\">Documetation  Level</Label>\n              <Input\n                  type=\"text\"\n                  name=\"custom\"\n                  className=\"text-input\"\n                  value={formData.custom.documenationUrl}\n                  onChange={this.handleUrlChange}\n                /> \n                 <Label for=\"name\">Source Systems</Label>\n                 \n        <Label for=\"name\">Target Systems</Label>\n        \n        <Button color=\"primary\" onClick={this.updateFlow} size=\"sm\">Update</Button>\n          </ModalBody>\n        </Modal>\n        <h3 className=\"text-center text-white\">\n          Flow Details\n          <i className=\"far fa-edit\" onClick={() => this.modalToggle(this, this.props.flowDetails)}></i>\n          <i className=\"fas fa-times system-down-icon browser_close\" onClick={() => this.close('flowDetail')} />\n        </h3>\n        <VerticalScrollbars autoHide>\n          <div className=\"browser_wrapper\">\n            <div className=\"ob-block row\">\n              <div className=\"col-md-6 m-b-20\">\n                <p className=\"text-white text-left\">\n                  <span id=\"flow-detail-name\">{this.props.flowDetails.name}</span>\n\n                  <i\n                    className=\"fas fa-chevron-down system-down-icon\"\n                    onClick={this.toggleDescription}\n                  />\n                </p>\n                <Tooltip placement=\"top\" toggle={() => this.toggle(`flow-detail-name`)} isOpen={this.state[`flow-detail-name`]} autohide={false} target={`flow-detail-name`} >\n                  {this.props.flowDetails.id}\n                </Tooltip>\n\n              </div>\n              <div className=\"col-md-6 m-b-20\">\n                <p className=\"text-white text-left\">Support lvl: {this.props.flowDetails.supportLevel}</p>\n              </div>\n              <Collapse\n                isOpen={this.state.collapse}\n                className=\"systemDetailsDisc\"\n              >\n\n                  <p className=\"text-grey\">\n                    {this.props.flowDetails.description ? this.props.flowDetails.description : 'No Description'}\n                  </p>\n\n              </Collapse>\n            </div>\n\n            <div className=\" row\">\n              <div className=\"col-md-4\">\n                <p className=\"text-white text-left\">System</p>\n              </div>\n              <div className=\"col-md-8\">\n                <ul>\n                {this.props.flowDetails.sourceSystems\n                                                                ? this.props.flowDetails.sourceSystems.map((source, i) => {\n                                                                  return (\n                                                                    <li className=\"tag\">{source.title}</li>\n                                                                  )\n                                                                }):''}\n\n                </ul>\n              </div>\n            </div>\n            <div className=\" row\">\n              <div className=\"col-md-4\">\n                <p className=\"text-white text-left\">Target</p>\n              </div>\n              <div className=\"col-md-8\">\n                <ul>\n                {this.props.flowDetails.targetSystems\n                                                                ? this.props.flowDetails.targetSystems.map((target, i) => {\n                                                                  return (\n                                                                    <li className=\"tag\">{target.title}</li>\n                                                                  )\n                                                                }):''}\n                </ul>\n              </div>\n            </div>\n            <div className=\"doc-url\">\n              <p className=\"text-white text-left\">Documentation URL</p>\n              <p className=\"text-grey text-left\">\n                https//:confluence.entiros.se/xOU90\n              </p>\n            </div>\n            <div className=\"ob-block row m-t-50\">\n              <div className=\"col-md-12 m-b-20\">\n                <p className=\"text-white text-left\">\n                  Flow Martix <i className=\"fas fa-sync-alt  system-down-icon\" />\n                </p>\n              </div>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"text-small text-grey\">\n                  EDI 856F - Advanced Ship Notice, Shipping\n                </p>\n              </div>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"text-small text-grey\">\n                  EDI 856F - Advanced Ship Notice, Shipping\n                </p>\n              </div>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"tag\">GIB</p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"text-small text-grey\">\n                  EDI 856F - Advanced Ship Notice, Shipping\n                </p>\n              </div>\n            </div>\n          </div>\n        </VerticalScrollbars>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails,\n    activeModelId: state.model.modelId,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlowDetails);\n"]},"metadata":{},"sourceType":"module"}