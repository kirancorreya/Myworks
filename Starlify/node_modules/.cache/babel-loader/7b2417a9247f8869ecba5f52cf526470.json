{"ast":null,"code":"import _objectSpread from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/SystemDetails.js\";\nimport React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { fetchSystemDetils } from \"../../../store/system/systemActions\";\nimport { fetchModel } from \"../../../store/model/modelActions\";\nimport { connect } from \"react-redux\";\nimport { Collapse, Modal, ModalBody, Tooltip, Input, Label } from \"reactstrap\";\nimport edit from \"../../../_assets/icons/icons/edit.svg\";\n\nclass SystemDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = target => {\n      this.setState(_objectSpread({}, this.state, {\n        [target]: !this.state[target]\n      }));\n    };\n\n    this.systemInput = React.createRef();\n    this.serviceInput = React.createRef();\n    this.state = {\n      collapse: true,\n      systemCollapseId: false,\n      subSystemCollapseId: false,\n      modal: false,\n      editSubSystem: false,\n      details: {},\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\"\n      },\n      subsystemName: '',\n      serviceName: ''\n    };\n    this.close = this.close.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.updateSystem = this.updateSystem.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.addUiToggle = this.addUiToggle.bind(this);\n    this.textInput = React.createRef();\n    this.focus = this.focus.bind(this);\n  }\n\n  componentWillUpdate() {\n    this.focus();\n  }\n\n  focus() {\n    setTimeout(() => {\n      if (this.systemInput.current) {\n        this.systemInput.current.focus();\n      }\n\n      if (this.serviceInput.current) {\n        this.serviceInput.current.focus();\n      }\n    }, 500); // Explicitly focus the text input using the raw DOM API\n    // Note: we're accessing \"current\" to get the DOM node\n  } //manage add more system/flow text box to ui\n\n\n  addUiToggle(event, type) {\n    if (type === \"system\") {\n      this.setState(state => ({\n        systemAdd: !state.systemAdd\n      }));\n    } else if (type === \"service\") {\n      this.setState(state => ({\n        serviceAdd: !state.serviceAdd\n      }));\n    } else if (type === \"reference\") {\n      this.setState(state => ({\n        referenceAdd: !state.referenceAdd\n      }));\n    }\n  }\n\n  editfield(key, title, type) {\n    if (type === \"subsystem\") {\n      this.setState({\n        [\"subsystem-\" + key]: true\n      });\n      this.setState({\n        [\"subsystem-value-\" + key]: title\n      });\n    } else if (type === \"service\") {\n      this.setState({\n        [\"service-\" + key]: true\n      });\n      this.setState({\n        [\"service-value-\" + key]: title\n      });\n    } else if (type === \"reference\") {\n      this.setState({\n        [\"reference-\" + key]: true\n      });\n      this.setState({\n        [\"reference-value-\" + key]: title\n      });\n    }\n  }\n\n  editFieldChange(key, type, event) {\n    if (type === \"subsystem\") {\n      this.setState({\n        [\"subsystem-\" + key]: true\n      });\n      this.setState({\n        [\"subsystem-value-\" + key]: event.target.value\n      });\n    } else if (type === \"service\") {\n      this.setState({\n        [\"service-\" + key]: true\n      });\n      this.setState({\n        [\"service-value-\" + key]: event.target.value\n      });\n    } else if (type === \"reference\") {\n      this.setState({\n        [\"reference-\" + key]: true\n      });\n      this.setState({\n        [\"reference-value-\" + key]: event.target.value\n      });\n    }\n  }\n\n  updateEntity(key, uri, type) {\n    var value = \"\";\n    var id = \"\";\n\n    if (type === \"system\") {\n      let splitArray = uri.split(\"/\");\n      if (splitArray.length > 0) id = splitArray[4];\n      this.setState({\n        [\"subsystem-\" + key]: false\n      });\n      value = this.state[\"subsystem-value-\".concat(key)];\n    } else if (type === \"service\") {\n      this.setState({\n        [\"service-\" + key]: false\n      });\n      id = uri;\n      value = this.state[\"service-value-\".concat(key)];\n    } else if (type === \"reference\") {\n      id = uri;\n      this.setState({\n        [\"reference-\" + key]: false\n      });\n      value = this.state[\"reference-value-\".concat(key)];\n    }\n\n    fetch(process.env.REACT_APP_API + \"/model/\".concat(this.props.activeModelId, \"/\").concat(type, \"/\") + id, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: value\n      })\n    }).then(response => {\n      this.props.getSystems(this.props.activeModelId);\n      this.props.getSystemDetails(this.props.activeModel, this.props.activeSystem);\n    });\n  }\n\n  getAllSystems() {\n    return fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/allsystems\").then(res => res.json()).then(response => {\n      this.setState({\n        systems: response\n      });\n    }).catch(error => console.log(error));\n  } //create Sub System\n\n\n  createSubSystem() {\n    if (this.state.subsystemName) {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/system/\").concat(this.props.activeSystem, \"/system\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        return fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/system/\") + responseJson.id, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: this.state.subsystemName\n          })\n        }).then(response => {\n          this.setState({\n            'subsystemName': ''\n          });\n          this.props.getSystems(this.props.activeModelId);\n          this.props.getSystemDetails(this.props.activeModel, this.props.activeSystem);\n        });\n      });\n    }\n  } //create service\n\n\n  createService(event) {\n    if (this.state.serviceName) {\n      fetch(process.env.REACT_APP_API + \"/model/\".concat(this.props.activeModelId, \"/system/\").concat(this.props.activeSystem, \"/service\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        return fetch(process.env.REACT_APP_API + \"/model/\".concat(this.props.activeModelId, \"/service/\") + responseJson.id, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: this.state.serviceName\n          })\n        }).then(response => {\n          this.setState({\n            'serviceName': ''\n          });\n          this.props.getSystems(this.props.activeModelId);\n          this.props.getSystemDetails(this.props.activeModel, this.props.activeSystem);\n        });\n      });\n    }\n  } //create reference\n\n\n  createReference(event) {\n    let value = event.target.value;\n\n    if ((event.key === \"Enter\" || event.type === \"blur\") && value && this.state.serviceId) {\n      event.target.value = \"\";\n      fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/system/\").concat(this.props.activeSystem, \"/reference/\").concat(this.state.serviceId), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: value\n        })\n      }).then(response => response.json()).then(responseJson => {\n        return fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/reference/\") + responseJson.id, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(response => {\n          this.props.getSystems(this.props.activeModelId);\n          this.props.getSystemDetails(this.props.activeModel, this.props.activeSystem);\n          this.getAllSystems();\n        });\n      });\n    }\n  } //Delete sub system\n\n\n  getSubSystemId(Uri, type) {\n    let splitArray = Uri.split(\"/\");\n\n    if (splitArray.length > 0) {\n      this.deleteEntity(splitArray[4]);\n    }\n  } //Delete entity\n\n\n  deleteEntity(id) {\n    return fetch(process.env.REACT_APP_API + \"/model/\".concat(this.props.activeModelId, \"/modeled/\").concat(id), {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      this.props.getSystems(this.props.activeModelId);\n      this.props.getSystemDetails(this.props.activeModel, this.props.activeSystem);\n    });\n  } //get systems and services list for adding new reference\n\n\n  getSystemService(event) {\n    let parents = this.state.systems;\n    let parent = parents.filter(parent => parent.name === event.target.value);\n    if (parent) this.setState({\n      servicesList: parent[0].services\n    });\n  }\n\n  handleChange(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  serviceHandleChange(event) {\n    this.setState({\n      serviceId: event.target.value\n    });\n  }\n\n  addHandleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n    console.log(event.target.name);\n    console.log(event.target.value);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.activeSystem !== nextProps.activeSystem) this.props.getSystemDetails(this.props.activeModel, nextProps.activeSystem);\n  }\n\n  componentWillMount() {\n    this.props.getSystemDetails(this.props.activeModel, this.props.activeSystem);\n    this.getAllSystems();\n  }\n\n  updateSystem() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n    fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/system/\") + this.props.systemDetails.id, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state.formData)\n    }).then(response => this.props.getSystemDetails(this.props.activeModel, this.props.systemDetails.id)).catch(error => console.log(error));\n  }\n\n  toggleDescription() {\n    this.setState(state => ({\n      collapse: !state.collapse\n    }));\n  } //Closes the system details section\n\n\n  close(menu, type) {\n    this.props.close(menu, type);\n  } //control right click modal\n\n\n  modalToggle(e, data) {\n    this.setState({\n      formData: {\n        name: this.props.systemDetails.name,\n        description: this.props.systemDetails.description\n      }\n    });\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n      this.setState({\n        details: {\n          description: data.description\n        }\n      });\n    }\n  }\n\n  render() {\n    var _this$state = this.state,\n        formData = _this$state.formData,\n        systems = _this$state.systems;\n    return React.createElement(\"div\", {\n      className: \"org_browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_wrapper system-full-edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"org-selector col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left float-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, \"Edit System Details\"), React.createElement(\"button\", {\n      className: \"btn grey-btn done-btn float-right\",\n      onClick: this.updateSystem.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-check-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }), \" Done\"))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-8 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"system-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }, \"Name\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"name\",\n      className: \"text-input\",\n      value: formData.name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, \"Description\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"description\",\n      className: \"text-input\",\n      value: formData.description || \"\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"ob-block row mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-white text-left mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, \"Sub systems\", \" \", !this.state.systemAdd && React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon round-button\",\n      id: \"system\",\n      onClick: e => {\n        this.addUiToggle(e, \"system\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }), this.state.systemAdd && React.createElement(\"div\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447\n      },\n      __self: this\n    }, \" \", React.createElement(\"div\", {\n      className: \"bullet-line w-100 green-bullet extra-add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"text-input form-control text-grey adding-text\",\n      type: \"text\",\n      id: \"system\",\n      ref: this.systemInput,\n      value: this.state.subsystemName,\n      onChange: this.addHandleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"round-button\",\n      onClick: e => {\n        this.addUiToggle(e, \"system\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-check\",\n      onClick: this.createSubSystem.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    })))), this.props.systemDetails.subsystemLinks ? this.props.systemDetails.subsystemLinks.map((subsystem, i) => {\n      return React.createElement(\"div\", {\n        className: \"text-white text-left mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bullet-line text-grey green-bullet w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, !this.state[\"subsystem-\".concat(i)] && React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, subsystem.title), this.state[\"subsystem-\".concat(i)] && React.createElement(React.Fragment, null, React.createElement(\"input\", {\n        className: \"text-input form-control text-grey adding-text\",\n        type: \"text\",\n        id: \"system\",\n        onChange: this.editFieldChange.bind(this, i, \"subsystem\"),\n        value: this.state[\"subsystem-value-\".concat(i)],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }))), this.state[\"subsystem-\".concat(i)] && React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        onClick: this.updateEntity.bind(this, i, subsystem.uri, \"system\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507\n        },\n        __self: this\n      })), !this.state[\"subsystem-\".concat(i)] && React.createElement(React.Fragment, null, React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-pencil-alt\",\n        onClick: this.editfield.bind(this, i, subsystem.title, \"subsystem\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\",\n        onClick: this.getSubSystemId.bind(this, subsystem.uri),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      })))));\n    }) : \"\")), React.createElement(\"div\", {\n      className: \"ob-block row mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-white text-left mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555\n      },\n      __self: this\n    }, \"Services\", \" \", !this.state.serviceAdd && React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon round-button\",\n      id: \"system\",\n      onClick: e => {\n        this.addUiToggle(e, \"service\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    }), this.state.serviceAdd && React.createElement(\"div\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bullet-line w-100 blue-bullet extra-add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"text-input form-control text-grey adding-text\",\n      type: \"text\",\n      id: \"system\",\n      ref: this.serviceInput,\n      name: \"serviceName\",\n      onChange: this.addHandleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"round-button\",\n      onClick: e => {\n        this.addUiToggle(e, \"service\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-check\",\n      onClick: this.createService.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585\n      },\n      __self: this\n    })))), this.props.systemDetails.services ? this.props.systemDetails.services.map((service, i) => {\n      return React.createElement(\"div\", {\n        className: \"text-white text-left mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bullet-line text-grey green-bullet w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596\n        },\n        __self: this\n      }, !this.state[\"service-\".concat(i)] && React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 598\n        },\n        __self: this\n      }, service.name), this.state[\"service-\".concat(i)] && React.createElement(React.Fragment, null, React.createElement(\"input\", {\n        className: \"text-input form-control text-grey adding-text\",\n        type: \"text\",\n        id: \"service\",\n        onChange: this.editFieldChange.bind(this, i, \"service\"),\n        value: this.state[\"service-value-\".concat(i)],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603\n        },\n        __self: this\n      }))), this.state[\"service-\".concat(i)] && React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        onClick: this.updateEntity.bind(this, i, service.id, \"service\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620\n        },\n        __self: this\n      })), !this.state[\"service-\".concat(i)] && React.createElement(React.Fragment, null, React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-pencil-alt\",\n        onClick: this.editfield.bind(this, i, service.name, \"service\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 645\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\",\n        onClick: this.deleteEntity.bind(this, service.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 646\n        },\n        __self: this\n      })))));\n    }) : \"\")), React.createElement(\"div\", {\n      className: \"ob-block row mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 666\n      },\n      __self: this\n    }, \"References\", \" \", !this.state.referenceAdd && React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon round-button\",\n      id: \"system\",\n      onClick: e => {\n        this.addUiToggle(e, \"reference\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669\n      },\n      __self: this\n    })), this.state.referenceAdd && React.createElement(\"div\", {\n      className: \" w-100 no-bullet extra-add mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 680\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682\n      },\n      __self: this\n    }, \"Create new reference\"), React.createElement(\"div\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mr-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 685\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"text-input no-border\",\n      type: \"select\",\n      name: \"select\",\n      onChange: this.getSystemService.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 686\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692\n      },\n      __self: this\n    }, \"Systems\"), this.state.systems ? systems.map((system, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: system.name,\n        id: system.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 696\n        },\n        __self: this\n      }, system.name);\n    }) : \"\")), React.createElement(\"div\", {\n      className: \"mr-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"text-input no-border\",\n      type: \"select\",\n      name: \"select\",\n      id: \"exampleSelect\",\n      onChange: this.serviceHandleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 709\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716\n      },\n      __self: this\n    }, \"Service\"), this.state.servicesList ? this.state.servicesList.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720\n        },\n        __self: this\n      }, item.name);\n    }) : \"\")), React.createElement(\"div\", {\n      className: \"mr-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 728\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"text-input mt-0 no-border\",\n      type: \"text\",\n      name: \"text\",\n      id: \"example\",\n      placeholder: \"Add New Reference\",\n      onBlur: this.createReference.bind(this),\n      onKeyDown: this.createReference.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 729\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 739\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"round-button mt-2\",\n      onClick: e => {\n        this.addUiToggle(e, \"reference\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 740\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 746\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 753\n      },\n      __self: this\n    }, this.props.systemDetails.references ? this.props.systemDetails.references.map((reference, i) => {\n      return React.createElement(\"div\", {\n        className: \"text-white text-left mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 758\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 759\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bullet-line text-grey arrow-bullet w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 760\n        },\n        __self: this\n      }, !this.state[\"reference-\".concat(i)] && React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 762\n        },\n        __self: this\n      }, reference.name), this.state[\"reference-\".concat(i)] && React.createElement(React.Fragment, null, React.createElement(\"input\", {\n        className: \"text-input form-control text-grey adding-text\",\n        type: \"text\",\n        id: \"service\",\n        onChange: this.editFieldChange.bind(this, i, \"reference\"),\n        value: this.state[\"reference-value-\".concat(i)],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 767\n        },\n        __self: this\n      }))), this.state[\"reference-\".concat(i)] && React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 784\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        onClick: this.updateEntity.bind(this, i, reference.id, \"reference\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 785\n        },\n        __self: this\n      })), !this.state[\"reference-\".concat(i)] && React.createElement(React.Fragment, null, React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 799\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-pencil-alt\",\n        onClick: this.editfield.bind(this, i, reference.name, \"reference\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 800\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"action-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 810\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\",\n        onClick: this.deleteEntity.bind(this, reference.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 811\n        },\n        __self: this\n      })))));\n    }) : \"\"))))), React.createElement(\"h3\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 833\n      },\n      __self: this\n    }, \"System Details\", React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon browser_close\",\n      onClick: () => this.close(\"systemDetail\", \"menuDetail\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 835\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: edit,\n      alt: \"starlify\",\n      className: \"edit\",\n      onClick: () => this.modalToggle(this, this.props.systemDetails),\n      style: {\n        marginLeft: \"15px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 839\n      },\n      __self: this\n    })), React.createElement(VerticalScrollbars, {\n      autoHide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 848\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 849\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"org-selector\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 850\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 851\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 853\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 854\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 855\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"system-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 856\n      },\n      __self: this\n    }, this.props.systemDetails.name, React.createElement(Tooltip, {\n      className: \"tooltip-custom\",\n      placement: \"top\",\n      toggle: () => this.toggle(\"system-detail-name\"),\n      isOpen: this.state[\"system-detail-name\"],\n      autohide: false,\n      target: \"system-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 858\n      },\n      __self: this\n    }, this.props.systemDetails.id)), React.createElement(\"i\", {\n      className: \"fas fa-chevron-down system-down-icon\",\n      onClick: this.toggleDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 876\n      },\n      __self: this\n    }), React.createElement(Collapse, {\n      isOpen: this.state.collapse,\n      className: \"systemDetailsDisc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 877\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 881\n      },\n      __self: this\n    }, this.props.systemDetails.description ? this.props.systemDetails.description : \"No Description\"))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 889\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 890\n      },\n      __self: this\n    }, \"Sub systems\"), this.props.systemDetails.subsystemLinks ? this.props.systemDetails.subsystemLinks.map((subsystem, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"d-flex w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 895\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 896\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 897\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"subsystemCircle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 898\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 899\n        },\n        __self: this\n      }, subsystem.title))));\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 908\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 909\n      },\n      __self: this\n    }, \"Services\"), this.props.systemDetails.services ? this.props.systemDetails.services.map((services, i) => {\n      return React.createElement(\"div\", {\n        key: services.id,\n        className: \"d-flex w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 913\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 914\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 915\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"serviceCircle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 916\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        id: \"service-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 918\n        },\n        __self: this\n      }, services.name, React.createElement(Tooltip, {\n        className: \"tooltip-custom\",\n        placement: \"top\",\n        toggle: () => this.toggle(\"service-\".concat(i)),\n        isOpen: this.state[\"service-\".concat(i)],\n        autohide: false,\n        target: \"service-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 920\n        },\n        __self: this\n      }, services.id)))));\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 938\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 939\n      },\n      __self: this\n    }, \"References\"), this.props.systemDetails.references ? this.props.systemDetails.references.map((references, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"d-flex w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 943\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 944\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 945\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"referenceArrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 946\n        },\n        __self: this\n      }, \"\\u2192\"), React.createElement(\"span\", {\n        id: \"reference-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 948\n        },\n        __self: this\n      }, references.name, \" \", React.createElement(Tooltip, {\n        placement: \"top\",\n        className: \"tooltip-custom\",\n        toggle: () => this.toggle(\"reference-\".concat(i)),\n        isOpen: this.state[\"reference-\".concat(i)],\n        autohide: false,\n        target: \"reference-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 950\n        },\n        __self: this\n      }, references.id)))));\n    }) : \"\"))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getSystemDetails: (modelId, systemId) => {\n      dispatch(fetchSystemDetils(modelId, systemId));\n    },\n    getSystems: modelId => {\n      dispatch(fetchModel(modelId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeModel: state.model.modelUri,\n    activeModelId: state.model.modelId,\n    systemDetails: state.system.systemDetails,\n    type: state.system.type\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SystemDetails);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/SystemDetails.js"],"names":["React","Component","VerticalScrollbars","fetchSystemDetils","fetchModel","connect","Collapse","Modal","ModalBody","Tooltip","Input","Label","SystemDetails","constructor","props","toggle","target","setState","state","systemInput","createRef","serviceInput","collapse","systemCollapseId","subSystemCollapseId","modal","editSubSystem","details","formData","name","description","supportLevel","subsystemName","serviceName","close","bind","toggleDescription","modalToggle","updateSystem","handleChange","addUiToggle","textInput","focus","componentWillUpdate","setTimeout","current","event","type","systemAdd","serviceAdd","referenceAdd","editfield","key","title","editFieldChange","value","updateEntity","uri","id","splitArray","split","length","fetch","process","env","REACT_APP_API","activeModelId","method","headers","body","JSON","stringify","then","response","getSystems","getSystemDetails","activeModel","activeSystem","getAllSystems","res","json","systems","catch","error","console","log","createSubSystem","responseJson","createService","createReference","serviceId","getSubSystemId","Uri","deleteEntity","getSystemService","parents","parent","filter","servicesList","services","serviceHandleChange","addHandleChange","componentWillReceiveProps","nextProps","componentWillMount","prevState","systemDetails","menu","e","data","render","subsystemLinks","map","subsystem","i","service","system","item","references","reference","edit","marginLeft","mapDispatchToProps","dispatch","modelId","systemId","mapStateToProps","model","modelUri"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { fetchSystemDetils } from \"../../../store/system/systemActions\";\nimport { fetchModel } from \"../../../store/model/modelActions\";\nimport { connect } from \"react-redux\";\nimport {\n  Collapse,\n  Modal,\n  ModalBody,\n  Tooltip,\n  Input,\n  Label\n} from \"reactstrap\";\nimport edit from \"../../../_assets/icons/icons/edit.svg\";\n\nclass SystemDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.systemInput = React.createRef();\n    this.serviceInput = React.createRef();\n    this.state = {\n      collapse: true,\n      systemCollapseId: false,\n      subSystemCollapseId: false,\n      modal: false,\n      editSubSystem: false,\n      details: {},\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\"\n      },\n      subsystemName : '',\n      serviceName : ''\n    };\n    this.close = this.close.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.updateSystem = this.updateSystem.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.addUiToggle = this.addUiToggle.bind(this);\n    this.textInput = React.createRef();\n    this.focus = this.focus.bind(this);\n  }\n  componentWillUpdate(){\n    this.focus()\n }\n  focus() {\n    setTimeout( () => {\n      if(this.systemInput.current){\n        this.systemInput.current.focus();\n      }\n      if(this.serviceInput.current){\n        this.serviceInput.current.focus();\n      }\n      \n  }, 500);\n    \n    // Explicitly focus the text input using the raw DOM API\n    // Note: we're accessing \"current\" to get the DOM node\n    \n    \n  }\n\n  //manage add more system/flow text box to ui\n  addUiToggle(event, type) {\n    if (type === \"system\") {\n      this.setState(state => ({ systemAdd: !state.systemAdd }));\n     \n    } else if (type === \"service\") {\n      this.setState(state => ({ serviceAdd: !state.serviceAdd }));\n    } else if (type === \"reference\") {\n      this.setState(state => ({ referenceAdd: !state.referenceAdd }));\n    }\n  }\n\n  editfield(key, title, type) {\n    if (type === \"subsystem\") {\n      this.setState({ [\"subsystem-\" + key]: true });\n      this.setState({ [\"subsystem-value-\" + key]: title });\n    } else if (type === \"service\") {\n      this.setState({ [\"service-\" + key]: true });\n      this.setState({ [\"service-value-\" + key]: title });\n    } else if (type === \"reference\") {\n      this.setState({ [\"reference-\" + key]: true });\n      this.setState({ [\"reference-value-\" + key]: title });\n    }\n  }\n\n  editFieldChange(key, type, event) {\n    if (type === \"subsystem\") {\n      this.setState({ [\"subsystem-\" + key]: true });\n      this.setState({ [\"subsystem-value-\" + key]: event.target.value });\n    } else if (type === \"service\") {\n      this.setState({ [\"service-\" + key]: true });\n      this.setState({ [\"service-value-\" + key]: event.target.value });\n    } else if (type === \"reference\") {\n      this.setState({ [\"reference-\" + key]: true });\n      this.setState({ [\"reference-value-\" + key]: event.target.value });\n    }\n  }\n\n  updateEntity(key, uri, type) {\n    var value = \"\";\n    var id = \"\";\n    if (type === \"system\") {\n      let splitArray = uri.split(\"/\");\n      if (splitArray.length > 0) id = splitArray[4];\n      this.setState({ [\"subsystem-\" + key]: false });\n      value = this.state[`subsystem-value-${key}`];\n    } else if (type === \"service\") {\n      this.setState({ [\"service-\" + key]: false });\n      id = uri;\n      value = this.state[`service-value-${key}`];\n    } else if (type === \"reference\") {\n      id = uri;\n      this.setState({ [\"reference-\" + key]: false });\n      value = this.state[`reference-value-${key}`];\n    }\n\n    fetch(\n      process.env.REACT_APP_API +\n      `/model/${this.props.activeModelId}/${type}/` +\n      id,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ name: value })\n      }\n    ).then(response => {\n      this.props.getSystems(this.props.activeModelId);\n      this.props.getSystemDetails(\n        this.props.activeModel,\n        this.props.activeSystem\n      );\n    });\n  }\n\n  getAllSystems() {\n    return fetch(\n      process.env.REACT_APP_API +\n      \"/hypermedia/network/\" +\n      this.props.activeModelId +\n      \"/allsystems\"\n    )\n      .then(res => res.json())\n      .then(response => {\n        this.setState({ systems: response });\n      })\n      .catch(error => console.log(error));\n  }\n\n  //create Sub System\n  createSubSystem() {\n    if(this.state.subsystemName) {\n      fetch(\n        process.env.REACT_APP_API +\n        `/hypermedia/network/${this.props.activeModelId}/system/${this.props.activeSystem}/system`,\n        { method: \"POST\", headers: { \"Content-Type\": \"application/json\" } }\n      )\n        .then(response => response.json())\n        .then(responseJson => {\n          return fetch(\n            process.env.REACT_APP_API +\n            `/hypermedia/network/${this.props.activeModelId}/system/` +\n            responseJson.id,\n            {\n              method: \"PATCH\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({ name: this.state.subsystemName })\n            }\n          ).then(response => {\n            this.setState({'subsystemName' : ''})\n            this.props.getSystems(this.props.activeModelId);\n            this.props.getSystemDetails(\n              this.props.activeModel,\n              this.props.activeSystem\n            );\n          });\n        });\n      }\n  }\n\n  //create service\n  createService(event) {\n    if(this.state.serviceName) {\n      fetch(\n        process.env.REACT_APP_API +\n        `/model/${this.props.activeModelId}/system/${this.props.activeSystem}/service`,\n        { method: \"POST\", headers: { \"Content-Type\": \"application/json\" } }\n      )\n        .then(response => response.json())\n        .then(responseJson => {\n          return fetch(\n            process.env.REACT_APP_API +\n            `/model/${this.props.activeModelId}/service/` +\n            responseJson.id,\n            {\n              method: \"PATCH\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({ name: this.state.serviceName })\n            }\n          ).then(response => {\n            this.setState({'serviceName' : ''})\n            this.props.getSystems(this.props.activeModelId);\n            this.props.getSystemDetails(\n              this.props.activeModel,\n              this.props.activeSystem\n            );\n          });\n        });\n      }\n  }\n\n  //create reference\n  createReference(event) {\n    let value = event.target.value;\n    if (\n      (event.key === \"Enter\" || event.type === \"blur\") &&\n      value &&\n      this.state.serviceId\n    ) {\n      event.target.value = \"\";\n      fetch(\n        process.env.REACT_APP_API +\n        `${this.props.activeModel}/system/${this.props.activeSystem}/reference/${this.state.serviceId}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({ name: value })\n        }\n      )\n        .then(response => response.json())\n        .then(responseJson => {\n          return fetch(\n            process.env.REACT_APP_API +\n            `${this.props.activeModel}/reference/` +\n            responseJson.id,\n\n            {\n              method: \"PATCH\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({ name: value })\n            }\n          ).then(response => {\n            this.props.getSystems(this.props.activeModelId);\n            this.props.getSystemDetails(\n              this.props.activeModel,\n              this.props.activeSystem\n            );\n            this.getAllSystems();\n          });\n        });\n    }\n  }\n\n  //Delete sub system\n  getSubSystemId(Uri, type) {\n    let splitArray = Uri.split(\"/\");\n    if (splitArray.length > 0) {\n      this.deleteEntity(splitArray[4]);\n    }\n  }\n\n  //Delete entity\n  deleteEntity(id) {\n    return fetch(\n      process.env.REACT_APP_API +\n      `/model/${this.props.activeModelId}/modeled/${id}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }\n    ).then(response => {\n      this.props.getSystems(this.props.activeModelId);\n      this.props.getSystemDetails(\n        this.props.activeModel,\n        this.props.activeSystem\n      );\n    });\n  }\n  //get systems and services list for adding new reference\n  getSystemService(event) {\n    let parents = this.state.systems;\n    let parent = parents.filter(parent => parent.name === event.target.value);\n    if (parent) this.setState({ servicesList: parent[0].services });\n  }\n  handleChange(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  serviceHandleChange(event) {\n    this.setState({ serviceId: event.target.value });\n  }\n\n  addHandleChange(event) {\n    this.setState({[event.target.name] : event.target.value});\n    console.log(event.target.name)\n    console.log(event.target.value)\n  }\n\n  toggle = target => {\n    this.setState({\n      ...this.state,\n      [target]: !this.state[target]\n    });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.activeSystem !== nextProps.activeSystem)\n      this.props.getSystemDetails(\n        this.props.activeModel,\n        nextProps.activeSystem\n      );\n  }\n\n  componentWillMount() {\n    this.props.getSystemDetails(\n      this.props.activeModel,\n      this.props.activeSystem\n    );\n    this.getAllSystems();\n  }\n\n  updateSystem() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n    fetch(\n      process.env.REACT_APP_API +\n      `/hypermedia/network/${this.props.activeModelId}/system/` +\n      this.props.systemDetails.id,\n      {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.state.formData)\n      }\n    )\n      .then(response =>\n        this.props.getSystemDetails(\n          this.props.activeModel,\n          this.props.systemDetails.id\n        )\n      )\n      .catch(error => console.log(error));\n  }\n\n  toggleDescription() {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  //Closes the system details section\n  close(menu, type) {\n    this.props.close(menu, type);\n  }\n\n  //control right click modal\n  modalToggle(e, data) {\n    this.setState({\n      formData: {\n        name: this.props.systemDetails.name,\n        description: this.props.systemDetails.description\n      }\n    });\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n      this.setState({\n        details: { description: data.description }\n      });\n    }\n  }\n\n  render() {\n    var { formData, systems } = this.state;\n    return (\n      <div className=\"org_browser\">  \n        <Modal isOpen={this.state.modal} toggle={this.modalToggle}>\n          <ModalBody>\n            <div className=\"browser_wrapper system-full-edit\">\n              <div className=\"row\">\n                <div className=\"org-selector col-md-12\">\n                  <p className=\"text-white text-left float-left\">\n                    Edit System Details\n                </p>\n                  <button className=\"btn grey-btn done-btn float-right\"  onClick={this.updateSystem.bind(this)}>\n                    <i className=\"fas fa-check-circle\"></i> Done\n                </button>\n                </div>\n              </div>\n              <div className=\"ob-block row\">\n                <div className=\"col-md-8 m-b-20\">\n                  <p className=\"text-white text-left\">\n                    <span id=\"system-detail-name\">\n                      <Label for=\"name\">Name</Label>\n                      <Input\n                        type=\"text\"\n                        name=\"name\"\n                        className=\"text-input\"\n                        value={formData.name}\n                        onChange={this.handleChange}\n                      />\n                    </span>\n                  </p>\n\n                  <p className=\"text-white\">\n                    <Label for=\"name\">Description</Label>\n                    <Input\n                      type=\"text\"\n                      name=\"description\"\n                      className=\"text-input\"\n                      value={formData.description || \"\"}\n                      onChange={this.handleChange}\n                    />\n                  </p>\n                </div>\n              </div>\n              <div className=\"ob-block row mb-3\">\n                <div className=\"col-md-8\">\n                  <div className=\"text-white text-left mb-2\">\n                    Sub systems{\" \"}\n                    {!this.state.systemAdd && (\n                      <i\n                        className=\"fas fa-plus system-down-icon round-button\"\n                        id=\"system\"\n                        onClick={e => {\n                          this.addUiToggle(e, \"system\");\n                        }}\n                      />\n                    )}\n                    {this.state.systemAdd && (\n                      <div className=\"d-flex\">\n                        {\" \"}\n                        <div className=\"bullet-line w-100 green-bullet extra-add\">\n                          <input\n                            className=\"text-input form-control text-grey adding-text\"\n                            type=\"text\"\n                            id=\"system\"\n                            ref={this.systemInput}\n                            value = {this.state.subsystemName}\n                            onChange = {this.addHandleChange.bind(this)}\n                            \n                          />\n                        \n                        </div>\n                        <div\n                          className=\"round-button\"\n                          onClick={e => {\n                            this.addUiToggle(e, \"system\");\n                          }}\n                        >\n                          <i className=\"fas fa-check\" onClick={this.createSubSystem.bind(this)}></i>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n\n\n                  {this.props.systemDetails.subsystemLinks\n                    ? this.props.systemDetails.subsystemLinks.map(\n                      (subsystem, i) => {\n                        return (\n                          <div className=\"text-white text-left mb-2\">\n                            <div className=\"d-flex\">\n                              <div className=\"bullet-line text-grey green-bullet w-100\">\n                                {!this.state[`subsystem-${i}`] && (\n                                  <span>{subsystem.title}</span>\n                                )}\n\n                                {this.state[`subsystem-${i}`] && (\n                                  <>\n                                    <input\n                                      className=\"text-input form-control text-grey adding-text\"\n                                      type=\"text\"\n                                      id=\"system\"\n                                      onChange={this.editFieldChange.bind(\n                                        this,\n                                        i,\n                                        \"subsystem\"\n                                      )}\n                                      value={this.state[`subsystem-value-${i}`]}\n                                    />\n\n                                  </>\n                                )}\n                              </div>\n\n                              {this.state[`subsystem-${i}`] && (\n                                <span className=\"action-button\">\n\n                                  <i\n                                    className=\"fas fa-check\"\n                                    onClick={this.updateEntity.bind(\n                                      this,\n                                      i,\n                                      subsystem.uri,\n                                      \"system\"\n                                    )}\n                                  ></i>\n\n                                </span>\n                              )}\n                              {!this.state[`subsystem-${i}`] && (\n                                <>\n                                  <span className=\"action-button\">\n                                    <i\n                                      className=\"fas fa-pencil-alt\"\n                                      onClick={this.editfield.bind(\n                                        this,\n                                        i,\n                                        subsystem.title,\n                                        \"subsystem\"\n                                      )}\n                                    ></i>\n                                  </span>\n                                  <span className=\"action-button\">\n                                    <i\n                                      className=\"fas fa-trash\"\n                                      onClick={this.getSubSystemId.bind(\n                                        this,\n                                        subsystem.uri\n                                      )}\n                                    ></i>\n                                  </span>\n                                </>\n                              )}\n                            </div>\n                          </div>\n\n\n                        );\n                      }\n                    )\n                    : \"\"}\n                </div>\n              </div>\n              <div className=\"ob-block row mb-3\">\n                <div className=\"col-md-8\">\n                  <div className=\"text-white text-left mb-2\">\n                    Services{\" \"}\n                    {!this.state.serviceAdd && (\n                      <i\n                        className=\"fas fa-plus system-down-icon round-button\"\n                        id=\"system\"\n                        onClick={e => {\n                          this.addUiToggle(e, \"service\");\n                        }}\n                      />\n                    )}\n                    {this.state.serviceAdd && (\n                      <div className=\"d-flex\">\n                        <div className=\"bullet-line w-100 blue-bullet extra-add\">\n                          <input\n                            className=\"text-input form-control text-grey adding-text\"\n                            type=\"text\"\n                            id=\"system\"\n                            ref={this.serviceInput}\n                            name = \"serviceName\"\n                            onChange={this.addHandleChange.bind(this)}\n                          />\n\n                        </div>\n                        <div\n                          className=\"round-button\"\n                          onClick={e => {\n                            this.addUiToggle(e, \"service\");\n                          }}\n                        >\n                          <i className=\"fas fa-check\" onClick={this.createService.bind(this)}/>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  {this.props.systemDetails.services\n                    ? this.props.systemDetails.services.map((service, i) => {\n                      return (\n                        <div className=\"text-white text-left mb-2\">\n                          <div className=\"d-flex\">\n                            <div className=\"bullet-line text-grey green-bullet w-100\">\n                              {!this.state[`service-${i}`] && (\n                                <span>{service.name}</span>\n                              )}\n\n                              {this.state[`service-${i}`] && (\n                                <>\n                                  <input\n                                    className=\"text-input form-control text-grey adding-text\"\n                                    type=\"text\"\n                                    id=\"service\"\n                                    onChange={this.editFieldChange.bind(\n                                      this,\n                                      i,\n                                      \"service\"\n                                    )}\n                                    value={this.state[`service-value-${i}`]}\n                                  />\n\n                                </>\n                              )}\n                            </div>\n                            {this.state[`service-${i}`] && (\n                              <span className=\"action-button\">\n                                <i\n                                  className=\"fas fa-check\"\n                                  onClick={this.updateEntity.bind(\n                                    this,\n                                    i,\n                                    service.id,\n                                    \"service\"\n                                  )}\n                                ></i>\n                              </span>\n                            )}\n\n                            {!this.state[`service-${i}`] && (\n                              <>\n                                <span className=\"action-button\">\n                                  <i\n                                    className=\"fas fa-pencil-alt\"\n                                    onClick={this.editfield.bind(\n                                      this,\n                                      i,\n                                      service.name,\n                                      \"service\"\n                                    )}\n                                  ></i>\n                                </span>\n                                <span className=\"action-button\">\n                                  <i\n                                    className=\"fas fa-trash\"\n                                    onClick={this.deleteEntity.bind(\n                                      this,\n                                      service.id\n                                    )}\n                                  ></i>\n                                </span>\n                              </>\n                            )}\n                          </div>\n                        </div>\n\n                      );\n                    })\n                    : \"\"}\n                </div>\n              </div>\n              <div className=\"ob-block row mb-3\">\n                <div className=\"col-md-12\">\n                  <p className=\"text-white text-left\">\n                    References{\" \"}\n                    {!this.state.referenceAdd && (\n                      <i\n                        className=\"fas fa-plus system-down-icon round-button\"\n                        id=\"system\"\n                        onClick={e => {\n                          this.addUiToggle(e, \"reference\");\n                        }}\n                      />\n                    )}\n                  </p>\n\n                  {this.state.referenceAdd && (\n                    <div className=\" w-100 no-bullet extra-add mb-3\">\n                      \n                      <div className=\"text-grey\">Create new reference</div>\n\n                      <div className=\"d-flex\">\n                        <div className=\"mr-2\">\n                          <Input\n                            className=\"text-input no-border\"\n                            type=\"select\"\n                            name=\"select\"\n                            onChange={this.getSystemService.bind(this)}\n                          >\n                            <option>Systems</option>\n                            {this.state.systems\n                              ? systems.map((system, i) => {\n                                return (\n                                  <option\n                                    key={i}\n                                    value={system.name}\n                                    id={system.id}\n                                  >\n                                    {system.name}\n                                  </option>\n                                );\n                              })\n                              : \"\"}\n                          </Input>\n                        </div>\n                        <div className=\"mr-2\">\n                          <Input\n                            className=\"text-input no-border\"\n                            type=\"select\"\n                            name=\"select\"\n                            id=\"exampleSelect\"\n                            onChange={this.serviceHandleChange.bind(this)}\n                          >\n                            <option>Service</option>\n                            {this.state.servicesList\n                              ? this.state.servicesList.map((item, i) => {\n                                return (\n                                  <option key={i} value={item.id}>\n                                    {item.name}\n                                  </option>\n                                );\n                              })\n                              : \"\"}\n                          </Input>\n                        </div>\n                        <div className=\"mr-2\">\n                          <Input\n                            className=\"text-input mt-0 no-border\"\n                            type=\"text\"\n                            name=\"text\"\n                            id=\"example\"\n                            placeholder=\"Add New Reference\"\n                            onBlur={this.createReference.bind(this)}\n                            onKeyDown={this.createReference.bind(this)}\n                          />\n                        </div>\n                        <div>\n                          <div\n                            className=\"round-button mt-2\"\n                            onClick={e => {\n                              this.addUiToggle(e, \"reference\");\n                            }}\n                          >\n                            <i className=\"fas fa-check\" />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n                <div className=\"col-md-8\">\n                  {this.props.systemDetails.references\n                    ? this.props.systemDetails.references.map(\n                      (reference, i) => {\n                        return (\n                          <div className=\"text-white text-left mb-2\">\n                            <div className=\"d-flex\">\n                              <div className=\"bullet-line text-grey arrow-bullet w-100\">\n                                {!this.state[`reference-${i}`] && (\n                                  <span>{reference.name}</span>\n                                )}\n\n                                {this.state[`reference-${i}`] && (\n                                  <>\n                                    <input\n                                      className=\"text-input form-control text-grey adding-text\"\n                                      type=\"text\"\n                                      id=\"service\"\n                                      onChange={this.editFieldChange.bind(\n                                        this,\n                                        i,\n                                        \"reference\"\n                                      )}\n                                      value={this.state[`reference-value-${i}`]}\n                                    />\n\n                                  </>\n                                )}\n\n                              </div>\n                              {this.state[`reference-${i}`] && (\n                                <span className=\"action-button\">\n                                  <i\n                                    className=\"fas fa-check\"\n                                    onClick={this.updateEntity.bind(\n                                      this,\n                                      i,\n                                      reference.id,\n                                      \"reference\"\n                                    )}\n                                  ></i>\n                                </span>\n                              )}\n\n                              {!this.state[`reference-${i}`] && (\n                                <>\n                                  <span className=\"action-button\">\n                                    <i\n                                      className=\"fas fa-pencil-alt\"\n                                      onClick={this.editfield.bind(\n                                        this,\n                                        i,\n                                        reference.name,\n                                        \"reference\"\n                                      )}\n                                    ></i>\n                                  </span>\n                                  <span className=\"action-button\">\n                                    <i\n                                      className=\"fas fa-trash\"\n                                      onClick={this.deleteEntity.bind(\n                                        this,\n                                        reference.id\n                                      )}\n                                    ></i>\n                                  </span>\n                                </>\n                              )}\n                            </div>\n                          </div>\n\n                        );\n                      }\n                    )\n                    : \"\"}\n                </div>\n              </div>\n            </div>\n          </ModalBody>\n        </Modal>\n        <h3 className=\"text-white\">\n          System Details\n          <i\n            className=\"fas fa-times system-down-icon browser_close\"\n            onClick={() => this.close(\"systemDetail\", \"menuDetail\")}\n          />\n          <img\n              src={edit}\n              alt=\"starlify\"\n              className=\"edit\"\n            onClick={() => this.modalToggle(this, this.props.systemDetails)}\n            style={{ marginLeft: \"15px\"}}\n            />\n        </h3>\n\n        <VerticalScrollbars autoHide>\n          <div className=\"browser_wrapper\">\n            <div className=\"org-selector\">\n              <p className=\"text-white text-left\"></p>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-6 m-b-20\">\n                <p className=\"text-white text-left\">\n                  <span id=\"system-detail-name\">\n                    {this.props.systemDetails.name}\n                    <Tooltip\n                      className=\"tooltip-custom\"\n                      placement=\"top\"\n                      toggle={() => this.toggle(\"system-detail-name\")}\n                      isOpen={this.state[\"system-detail-name\"]}\n                      autohide={false}\n                      target={\"system-detail-name\"}\n                    >\n                      {this.props.systemDetails.id}\n                    </Tooltip>\n                  </span>\n\n                  <i\n                    className=\"fas fa-chevron-down system-down-icon\"\n                    onClick={this.toggleDescription}\n                  />\n                </p>\n              </div>\n              <div className=\"col-md-6 m-b-20\"></div>\n              <Collapse\n                isOpen={this.state.collapse}\n                className=\"systemDetailsDisc\"\n              >\n                <p className=\"text-grey\">\n                  {this.props.systemDetails.description\n                    ? this.props.systemDetails.description\n                    : \"No Description\"}\n                </p>\n              </Collapse>\n            </div>\n\n            <div className=\"ob-block row\">\n              <p className=\"text-white text-left col-md-12\">Sub systems</p>\n              {this.props.systemDetails.subsystemLinks\n                ? this.props.systemDetails.subsystemLinks.map(\n                  (subsystem, i) => {\n                    return (\n                      <div key={i} className=\"d-flex w-100\">\n                        <div className=\"col-md-12\">\n                          <p className=\"text-grey text-left\">\n                            <span className=\"subsystemCircle\"></span>\n                            <span>{subsystem.title}</span>\n                          </p>\n                        </div>\n                      </div>\n                    );\n                  }\n                )\n                : \"\"}\n            </div>\n            <div className=\"ob-block row\">\n              <p className=\"text-white text-left col-md-12\">Services</p>\n              {this.props.systemDetails.services\n                ? this.props.systemDetails.services.map((services, i) => {\n                  return (\n                    <div key={services.id} className=\"d-flex w-100\">\n                      <div className=\"col-md-12\">\n                        <p className=\"text-grey text-left\">\n                          <span className=\"serviceCircle\" />\n\n                          <span id={`service-${i}`}>\n                            {services.name}\n                            <Tooltip\n                              className=\"tooltip-custom\"\n                              placement=\"top\"\n                              toggle={() => this.toggle(`service-${i}`)}\n                              isOpen={this.state[`service-${i}`]}\n                              autohide={false}\n                              target={`service-${i}`}\n                            >\n                              {services.id}\n                            </Tooltip>\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })\n                : \"\"}\n            </div>\n            <div className=\"ob-block row\">\n              <p className=\"text-white text-left col-md-12\">References</p>\n              {this.props.systemDetails.references\n                ? this.props.systemDetails.references.map((references, i) => {\n                  return (\n                    <div key={i} className=\"d-flex w-100\">\n                      <div className=\"col-md-12\">\n                        <p className=\"text-grey text-left\">\n                          <span className=\"referenceArrow\">→</span>\n\n                          <span id={`reference-${i}`}>\n                            {references.name}{\" \"}\n                            <Tooltip\n                              placement=\"top\"\n                              className=\"tooltip-custom\"\n                              toggle={() => this.toggle(`reference-${i}`)}\n                              isOpen={this.state[`reference-${i}`]}\n                              autohide={false}\n                              target={`reference-${i}`}\n                            >\n                              {references.id}\n                            </Tooltip>\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })\n                : \"\"}\n            </div>\n          </div>\n        </VerticalScrollbars>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getSystemDetails: (modelId, systemId) => {\n      dispatch(fetchSystemDetils(modelId, systemId));\n    },\n    getSystems: modelId => {\n      dispatch(fetchModel(modelId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeModel: state.model.modelUri,\n    activeModelId: state.model.modelId,\n    systemDetails: state.system.systemDetails,\n    type: state.system.type\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SystemDetails);\n"]},"metadata":{},"sourceType":"module"}