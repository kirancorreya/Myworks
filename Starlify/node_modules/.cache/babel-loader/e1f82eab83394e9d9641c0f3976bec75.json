{"ast":null,"code":"import _objectSpread from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/components/pages/Main.js\";\nimport React, { useEffect, useState, useContext, Suspense, useReducer, useRef } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport '../../scss/components/pages/Main.scss';\nimport { BrowserContext, BrowserProvider, ModelContext } from \"../../contexts\";\nimport fetchJSONDataFromURL from \"../../lib/utilities/fetchJSONDataFromURL\";\nimport graphReducer, { defaultGraphReducer } from \"../../lib/utilities/reducers/graphReducer\";\nimport arrayReducer, { defaultArrayReducer } from \"../../lib/utilities/reducers/arrayReducer\";\nimport ResizeableDiv from \"../ResizeableDiv\";\nimport Profile from \"../Profile\";\nimport useToggleList from \"../../hooks/useToggleList\";\nimport Search from \"../Search\";\nimport LocalStorage from \"../../lib/utilities/storage/LocalStorage\";\nimport TaggerEditor from \"./Main/TaggerEditor\";\nimport toggleFullscreen from \"../../lib/utilities/toggleFullscreen\";\nimport Graph from \"./Main/Graph\";\nimport GraphData from './graphs/contractual';\nimport useCounter from \"../../hooks/useCounter\";\nimport { ReactComponent as UserLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/user.svg\";\nimport { ReactComponent as UsersLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/users.svg\";\nimport { ReactComponent as GlobeLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/globe.svg\";\nimport { ReactComponent as InboxLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/inbox.svg\";\nimport { ReactComponent as InboxFullLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/inbox-full.svg\";\nimport { ReactComponent as SaveLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/save.svg\";\nimport { ReactComponent as ShareLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/share.svg\";\nimport { ReactComponent as ServiceLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/service.svg\";\nimport { ReactComponent as ReferenceLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/reference.svg\";\nimport { ReactComponent as SubSystemLogo } from \"@svgr/webpack?-svgo,+ref!../Menu/sub-system.svg\";\nimport ErrorBoundary from \"../ErrorBoundary\";\nimport Developer from \"../Developer\";\nimport { ForceGraph2D } from 'react-force-graph';\n\nfunction Organisation(props) {\n  return React.createElement(ResizeableDiv, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Organisation\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Org selector\"), React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"div\", {\n    className: \"divisions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    \"data-active\": 'true',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Division\"))), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Team\"), React.createElement(\"div\", {\n    className: \"teams\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Team\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    alt: \"lol\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Team\"))))), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Developer\"), React.createElement(\"div\", {\n    className: \"developers\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    img: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    img: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    img: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    img: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    img: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    img: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    img: \"https://robohash.org/YOUR-TEXT.png?size=50x50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }))))));\n}\n\nfunction OrganisationDetails(props) {\n  return React.createElement(ResizeableDiv, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Organisation Details\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"Stats\"), React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"detail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Division\"), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Follow\"), React.createElement(\"div\", {\n    className: \"details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore\")), React.createElement(\"div\", {\n    className: \"infos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: 'fas fa-inbox',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: 'number',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"23\")), React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: 'fas fa-share-alt',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: 'number',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"23\")))), React.createElement(\"div\", {\n    className: \"detail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Team\"), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Follow\"), React.createElement(\"div\", {\n    className: \"details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore\")), React.createElement(\"div\", {\n    className: \"infos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: 'fas fa-inbox',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: 'number',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"23\")), React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: 'fas fa-share-alt',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: 'number',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"23\")))), React.createElement(\"div\", {\n    className: \"detail developer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, \"Developer\"), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"Follow\"), React.createElement(\"div\", {\n    className: \"details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, React.createElement(Developer, {\n    firstName: 'Name',\n    lastName: 'Surname',\n    img: null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore\")), React.createElement(\"div\", {\n    className: \"infos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: 'fas fa-inbox',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: 'number',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \"23\")), React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: 'fas fa-share-alt',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: 'number',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, \"23\")))))));\n}\n\nasync function loadSystems(model, type, id) {\n  try {\n    let url = \"/starlify/resources/model/\".concat(model, \"/\").concat(type.toLowerCase(), \"/\").concat(id);\n    let response = await fetchJSONDataFromURL(url);\n    let newRows = [];\n\n    if (response.subSystems) {\n      newRows = newRows.concat(response.subSystems);\n    }\n\n    if (response.providedEndpoints) {//newRows = newRows.concat(response.providedEndpoints);\n    }\n\n    if (response.consumedEndpoints) {//newRows = newRows.concat(response.consumedEndpoints);\n    }\n\n    return newRows;\n  } catch (e) {\n    return [];\n  } finally {}\n}\n\nfunction useBoolean(defaultValue) {\n  let _useState = useState(defaultValue ? true : false),\n      _useState2 = _slicedToArray(_useState, 2),\n      bool = _useState2[0],\n      setBool = _useState2[1];\n\n  const toggleBoolean = () => {\n    setBool(prevBool => !prevBool);\n  };\n\n  return [bool, setBool, toggleBoolean];\n}\n\nfunction System(props) {\n  const _props$name = props.name,\n        name = _props$name === void 0 ? '' : _props$name,\n        _props$indexes = props.indexes,\n        indexes = _props$indexes === void 0 ? [0] : _props$indexes,\n        _props$subSystems = props.subSystems,\n        subSystems = _props$subSystems === void 0 ? [] : _props$subSystems,\n        _props$defaultCollaps = props.defaultCollapsed,\n        defaultCollapsed = _props$defaultCollaps === void 0 ? false : _props$defaultCollaps,\n        _props$onChange = props.onChange,\n        onChange = _props$onChange === void 0 ? () => {} : _props$onChange;\n\n  let _useBoolean = useBoolean(defaultCollapsed),\n      _useBoolean2 = _slicedToArray(_useBoolean, 3),\n      collapsed = _useBoolean2[0],\n      _ = _useBoolean2[1],\n      toggleCollapsed = _useBoolean2[2];\n\n  useEffect(() => {\n    // If you comment out this, we load data without collapsing upon creation\n\n    /*        if (!collapsed) {\r\n                return;\r\n            }*/\n    if (subSystems.length > 0) {\n      return;\n    }\n\n    onChange(indexes);\n  }, [collapsed]);\n  let $toggleIcon = subSystems.length > 0 ? React.createElement(\"i\", {\n    className: 'fas fa-angle-right toggle-icon',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }) : null;\n  return React.createElement(\"div\", {\n    className: 'subsystem',\n    \"data-sub-systems\": subSystems.length,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, name.length > 0 && React.createElement(\"span\", {\n    className: 'name __clickable',\n    onClick: () => toggleCollapsed(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, $toggleIcon, name), collapsed && React.createElement(Systems, {\n    systems: subSystems,\n    onChange: onChange,\n    indexes: indexes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }));\n}\n\nfunction Service(props) {\n  const _props$name2 = props.name,\n        name = _props$name2 === void 0 ? '' : _props$name2,\n        _props$descriptions = props.descriptions,\n        descriptions = _props$descriptions === void 0 ? {} : _props$descriptions;\n  let serviceName = name.length > 0 ? name : descriptions.externalName;\n  return React.createElement(\"div\", {\n    className: 'service',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, React.createElement(ServiceLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }), serviceName);\n}\n\nfunction Reference(props) {\n  const _props$name3 = props.name,\n        name = _props$name3 === void 0 ? '' : _props$name3,\n        _props$descriptions2 = props.descriptions,\n        descriptions = _props$descriptions2 === void 0 ? {} : _props$descriptions2;\n  let referenceName = name.length > 0 ? name : descriptions.externalName;\n  return React.createElement(\"div\", {\n    className: 'reference',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, React.createElement(ReferenceLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }), referenceName);\n}\n\nfunction Systems(props) {\n  const _props$indexes2 = props.indexes,\n        indexes = _props$indexes2 === void 0 ? [0] : _props$indexes2,\n        _props$systems = props.systems,\n        systems = _props$systems === void 0 ? [] : _props$systems,\n        _props$onChange2 = props.onChange,\n        onChange = _props$onChange2 === void 0 ? () => {} : _props$onChange2;\n\n  if (systems.length == 0) {\n    return null;\n  } //console.log('systems', systems);\n\n\n  let $systems = systems.map((system, key) => {\n    let _system$modeledEntity = system.modeledEntityType,\n        modeledEntityType = _system$modeledEntity === void 0 ? '' : _system$modeledEntity;\n\n    switch (modeledEntityType.toLowerCase()) {\n      case 'system':\n        return React.createElement(\"li\", {\n          key: key,\n          className: 'item subsystem',\n          \"data-id\": system.modeledEntityId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(System, {\n          indexes: [...indexes, key],\n          name: system.name,\n          subSystems: system.subSystems,\n          onChange: onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }));\n\n      case 'reference':\n        return React.createElement(\"li\", {\n          key: key,\n          className: 'item reference',\n          \"data-id\": system.modeledEntityId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, React.createElement(Reference, {\n          name: system.name,\n          descriptions: system.service && system.service.descriptions ? system.service.descriptions : system.descriptions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }));\n\n      case 'service':\n        return React.createElement(\"li\", {\n          key: key,\n          className: 'item service',\n          \"data-id\": system.modeledEntityId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, React.createElement(Service, {\n          name: system.name,\n          descriptions: system.service && system.service.descriptions ? system.service.descriptions : system.descriptions,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }));\n    }\n  });\n  return React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, $systems);\n}\n\nfunction convertData(data = [], id = 'id', parent = null) {\n  let nodes = [];\n  let links = [];\n\n  if (data.length > 0) {\n    let traverseData = [...data];\n    traverseData.forEach(row => {\n      let newRow = _objectSpread({}, row);\n\n      let _newRow$subSystems = newRow.subSystems,\n          subSystems = _newRow$subSystems === void 0 ? [] : _newRow$subSystems;\n      delete newRow.subSystems; // sub systems\n\n      let _convertData = convertData(subSystems, id, newRow),\n          _convertData$nodes = _convertData.nodes,\n          newNodes = _convertData$nodes === void 0 ? [] : _convertData$nodes,\n          _convertData$links = _convertData.links,\n          newLinks = _convertData$links === void 0 ? [] : _convertData$links;\n\n      links = links.concat(newLinks);\n      nodes = nodes.concat(newNodes); // references\n\n      nodes.push(_objectSpread({}, newRow));\n\n      if (parent) {\n        links.push({\n          source: parent[id],\n          target: newRow[id]\n        });\n      }\n    });\n  }\n\n  return {\n    nodes,\n    links\n  };\n}\n\nfunction SystemsAndFlows(props) {\n  let newProps = _objectSpread({}, props);\n\n  const _newProps$onChangeFil = newProps.onChangeFilter,\n        onChangeFilter = _newProps$onChangeFil === void 0 ? () => {} : _newProps$onChangeFil;\n  let browserContext = useContext(BrowserContext);\n  let modelContext = useContext(ModelContext);\n  let systems = browserContext.state;\n  useEffect(() => {\n    (async function () {\n      try {\n        let url = \"/starlify/resources/model/\".concat(modelContext.state.model);\n        let response = await fetchJSONDataFromURL(url);\n        browserContext.setBrowserData(response.topLevelSystems);\n      } catch (e) {}\n    })();\n  }, []);\n  delete newProps['onChangeFilter'];\n  return React.createElement(ResizeableDiv, Object.assign({}, newProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342\n    },\n    __self: this\n  }, React.createElement(Search, {\n    onChange: onChangeFilter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: 'tree-objects',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }, React.createElement(System, {\n    subSystems: systems,\n    defaultCollapsed: true,\n    onChange: async indexes => {\n      let changeIndexes = indexes.slice(1);\n\n      if (systems.length === 0) {\n        return;\n      }\n\n      let system = browserContext.getSystemAtLevel(changeIndexes); //alert(getSystemAtLevel(results, changeIndexes).name);\n\n      let data = await loadSystems(modelContext.state.model, system.modeledEntityType, system.modeledEntityId);\n      browserContext.populateSystems(data, changeIndexes);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  }))));\n}\n\nlet id = 2;\n\nfunction Main(props) {\n  let _props$match = props.match,\n      match = _props$match === void 0 ? {} : _props$match;\n  let _match$params = match.params,\n      params = _match$params === void 0 ? {} : _match$params;\n\n  let _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchText = _useState4[0],\n      setSearchText = _useState4[1];\n\n  let _useReducer = useReducer(graphReducer('modeledEntityId'), {\n    data: {\n      nodes: [{\n        modeledEntityId: 0,\n        name: \"name-0\",\n        properties: {\n          name: 'name-0'\n        }\n      }, {\n        modeledEntityId: 1,\n        name: \"name-1\",\n        properties: {\n          name: 'name-1'\n        }\n      }],\n      links: [{\n        source: 0,\n        target: 1\n      }]\n    }\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      graphReducerObj = _useReducer2[0],\n      dispatchGraphReducer = _useReducer2[1]; //<editor-fold desc=\"Graph data\">\n\n\n  let browserContext = useContext(BrowserContext);\n  useEffect(() => {\n    // recalculate graph data\n    let newGraphData = convertData(browserContext.state, 'modeledEntityId');\n    dispatchGraphReducer({\n      type: 'SET_NODES',\n      payload: newGraphData\n    });\n  }, [browserContext.state]);\n  useEffect(() => {\n    document.addEventListener('keyup', e => {\n      if (e.code !== 'KeyV') {\n        return;\n      }\n\n      let newNodes = [];\n      let newLinks = [];\n\n      for (var i = 0, iMax = 100; i < iMax; i++) {\n        newNodes.push({\n          modeledEntityId: id,\n          name: \"name-\".concat(id)\n        });\n        newLinks.push({\n          source: 0,\n          target: id++\n        });\n      }\n\n      dispatchGraphReducer({\n        type: 'ADD_NODES',\n        payload: newNodes\n      });\n      dispatchGraphReducer({\n        type: 'ADD_LINKS',\n        payload: newLinks\n      });\n    });\n  }, []); //</editor-fold>\n  //<editor-fold desc=\"Panels\">\n\n  let _useToggleList = useToggleList(LocalStorage.getItem('opened-panels', ['browse-1'])),\n      _useToggleList2 = _slicedToArray(_useToggleList, 2),\n      panels = _useToggleList2[0],\n      togglePanel = _useToggleList2[1];\n\n  let refPreview = useRef();\n  useEffect(() => {\n    if (panels.length === 0) {\n      return;\n    }\n\n    LocalStorage.setItem('opened-panels', panels);\n  }, [panels]); //</editor-fold>\n\n  let _useCounter = useCounter(),\n      _useCounter2 = _slicedToArray(_useCounter, 2),\n      forceResize = _useCounter2[0],\n      updateWidth = _useCounter2[1];\n\n  useEffect(() => {\n    updateWidth();\n  }, [panels]);\n  return React.createElement(\"div\", {\n    id: \"app\",\n    \"data-page\": \"main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    onClick: () => togglePanel('browse-1'),\n    \"data-active\": panels.includes('browse-1'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439\n    },\n    __self: this\n  }, React.createElement(UsersLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    onClick: () => togglePanel('browse-2'),\n    \"data-active\": panels.includes('browse-2'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440\n    },\n    __self: this\n  }, React.createElement(InboxLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    onClick: () => togglePanel('browse-3'),\n    \"data-active\": panels.includes('browse-3'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446\n    },\n    __self: this\n  }, React.createElement(SaveLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    onClick: () => togglePanel('browse-4'),\n    \"data-active\": panels.includes('browse-4'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447\n    },\n    __self: this\n  }, React.createElement(UserLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    onClick: () => togglePanel('browse-5'),\n    \"data-active\": panels.includes('browse-5'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448\n    },\n    __self: this\n  }, React.createElement(InboxFullLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    onClick: () => togglePanel('browse-6'),\n    \"data-active\": panels.includes('browse-6'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449\n    },\n    __self: this\n  }, React.createElement(ShareLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449\n    },\n    __self: this\n  })), React.createElement(\"li\", {\n    className: 'globe',\n    onClick: () => togglePanel('browse-7'),\n    \"data-active\": panels.includes('browse-7'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  }, React.createElement(GlobeLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"dropdown dropdown-caret\",\n    \"data-hidden\": !panels.includes('browse-7'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454\n    },\n    __self: this\n  }, \"1\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455\n    },\n    __self: this\n  }, \"2\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456\n    },\n    __self: this\n  }, \"3\"))))), React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461\n    },\n    __self: this\n  }), React.createElement(Profile, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"panels\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465\n    },\n    __self: this\n  }, React.createElement(Organisation, {\n    className: \"panel __padded\",\n    \"data-show\": panels.includes('browse-1'),\n    \"data-panel\": 'organisation',\n    onChangeWidth: updateWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466\n    },\n    __self: this\n  }), React.createElement(SystemsAndFlows, {\n    className: \"panel __padded\",\n    \"data-show\": panels.includes('browse-2'),\n    \"data-panel\": 'system-and-flows',\n    onChangeFilter: setSearchText,\n    onChangeWidth: updateWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467\n    },\n    __self: this\n  }), React.createElement(TaggerEditor, {\n    className: \"panel\",\n    \"data-show\": panels.includes('browse-3'),\n    \"data-panel\": 'tagger-editor',\n    onChangeWidth: updateWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474\n    },\n    __self: this\n  }), React.createElement(OrganisationDetails, {\n    className: \"panel __padded\",\n    \"data-show\": panels.includes('browse-4'),\n    \"data-panel\": 'organisation-details',\n    onChangeWidth: updateWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475\n    },\n    __self: this\n  }), React.createElement(ResizeableDiv, {\n    className: \"panel __padded\",\n    \"data-show\": panels.includes('browse-5'),\n    \"data-panel\": 'system-details',\n    onChangeWidth: updateWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478\n    },\n    __self: this\n  }, \"System details\"), React.createElement(\"div\", {\n    className: \"selected-system\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479\n    },\n    __self: this\n  }, \"Selected system\", React.createElement(\"span\", {\n    className: 'id',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480\n    },\n    __self: this\n  }, \"ID: 039982397\")), React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485\n    },\n    __self: this\n  }, \"Developer\"), React.createElement(Developer, {\n    firstName: 'Name',\n    lastName: 'Surname',\n    img: null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487\n    },\n    __self: this\n  }, \"Sub systems\"), React.createElement(\"div\", {\n    className: \"sub-systems\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"sub-system\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489\n    },\n    __self: this\n  }, React.createElement(SubSystemLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490\n    },\n    __self: this\n  }), \"System\", React.createElement(\"span\", {\n    className: \"id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492\n    },\n    __self: this\n  }, \"ID: 039982397\"))), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495\n    },\n    __self: this\n  }, \"Serviced systems\"), React.createElement(\"div\", {\n    className: \"sub-systems\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"sub-system\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497\n    },\n    __self: this\n  }, React.createElement(SubSystemLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498\n    },\n    __self: this\n  }), \"System\", React.createElement(\"span\", {\n    className: \"id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500\n    },\n    __self: this\n  }, \"ID: 039982397\")), React.createElement(\"div\", {\n    className: \"sub-system\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502\n    },\n    __self: this\n  }, React.createElement(SubSystemLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503\n    },\n    __self: this\n  }), \"System\", React.createElement(\"span\", {\n    className: \"id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505\n    },\n    __self: this\n  }, \"ID: 039982397\"))), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508\n    },\n    __self: this\n  }, \"Referenced systems\"), React.createElement(\"div\", {\n    className: \"sub-systems\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"sub-system\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510\n    },\n    __self: this\n  }, React.createElement(SubSystemLogo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511\n    },\n    __self: this\n  }), \"System\", React.createElement(\"span\", {\n    className: \"id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513\n    },\n    __self: this\n  }, \"ID: 039982397\"))))), React.createElement(ResizeableDiv, {\n    className: \"panel __padded\",\n    \"data-show\": panels.includes('browse-6'),\n    \"data-panel\": 'flow-details',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520\n    },\n    __self: this\n  }, \"Flow Details\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521\n    },\n    __self: this\n  }, \"Selected flow\"), React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore\"), React.createElement(\"div\", {\n    className: \"source-targets\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"source-target\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: 'name',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527\n    },\n    __self: this\n  }, \"Source\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529\n    },\n    __self: this\n  }, \"TEM\"))), React.createElement(\"div\", {\n    className: \"source-target\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: 'name',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533\n    },\n    __self: this\n  }, \"Target\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535\n    },\n    __self: this\n  }, \"GIB\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536\n    },\n    __self: this\n  }, \"SAP Finance\")))), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540\n    },\n    __self: this\n  }, \"Documentation URL\"), React.createElement(\"a\", {\n    href: '#',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541\n    },\n    __self: this\n  }, \"https//:confluence.entiros.se/xOU90\")))), React.createElement(\"div\", {\n    className: 'preview',\n    ref: refPreview,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 545\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: 'fas fa-expand __fullscreen __clickable',\n    onClick: () => toggleFullscreen(refPreview.current, updateWidth),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546\n    },\n    __self: this\n  }), React.createElement(Graph, {\n    graph: graphReducerObj.data,\n    search: searchText,\n    resizeTo: refPreview,\n    resize: forceResize,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547\n    },\n    __self: this\n  }))));\n}\n\nfunction MainWrapper(props) {\n  return React.createElement(BrowserProvider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553\n    },\n    __self: this\n  }, React.createElement(Main, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554\n    },\n    __self: this\n  })));\n}\n\nexport default withRouter(MainWrapper);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/components/pages/Main.js"],"names":["React","useEffect","useState","useContext","Suspense","useReducer","useRef","withRouter","BrowserContext","BrowserProvider","ModelContext","fetchJSONDataFromURL","graphReducer","defaultGraphReducer","arrayReducer","defaultArrayReducer","ResizeableDiv","Profile","useToggleList","Search","LocalStorage","TaggerEditor","toggleFullscreen","Graph","GraphData","useCounter","ErrorBoundary","Developer","ForceGraph2D","Organisation","props","OrganisationDetails","loadSystems","model","type","id","url","toLowerCase","response","newRows","subSystems","concat","providedEndpoints","consumedEndpoints","e","useBoolean","defaultValue","bool","setBool","toggleBoolean","prevBool","System","name","indexes","defaultCollapsed","onChange","collapsed","_","toggleCollapsed","length","$toggleIcon","Service","descriptions","serviceName","externalName","Reference","referenceName","Systems","systems","$systems","map","system","key","modeledEntityType","modeledEntityId","service","convertData","data","parent","nodes","links","traverseData","forEach","row","newRow","newNodes","newLinks","push","source","target","SystemsAndFlows","newProps","onChangeFilter","browserContext","modelContext","state","setBrowserData","topLevelSystems","changeIndexes","slice","getSystemAtLevel","populateSystems","Main","match","params","searchText","setSearchText","properties","graphReducerObj","dispatchGraphReducer","newGraphData","payload","document","addEventListener","code","i","iMax","getItem","panels","togglePanel","refPreview","setItem","forceResize","updateWidth","includes","current","MainWrapper"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,UAApC,EAAgDC,QAAhD,EAA0DC,UAA1D,EAAsEC,MAAtE,QAAmF,OAAnF;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAO,uCAAP;AACA,SAAQC,cAAR,EAAwBC,eAAxB,EAAyCC,YAAzC,QAA4D,gBAA5D;AACA,OAAOC,oBAAP,MAAiC,0CAAjC;AACA,OAAOC,YAAP,IAAsBC,mBAAtB,QAAgD,2CAAhD;AACA,OAAOC,YAAP,IAAsBC,mBAAtB,QAAgD,2CAAhD;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;;;;;;;;;;;AAWA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,YAAT,QAA6B,mBAA7B;;AACA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACzB,SAAO,oBAAC,aAAD,oBAAmBA,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAGI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,EAKI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,EAKI;AAAI,mBAAa,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdJ,CADJ,CALJ,EAuBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAvBJ,EAwBI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CADJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CALJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CATJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAbJ,EAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAjBJ,EAqBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CArBJ,EAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAzBJ,EA6BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CA7BJ,EAiCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE,+CAAV;AAA2D,IAAA,GAAG,EAAE,KAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAjCJ,CADJ,CADJ,CAxBJ,EAkEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAlEJ,EAmEI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAE,+CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAE,+CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAE,+CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAE,+CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAVJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAE,+CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAbJ,EAgBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAE,+CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAhBJ,EAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAE,+CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAnBJ,CADJ,CAnEJ,CADG,CAAP;AA+FH;;AACD,SAASC,mBAAT,CAA6BD,KAA7B,EAAoC;AAChC,SAAO,oBAAC,aAAD,oBAAmBA,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,EAGI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qHADJ,CAHJ,EAMI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAE,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAE,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAE,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAE,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CALJ,CANJ,CADJ,EAkBI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qHADJ,CAHJ,EAMI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAE,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAE,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAE,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAE,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CALJ,CANJ,CAlBJ,EAmCI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAE,MAAtB;AAA8B,IAAA,QAAQ,EAAE,SAAxC;AAAmD,IAAA,GAAG,EAAE,IAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qHAFJ,CAHJ,EAOI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAE,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAE,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAE,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAE,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CALJ,CAPJ,CAnCJ,CAJJ,CADG,CAAP;AA6DH;;AAGD,eAAeE,WAAf,CAA2BC,KAA3B,EAAkCC,IAAlC,EAAwCC,EAAxC,EAA4C;AACxC,MAAI;AACA,QAAIC,GAAG,uCAAgCH,KAAhC,cAAyCC,IAAI,CAACG,WAAL,EAAzC,cAA+DF,EAA/D,CAAP;AACA,QAAIG,QAAQ,GAAG,MAAM3B,oBAAoB,CAACyB,GAAD,CAAzC;AAEA,QAAIG,OAAO,GAAG,EAAd;;AACA,QAAID,QAAQ,CAACE,UAAb,EAAyB;AACrBD,MAAAA,OAAO,GAAGA,OAAO,CAACE,MAAR,CAAeH,QAAQ,CAACE,UAAxB,CAAV;AACH;;AACD,QAAIF,QAAQ,CAACI,iBAAb,EAAgC,CAC5B;AACH;;AACD,QAAIJ,QAAQ,CAACK,iBAAb,EAAgC,CAC5B;AACH;;AACD,WAAOJ,OAAP;AACH,GAfD,CAeE,OAAOK,CAAP,EAAU;AACR,WAAO,EAAP;AACH,GAjBD,SAiBU,CAET;AACJ;;AACD,SAASC,UAAT,CAAoBC,YAApB,EAAkC;AAAA,kBACR5C,QAAQ,CAAC4C,YAAY,GAAG,IAAH,GAAU,KAAvB,CADA;AAAA;AAAA,MACzBC,IADyB;AAAA,MACnBC,OADmB;;AAE9B,QAAMC,aAAa,GAAG,MAAM;AACxBD,IAAAA,OAAO,CAACE,QAAQ,IAAI,CAACA,QAAd,CAAP;AACH,GAFD;;AAIA,SAAO,CAACH,IAAD,EAAOC,OAAP,EAAgBC,aAAhB,CAAP;AACH;;AACD,SAASE,MAAT,CAAgBrB,KAAhB,EAAuB;AAAA,sBACgFA,KADhF,CACZsB,IADY;AAAA,QACZA,IADY,4BACL,EADK;AAAA,yBACgFtB,KADhF,CACDuB,OADC;AAAA,QACDA,OADC,+BACS,CAAC,CAAD,CADT;AAAA,4BACgFvB,KADhF,CACcU,UADd;AAAA,QACcA,UADd,kCAC2B,EAD3B;AAAA,gCACgFV,KADhF,CAC+BwB,gBAD/B;AAAA,QAC+BA,gBAD/B,sCACkD,KADlD;AAAA,0BACgFxB,KADhF,CACyDyB,QADzD;AAAA,QACyDA,QADzD,gCACoE,MAAM,CAAE,CAD5E;;AAAA,oBAEmBV,UAAU,CAACS,gBAAD,CAF7B;AAAA;AAAA,MAEdE,SAFc;AAAA,MAEHC,CAFG;AAAA,MAEAC,eAFA;;AAGnBzD,EAAAA,SAAS,CAAC,MAAM;AACZ;;AACR;;;AAGQ,QAAIuC,UAAU,CAACmB,MAAX,GAAoB,CAAxB,EAA2B;AACvB;AACH;;AACDJ,IAAAA,QAAQ,CAACF,OAAD,CAAR;AACH,GATQ,EASN,CAACG,SAAD,CATM,CAAT;AAUA,MAAII,WAAW,GAAIpB,UAAU,CAACmB,MAAX,GAAoB,CAArB,GAA0B;AAAG,IAAA,SAAS,EAAE,gCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA1B,GAA+E,IAAjG;AACA,SAAO;AAAK,IAAA,SAAS,EAAE,WAAhB;AAA6B,wBAAkBnB,UAAU,CAACmB,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACFP,IAAI,CAACO,MAAL,GAAc,CAAd,IAAmB;AAAM,IAAA,SAAS,EAAE,kBAAjB;AAAqC,IAAA,OAAO,EAAE,MAAMD,eAAe,EAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwEE,WAAxE,EAAqFR,IAArF,CADjB,EAEFI,SAAS,IAAI,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEhB,UAAlB;AAA8B,IAAA,QAAQ,EAAEe,QAAxC;AAAkD,IAAA,OAAO,EAAEF,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFX,CAAP;AAIH;;AACD,SAASQ,OAAT,CAAiB/B,KAAjB,EAAwB;AAAA,uBACmBA,KADnB,CACbsB,IADa;AAAA,QACbA,IADa,6BACN,EADM;AAAA,8BACmBtB,KADnB,CACFgC,YADE;AAAA,QACFA,YADE,oCACa,EADb;AAEpB,MAAIC,WAAW,GAAIX,IAAI,CAACO,MAAL,GAAc,CAAf,GAAoBP,IAApB,GAA2BU,YAAY,CAACE,YAA1D;AACA,SAAO;AAAK,IAAA,SAAS,EAAE,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2B,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA3B,EAA0CD,WAA1C,CAAP;AACH;;AACD,SAASE,SAAT,CAAmBnC,KAAnB,EAA0B;AAAA,uBACiBA,KADjB,CACfsB,IADe;AAAA,QACfA,IADe,6BACR,EADQ;AAAA,+BACiBtB,KADjB,CACJgC,YADI;AAAA,QACJA,YADI,qCACW,EADX;AAEtB,MAAII,aAAa,GAAId,IAAI,CAACO,MAAL,GAAc,CAAf,GAAoBP,IAApB,GAA2BU,YAAY,CAACE,YAA5D;AACA,SAAO;AAAK,IAAA,SAAS,EAAE,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6B,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA7B,EAA8CE,aAA9C,CAAP;AACH;;AACD,SAASC,OAAT,CAAiBrC,KAAjB,EAAwB;AAAA,0BACuCA,KADvC,CACbuB,OADa;AAAA,QACbA,OADa,gCACH,CAAC,CAAD,CADG;AAAA,yBACuCvB,KADvC,CACEsC,OADF;AAAA,QACEA,OADF,+BACY,EADZ;AAAA,2BACuCtC,KADvC,CACgByB,QADhB;AAAA,QACgBA,QADhB,iCAC2B,MAAM,CAAE,CADnC;;AAEpB,MAAIa,OAAO,CAACT,MAAR,IAAkB,CAAtB,EAAyB;AACrB,WAAO,IAAP;AACH,GAJmB,CAKpB;;;AACA,MAAIU,QAAQ,GAAGD,OAAO,CAACE,GAAR,CAAY,CAACC,MAAD,EAASC,GAAT,KAAiB;AAAA,gCACTD,MADS,CACnCE,iBADmC;AAAA,QACnCA,iBADmC,sCACf,EADe;;AAExC,YAAQA,iBAAiB,CAACpC,WAAlB,EAAR;AACI,WAAK,QAAL;AACI,eAAO;AAAI,UAAA,GAAG,EAAEmC,GAAT;AAAc,UAAA,SAAS,EAAE,gBAAzB;AAA2C,qBAASD,MAAM,CAACG,eAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACH,oBAAC,MAAD;AACI,UAAA,OAAO,EAAE,CAAC,GAAGrB,OAAJ,EAAamB,GAAb,CADb;AAEI,UAAA,IAAI,EAAED,MAAM,CAACnB,IAFjB;AAGI,UAAA,UAAU,EAAEmB,MAAM,CAAC/B,UAHvB;AAII,UAAA,QAAQ,EAAEe,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADG,CAAP;;AAQJ,WAAK,WAAL;AACI,eAAO;AAAI,UAAA,GAAG,EAAEiB,GAAT;AAAc,UAAA,SAAS,EAAE,gBAAzB;AAA2C,qBAASD,MAAM,CAACG,eAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACH,oBAAC,SAAD;AACI,UAAA,IAAI,EAAEH,MAAM,CAACnB,IADjB;AAEI,UAAA,YAAY,EAAGmB,MAAM,CAACI,OAAP,IAAkBJ,MAAM,CAACI,OAAP,CAAeb,YAAlC,GAAkDS,MAAM,CAACI,OAAP,CAAeb,YAAjE,GAAgFS,MAAM,CAACT,YAFzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADG,CAAP;;AAMJ,WAAK,SAAL;AACI,eAAO;AAAI,UAAA,GAAG,EAAEU,GAAT;AAAc,UAAA,SAAS,EAAE,cAAzB;AAAyC,qBAASD,MAAM,CAACG,eAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACH,oBAAC,OAAD;AACA,UAAA,IAAI,EAAEH,MAAM,CAACnB,IADb;AAEA,UAAA,YAAY,EAAGmB,MAAM,CAACI,OAAP,IAAkBJ,MAAM,CAACI,OAAP,CAAeb,YAAlC,GAAkDS,MAAM,CAACI,OAAP,CAAeb,YAAjE,GAAgFS,MAAM,CAACT,YAFrG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADG,CAAP;AAlBR;AAyBH,GA3Bc,CAAf;AA4BA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKO,QAAL,CAAP;AACH;;AACD,SAASO,WAAT,CAAqBC,IAAI,GAAG,EAA5B,EAAgC1C,EAAE,GAAG,IAArC,EAA2C2C,MAAM,GAAG,IAApD,EAA0D;AACtD,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,KAAK,GAAG,EAAZ;;AAEA,MAAIH,IAAI,CAAClB,MAAL,GAAc,CAAlB,EAAqB;AACjB,QAAIsB,YAAY,GAAG,CAAC,GAAGJ,IAAJ,CAAnB;AAEAI,IAAAA,YAAY,CAACC,OAAb,CAAqBC,GAAG,IAAI;AACxB,UAAIC,MAAM,qBAAOD,GAAP,CAAV;;AADwB,+BAEAC,MAFA,CAEnB5C,UAFmB;AAAA,UAEnBA,UAFmB,mCAEN,EAFM;AAGxB,aAAO4C,MAAM,CAAC5C,UAAd,CAHwB,CAIxB;;AAJwB,yBAK2BoC,WAAW,CAACpC,UAAD,EAAaL,EAAb,EAAiBiD,MAAjB,CALtC;AAAA,4CAKnBL,KALmB;AAAA,UAKZM,QALY,mCAKD,EALC;AAAA,4CAKGL,KALH;AAAA,UAKUM,QALV,mCAKqB,EALrB;;AAMxBN,MAAAA,KAAK,GAAGA,KAAK,CAACvC,MAAN,CAAa6C,QAAb,CAAR;AACAP,MAAAA,KAAK,GAAGA,KAAK,CAACtC,MAAN,CAAa4C,QAAb,CAAR,CAPwB,CAQxB;;AAEAN,MAAAA,KAAK,CAACQ,IAAN,mBACOH,MADP;;AAGA,UAAIN,MAAJ,EAAY;AACRE,QAAAA,KAAK,CAACO,IAAN,CAAW;AACPC,UAAAA,MAAM,EAAEV,MAAM,CAAC3C,EAAD,CADP;AAEPsD,UAAAA,MAAM,EAAEL,MAAM,CAACjD,EAAD;AAFP,SAAX;AAIH;AACJ,KAnBD;AAoBH;;AAED,SAAO;AACH4C,IAAAA,KADG;AAEHC,IAAAA;AAFG,GAAP;AAIH;;AACD,SAASU,eAAT,CAAyB5D,KAAzB,EAAgC;AAC5B,MAAI6D,QAAQ,qBAAO7D,KAAP,CAAZ;;AAD4B,gCAEQ6D,QAFR,CAErBC,cAFqB;AAAA,QAErBA,cAFqB,sCAEJ,MAAM,CAAE,CAFJ;AAG5B,MAAIC,cAAc,GAAG1F,UAAU,CAACK,cAAD,CAA/B;AACA,MAAIsF,YAAY,GAAG3F,UAAU,CAACO,YAAD,CAA7B;AACA,MAAI0D,OAAO,GAAGyB,cAAc,CAACE,KAA7B;AACA9F,EAAAA,SAAS,CAAC,MAAM;AACX,uBAAkB;AACf,UAAI;AACA,YAAImC,GAAG,uCAAgC0D,YAAY,CAACC,KAAb,CAAmB9D,KAAnD,CAAP;AACA,YAAIK,QAAQ,GAAG,MAAM3B,oBAAoB,CAACyB,GAAD,CAAzC;AACAyD,QAAAA,cAAc,CAACG,cAAf,CAA8B1D,QAAQ,CAAC2D,eAAvC;AACH,OAJD,CAIE,OAAOrD,CAAP,EAAU,CAEX;AACJ,KARA,GAAD;AASH,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAO+C,QAAQ,CAAC,gBAAD,CAAf;AACA,SAAO,oBAAC,aAAD,oBAAmBA,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAE,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAExB,OAApB;AAA6B,IAAA,gBAAgB,EAAE,IAA/C;AAAqD,IAAA,QAAQ,EAAE,MAAMf,OAAN,IAAiB;AAC5E,UAAI6C,aAAa,GAAG7C,OAAO,CAAC8C,KAAR,CAAc,CAAd,CAApB;;AACA,UAAI/B,OAAO,CAACT,MAAR,KAAmB,CAAvB,EAA0B;AACtB;AACH;;AACD,UAAIY,MAAM,GAAGsB,cAAc,CAACO,gBAAf,CAAgCF,aAAhC,CAAb,CAL4E,CAM5E;;AACA,UAAIrB,IAAI,GAAG,MAAM7C,WAAW,CAAC8D,YAAY,CAACC,KAAb,CAAmB9D,KAApB,EAA2BsC,MAAM,CAACE,iBAAlC,EAAqDF,MAAM,CAACG,eAA5D,CAA5B;AACAmB,MAAAA,cAAc,CAACQ,eAAf,CAA+BxB,IAA/B,EAAqCqB,aAArC;AACH,KATD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CADG,CAAP;AAiBH;;AAED,IAAI/D,EAAE,GAAG,CAAT;;AACA,SAASmE,IAAT,CAAcxE,KAAd,EAAqB;AAAA,qBACEA,KADF,CACZyE,KADY;AAAA,MACZA,KADY,6BACJ,EADI;AAAA,sBAEGA,KAFH,CAEZC,MAFY;AAAA,MAEZA,MAFY,8BAEH,EAFG;;AAAA,mBAGiBtG,QAAQ,CAAC,EAAD,CAHzB;AAAA;AAAA,MAGZuG,UAHY;AAAA,MAGAC,aAHA;;AAAA,oBAI6BrG,UAAU,CAACO,YAAY,CAAC,iBAAD,CAAb,EAAkC;AACtFiE,IAAAA,IAAI,EAAE;AACFE,MAAAA,KAAK,EAAE,CACH;AACIL,QAAAA,eAAe,EAAE,CADrB;AAEItB,QAAAA,IAAI,EAAE,QAFV;AAGIuD,QAAAA,UAAU,EAAE;AACRvD,UAAAA,IAAI,EAAE;AADE;AAHhB,OADG,EAQH;AACIsB,QAAAA,eAAe,EAAE,CADrB;AAEItB,QAAAA,IAAI,EAAE,QAFV;AAGIuD,QAAAA,UAAU,EAAE;AACRvD,UAAAA,IAAI,EAAE;AADE;AAHhB,OARG,CADL;AAiBF4B,MAAAA,KAAK,EAAE,CACH;AACIQ,QAAAA,MAAM,EAAE,CADZ;AAEIC,QAAAA,MAAM,EAAE;AAFZ,OADG;AAjBL;AADgF,GAAlC,CAJvC;AAAA;AAAA,MAIZmB,eAJY;AAAA,MAIKC,oBAJL,oBAgCjB;;;AACA,MAAIhB,cAAc,GAAG1F,UAAU,CAACK,cAAD,CAA/B;AACAP,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,QAAI6G,YAAY,GAAGlC,WAAW,CAACiB,cAAc,CAACE,KAAhB,EAAuB,iBAAvB,CAA9B;AACAc,IAAAA,oBAAoB,CAAC;AAAC3E,MAAAA,IAAI,EAAE,WAAP;AAAoB6E,MAAAA,OAAO,EAAED;AAA7B,KAAD,CAApB;AACH,GAJQ,EAIN,CAACjB,cAAc,CAACE,KAAhB,CAJM,CAAT;AAKA9F,EAAAA,SAAS,CAAC,MAAM;AACZ+G,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCrE,CAAC,IAAI;AACpC,UAAIA,CAAC,CAACsE,IAAF,KAAW,MAAf,EAAuB;AACnB;AACH;;AACD,UAAI7B,QAAQ,GAAG,EAAf;AACA,UAAIC,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAI6B,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAG,GAAvB,EAA4BD,CAAC,GAAGC,IAAhC,EAAsCD,CAAC,EAAvC,EAA2C;AACvC9B,QAAAA,QAAQ,CAACE,IAAT,CAAc;AACVb,UAAAA,eAAe,EAAEvC,EADP;AAEViB,UAAAA,IAAI,iBAAUjB,EAAV;AAFM,SAAd;AAIAmD,QAAAA,QAAQ,CAACC,IAAT,CAAc;AACVC,UAAAA,MAAM,EAAE,CADE;AAEVC,UAAAA,MAAM,EAAEtD,EAAE;AAFA,SAAd;AAIH;;AACD0E,MAAAA,oBAAoB,CAAC;AAAC3E,QAAAA,IAAI,EAAE,WAAP;AAAoB6E,QAAAA,OAAO,EAAE1B;AAA7B,OAAD,CAApB;AACAwB,MAAAA,oBAAoB,CAAC;AAAC3E,QAAAA,IAAI,EAAE,WAAP;AAAoB6E,QAAAA,OAAO,EAAEzB;AAA7B,OAAD,CAApB;AACH,KAlBD;AAmBH,GApBQ,EAoBN,EApBM,CAAT,CAvCiB,CA4DjB;AACA;;AA7DiB,uBA8DWpE,aAAa,CAACE,YAAY,CAACiG,OAAb,CAAqB,eAArB,EAAsC,CAAC,UAAD,CAAtC,CAAD,CA9DxB;AAAA;AAAA,MA8DZC,MA9DY;AAAA,MA8DJC,WA9DI;;AA+DjB,MAAIC,UAAU,GAAGlH,MAAM,EAAvB;AACAL,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIqH,MAAM,CAAC3D,MAAP,KAAkB,CAAtB,EAAyB;AACrB;AACH;;AACDvC,IAAAA,YAAY,CAACqG,OAAb,CAAqB,eAArB,EAAsCH,MAAtC;AACH,GALQ,EAKN,CAACA,MAAD,CALM,CAAT,CAhEiB,CAsEjB;;AAtEiB,oBAuEgB7F,UAAU,EAvE1B;AAAA;AAAA,MAuEZiG,WAvEY;AAAA,MAuECC,WAvED;;AAwEjB1H,EAAAA,SAAS,CAAC,MAAM;AACZ0H,IAAAA,WAAW;AACd,GAFQ,EAEN,CAACL,MAAD,CAFM,CAAT;AAGA,SAAO;AAAK,IAAA,EAAE,EAAC,KAAR;AAAc,iBAAU,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACH;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,UAAD,CAA9B;AAA4C,mBAAaD,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsF,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtF,CADJ,EAEI;AAAI,IAAA,OAAO,EAAE,MAAML,WAAW,CAAC,UAAD,CAA9B;AAA4C,mBAAaD,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsF,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtF,CAFJ,EAQI;AAAI,IAAA,OAAO,EAAE,MAAML,WAAW,CAAC,UAAD,CAA9B;AAA4C,mBAAaD,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsF,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtF,CARJ,EASI;AAAI,IAAA,OAAO,EAAE,MAAML,WAAW,CAAC,UAAD,CAA9B;AAA4C,mBAAaD,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsF,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtF,CATJ,EAUI;AAAI,IAAA,OAAO,EAAE,MAAML,WAAW,CAAC,UAAD,CAA9B;AAA4C,mBAAaD,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsF,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtF,CAVJ,EAWI;AAAI,IAAA,OAAO,EAAE,MAAML,WAAW,CAAC,UAAD,CAA9B;AAA4C,mBAAaD,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsF,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtF,CAXJ,EAYI;AAAI,IAAA,SAAS,EAAE,OAAf;AAAwB,IAAA,OAAO,EAAE,MAAML,WAAW,CAAC,UAAD,CAAlD;AAAgE,mBAAaD,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAyC,mBAAa,CAACN,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHJ,CADJ,CAFJ,CAZJ,CADJ,EAwBI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBJ,EAyBI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBJ,CADG,EA4BH;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,YAAD;AAAc,IAAA,SAAS,EAAC,gBAAxB;AAAyC,iBAAWN,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAApD;AAAiF,kBAAY,cAA7F;AAA6G,IAAA,aAAa,EAAED,WAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,eAAD;AACI,IAAA,SAAS,EAAC,gBADd;AAEI,iBAAWL,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAFf;AAGI,kBAAY,kBAHhB;AAII,IAAA,cAAc,EAAElB,aAJpB;AAKI,IAAA,aAAa,EAAEiB,WALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EASI,oBAAC,YAAD;AAAc,IAAA,SAAS,EAAC,OAAxB;AAAgC,iBAAWL,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAA3C;AAAwE,kBAAY,eAApF;AAAqG,IAAA,aAAa,EAAED,WAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,EAUI,oBAAC,mBAAD;AAAqB,IAAA,SAAS,EAAC,gBAA/B;AAAgD,iBAAWL,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAA3D;AAAwF,kBAAY,sBAApG;AAA4H,IAAA,aAAa,EAAED,WAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,EAWI,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAC,gBAAzB;AAA0C,iBAAWL,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAArD;AAAkF,kBAAY,gBAA9F;AAAgH,IAAA,aAAa,EAAED,WAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACmB;AAAM,IAAA,SAAS,EAAE,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADnB,CAFJ,EAKI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qHAPJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARJ,EASI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAE,MAAtB;AAA8B,IAAA,QAAQ,EAAE,SAAxC;AAAmD,IAAA,GAAG,EAAE,IAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAVJ,EAWI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,YAGI;AAAM,IAAA,SAAS,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,CADJ,CAXJ,EAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAlBJ,EAmBI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,YAGI;AAAM,IAAA,SAAS,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,CADJ,EAMI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,YAGI;AAAM,IAAA,SAAS,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,CANJ,CAnBJ,EA+BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA/BJ,EAgCI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,YAGI;AAAM,IAAA,SAAS,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,CADJ,CAhCJ,CADJ,CAXJ,EAqDI,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAC,gBAAzB;AAA0C,iBAAWL,MAAM,CAACM,QAAP,CAAgB,UAAhB,CAArD;AAAkF,kBAAY,cAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,EAGI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qHALJ,EAMI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAE,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,CAFJ,CADJ,EAOI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAE,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,CAFJ,CAPJ,CANJ,EAqBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBArBJ,EAsBI;AAAG,IAAA,IAAI,EAAE,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAtBJ,CADJ,CArDJ,CADJ,EAiFI;AAAK,IAAA,SAAS,EAAE,SAAhB;AAA2B,IAAA,GAAG,EAAEJ,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAE,wCAAd;AAAwD,IAAA,OAAO,EAAE,MAAMlG,gBAAgB,CAACkG,UAAU,CAACK,OAAZ,EAAqBF,WAArB,CAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEf,eAAe,CAAC/B,IAA9B;AAAoC,IAAA,MAAM,EAAE4B,UAA5C;AAAwD,IAAA,QAAQ,EAAEe,UAAlE;AAA8E,IAAA,MAAM,EAAEE,WAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAjFJ,CA5BG,CAAP;AAmHH;;AACD,SAASI,WAAT,CAAqBhG,KAArB,EAA4B;AACxB,SAAO,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACH,oBAAC,IAAD,oBAAUA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADG,CAAP;AAGH;;AACD,eAAevB,UAAU,CAACuH,WAAD,CAAzB","sourcesContent":["import React, {useEffect, useState, useContext, Suspense, useReducer, useRef} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport '../../scss/components/pages/Main.scss';\r\nimport {BrowserContext, BrowserProvider, ModelContext} from \"../../contexts\";\r\nimport fetchJSONDataFromURL from \"../../lib/utilities/fetchJSONDataFromURL\";\r\nimport graphReducer, {defaultGraphReducer} from \"../../lib/utilities/reducers/graphReducer\";\r\nimport arrayReducer, {defaultArrayReducer} from \"../../lib/utilities/reducers/arrayReducer\";\r\nimport ResizeableDiv from \"../ResizeableDiv\";\r\nimport Profile from \"../Profile\";\r\nimport useToggleList from \"../../hooks/useToggleList\";\r\nimport Search from \"../Search\";\r\nimport LocalStorage from \"../../lib/utilities/storage/LocalStorage\";\r\nimport TaggerEditor from \"./Main/TaggerEditor\";\r\nimport toggleFullscreen from \"../../lib/utilities/toggleFullscreen\";\r\nimport Graph from \"./Main/Graph\";\r\nimport GraphData from './graphs/contractual';\r\nimport useCounter from \"../../hooks/useCounter\";\r\nimport {ReactComponent as UserLogo} from \"../Menu/user.svg\";\r\nimport {ReactComponent as UsersLogo} from \"../Menu/users.svg\";\r\nimport {ReactComponent as GlobeLogo} from \"../Menu/globe.svg\";\r\nimport {ReactComponent as InboxLogo} from \"../Menu/inbox.svg\";\r\nimport {ReactComponent as InboxFullLogo} from \"../Menu/inbox-full.svg\";\r\nimport {ReactComponent as SaveLogo} from \"../Menu/save.svg\";\r\nimport {ReactComponent as ShareLogo} from \"../Menu/share.svg\";\r\nimport {ReactComponent as ServiceLogo} from \"../Menu/service.svg\";\r\nimport {ReactComponent as ReferenceLogo} from \"../Menu/reference.svg\";\r\nimport {ReactComponent as SubSystemLogo} from \"../Menu/sub-system.svg\";\r\nimport ErrorBoundary from \"../ErrorBoundary\";\r\nimport Developer from \"../Developer\";\r\nimport { ForceGraph2D } from 'react-force-graph';\r\nfunction Organisation(props) {\r\n    return <ResizeableDiv {...props}>\r\n        <div>\r\n            <h2>Organisation</h2>\r\n            <h3>Org selector</h3>\r\n            <Search/>\r\n            <h3>Division</h3>\r\n            <div className=\"divisions\">\r\n                <ul>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li data-active={'true'}>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                    <li>Division</li>\r\n                </ul>\r\n            </div>\r\n            <h3>Team</h3>\r\n            <div className=\"teams\">\r\n                <div>\r\n                    <ul>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                        <li>\r\n                            <img src={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"} alt={\"lol\"} />\r\n                            <span className=\"name\">Team</span>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <h3>Developer</h3>\r\n            <div className=\"developers\">\r\n                <ul>\r\n                    <li>\r\n                        <Developer img={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"}/>\r\n                    </li>\r\n                    <li>\r\n                        <Developer img={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"}/>\r\n                    </li>\r\n                    <li>\r\n                        <Developer img={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"}/>\r\n                    </li>\r\n                    <li>\r\n                        <Developer img={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"}/>\r\n                    </li>\r\n                    <li>\r\n                        <Developer img={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"}/>\r\n                    </li>\r\n                    <li>\r\n                        <Developer img={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"}/>\r\n                    </li>\r\n                    <li>\r\n                        <Developer img={\"https://robohash.org/YOUR-TEXT.png?size=50x50\"}/>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </ResizeableDiv>\r\n}\r\nfunction OrganisationDetails(props) {\r\n    return <ResizeableDiv {...props}>\r\n        <div>\r\n            <h2>Organisation Details</h2>\r\n            <h3>Stats</h3>\r\n            <Search/>\r\n            <div className=\"details\">\r\n                <div className=\"detail\">\r\n                    <h4>Division</h4>\r\n                    <button>Follow</button>\r\n                    <div className=\"details\">\r\n                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore</p>\r\n                    </div>\r\n                    <div className=\"infos\">\r\n                        <div className=\"info\">\r\n                            <i className={'fas fa-inbox'} />\r\n                            <span className={'number'}>23</span>\r\n                        </div>\r\n                        <div className=\"info\">\r\n                            <i className={'fas fa-share-alt'} />\r\n                            <span className={'number'}>23</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"detail\">\r\n                    <h4>Team</h4>\r\n                    <button>Follow</button>\r\n                    <div className=\"details\">\r\n                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore</p>\r\n                    </div>\r\n                    <div className=\"infos\">\r\n                        <div className=\"info\">\r\n                            <i className={'fas fa-inbox'} />\r\n                            <span className={'number'}>23</span>\r\n                        </div>\r\n                        <div className=\"info\">\r\n                            <i className={'fas fa-share-alt'} />\r\n                            <span className={'number'}>23</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"detail developer\">\r\n                    <h4>Developer</h4>\r\n                    <button>Follow</button>\r\n                    <div className=\"details\">\r\n                        <Developer firstName={'Name'} lastName={'Surname'} img={null} />\r\n                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore</p>\r\n                    </div>\r\n                    <div className=\"infos\">\r\n                        <div className=\"info\">\r\n                            <i className={'fas fa-inbox'} />\r\n                            <span className={'number'}>23</span>\r\n                        </div>\r\n                        <div className=\"info\">\r\n                            <i className={'fas fa-share-alt'} />\r\n                            <span className={'number'}>23</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ResizeableDiv>\r\n}\r\n\r\n\r\nasync function loadSystems(model, type, id) {\r\n    try {\r\n        let url = `/starlify/resources/model/${model}/${type.toLowerCase()}/${id}`;\r\n        let response = await fetchJSONDataFromURL(url);\r\n\r\n        let newRows = [];\r\n        if (response.subSystems) {\r\n            newRows = newRows.concat(response.subSystems);\r\n        }\r\n        if (response.providedEndpoints) {\r\n            //newRows = newRows.concat(response.providedEndpoints);\r\n        }\r\n        if (response.consumedEndpoints) {\r\n            //newRows = newRows.concat(response.consumedEndpoints);\r\n        }\r\n        return newRows;\r\n    } catch (e) {\r\n        return [];\r\n    } finally {\r\n\r\n    }\r\n}\r\nfunction useBoolean(defaultValue) {\r\n    let [bool, setBool] = useState(defaultValue ? true : false);\r\n    const toggleBoolean = () => {\r\n        setBool(prevBool => !prevBool);\r\n    };\r\n\r\n    return [bool, setBool, toggleBoolean];\r\n}\r\nfunction System(props) {\r\n    const {name = '', indexes = [0], subSystems = [], defaultCollapsed = false, onChange = () => {}} = props;\r\n    let [collapsed, _, toggleCollapsed] = useBoolean(defaultCollapsed);\r\n    useEffect(() => {\r\n        // If you comment out this, we load data without collapsing upon creation\r\n/*        if (!collapsed) {\r\n            return;\r\n        }*/\r\n        if (subSystems.length > 0) {\r\n            return;\r\n        }\r\n        onChange(indexes);\r\n    }, [collapsed]);\r\n    let $toggleIcon = (subSystems.length > 0) ? <i className={'fas fa-angle-right toggle-icon'} /> : null;\r\n    return <div className={'subsystem'} data-sub-systems={subSystems.length}>\r\n        {name.length > 0 && <span className={'name __clickable'} onClick={() => toggleCollapsed()}>{$toggleIcon}{name}</span>}\r\n        {collapsed && <Systems systems={subSystems} onChange={onChange} indexes={indexes}/>}\r\n    </div>;\r\n}\r\nfunction Service(props) {\r\n    const {name = '', descriptions = {}} = props;\r\n    let serviceName = (name.length > 0) ? name : descriptions.externalName;\r\n    return <div className={'service'}><ServiceLogo/>{serviceName}</div>\r\n}\r\nfunction Reference(props) {\r\n    const {name = '', descriptions = {}} = props;\r\n    let referenceName = (name.length > 0) ? name : descriptions.externalName;\r\n    return <div className={'reference'}><ReferenceLogo/>{referenceName}</div>\r\n}\r\nfunction Systems(props) {\r\n    const {indexes = [0], systems = [], onChange = () => {}} = props;\r\n    if (systems.length == 0) {\r\n        return null;\r\n    }\r\n    //console.log('systems', systems);\r\n    let $systems = systems.map((system, key) => {\r\n        let {modeledEntityType = ''} = system;\r\n        switch (modeledEntityType.toLowerCase()) {\r\n            case 'system':\r\n                return <li key={key} className={'item subsystem'} data-id={system.modeledEntityId}>\r\n                    <System\r\n                        indexes={[...indexes, key]}\r\n                        name={system.name}\r\n                        subSystems={system.subSystems}\r\n                        onChange={onChange}\r\n                    />\r\n                </li>;\r\n            case 'reference':\r\n                return <li key={key} className={'item reference'} data-id={system.modeledEntityId}>\r\n                    <Reference\r\n                        name={system.name}\r\n                        descriptions={(system.service && system.service.descriptions) ? system.service.descriptions : system.descriptions}\r\n                    />\r\n                </li>;\r\n            case 'service':\r\n                return <li key={key} className={'item service'} data-id={system.modeledEntityId}>\r\n                    <Service\r\n                    name={system.name}\r\n                    descriptions={(system.service && system.service.descriptions) ? system.service.descriptions : system.descriptions}\r\n                    />\r\n                </li>;\r\n        }\r\n    });\r\n    return <ul>{$systems}</ul>;\r\n}\r\nfunction convertData(data = [], id = 'id', parent = null) {\r\n    let nodes = [];\r\n    let links = [];\r\n\r\n    if (data.length > 0) {\r\n        let traverseData = [...data];\r\n\r\n        traverseData.forEach(row => {\r\n            let newRow = {...row};\r\n            let {subSystems = []} = newRow;\r\n            delete newRow.subSystems;\r\n            // sub systems\r\n            let {nodes: newNodes = [], links: newLinks = []} = convertData(subSystems, id, newRow);\r\n            links = links.concat(newLinks);\r\n            nodes = nodes.concat(newNodes);\r\n            // references\r\n\r\n            nodes.push({\r\n                ...newRow\r\n            });\r\n            if (parent) {\r\n                links.push({\r\n                    source: parent[id],\r\n                    target: newRow[id],\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        nodes,\r\n        links\r\n    };\r\n}\r\nfunction SystemsAndFlows(props) {\r\n    let newProps = {...props};\r\n    const {onChangeFilter = () => {}} = newProps;\r\n    let browserContext = useContext(BrowserContext);\r\n    let modelContext = useContext(ModelContext);\r\n    let systems = browserContext.state;\r\n    useEffect(() => {\r\n        (async function () {\r\n            try {\r\n                let url = `/starlify/resources/model/${modelContext.state.model}`;\r\n                let response = await fetchJSONDataFromURL(url);\r\n                browserContext.setBrowserData(response.topLevelSystems);\r\n            } catch (e) {\r\n\r\n            }\r\n        }());\r\n    }, []);\r\n\r\n    delete newProps['onChangeFilter'];\r\n    return <ResizeableDiv {...newProps}>\r\n        <div>\r\n            <Search onChange={onChangeFilter}/>\r\n            <div className={'tree-objects'}>\r\n                <System subSystems={systems} defaultCollapsed={true} onChange={async indexes => {\r\n                    let changeIndexes = indexes.slice(1);\r\n                    if (systems.length === 0) {\r\n                        return;\r\n                    }\r\n                    let system = browserContext.getSystemAtLevel(changeIndexes);\r\n                    //alert(getSystemAtLevel(results, changeIndexes).name);\r\n                    let data = await loadSystems(modelContext.state.model, system.modeledEntityType, system.modeledEntityId);\r\n                    browserContext.populateSystems(data, changeIndexes);\r\n                }}/>\r\n            </div>\r\n        </div>\r\n    </ResizeableDiv>;\r\n}\r\n\r\nlet id = 2;\r\nfunction Main(props) {\r\n    let {match = {}} = props;\r\n    let {params = {}} = match;\r\n    let [searchText, setSearchText] = useState('');\r\n    let [graphReducerObj, dispatchGraphReducer] = useReducer(graphReducer('modeledEntityId'), {\r\n        data: {\r\n            nodes: [\r\n                {\r\n                    modeledEntityId: 0,\r\n                    name: \"name-0\",\r\n                    properties: {\r\n                        name: 'name-0',\r\n                    }\r\n                },\r\n                {\r\n                    modeledEntityId: 1,\r\n                    name: \"name-1\",\r\n                    properties: {\r\n                        name: 'name-1',\r\n                    }\r\n                },\r\n            ],\r\n            links: [\r\n                {\r\n                    source: 0,\r\n                    target: 1\r\n                }\r\n            ]\r\n        }\r\n    });\r\n\r\n\r\n    //<editor-fold desc=\"Graph data\">\r\n    let browserContext = useContext(BrowserContext);\r\n    useEffect(() => {\r\n        // recalculate graph data\r\n        let newGraphData = convertData(browserContext.state, 'modeledEntityId');\r\n        dispatchGraphReducer({type: 'SET_NODES', payload: newGraphData});\r\n    }, [browserContext.state]);\r\n    useEffect(() => {\r\n        document.addEventListener('keyup', e => {\r\n            if (e.code !== 'KeyV') {\r\n                return;\r\n            }\r\n            let newNodes = [];\r\n            let newLinks = [];\r\n            for (var i = 0, iMax = 100; i < iMax; i++) {\r\n                newNodes.push({\r\n                    modeledEntityId: id,\r\n                    name: `name-${id}`\r\n                });\r\n                newLinks.push({\r\n                    source: 0,\r\n                    target: id++\r\n                });\r\n            }\r\n            dispatchGraphReducer({type: 'ADD_NODES', payload: newNodes});\r\n            dispatchGraphReducer({type: 'ADD_LINKS', payload: newLinks});\r\n        })\r\n    }, []);\r\n    //</editor-fold>\r\n    //<editor-fold desc=\"Panels\">\r\n    let [panels, togglePanel] = useToggleList(LocalStorage.getItem('opened-panels', ['browse-1']));\r\n    let refPreview = useRef();\r\n    useEffect(() => {\r\n        if (panels.length === 0) {\r\n            return;\r\n        }\r\n        LocalStorage.setItem('opened-panels', panels);\r\n    }, [panels]);\r\n    //</editor-fold>\r\n    let [forceResize, updateWidth] = useCounter();\r\n    useEffect(() => {\r\n        updateWidth();\r\n    }, [panels]);\r\n    return <div id=\"app\" data-page=\"main\">\r\n        <div className=\"menu\">\r\n            <ul>\r\n                <li onClick={() => togglePanel('browse-1')} data-active={panels.includes('browse-1')}><UsersLogo/></li>\r\n                <li onClick={() => togglePanel('browse-2')} data-active={panels.includes('browse-2')}><InboxLogo/></li>\r\n                {/* TODO\r\n                    Move menu with help of CSS and maybe a css variable\r\n                    Don't have this in the CSS since having a nth-of-type is not that descriptive and just having a class or id didn't make sense either.\r\n                    Doing it mobile-friendly I would suggest controlling everything related to the size in the CSS however.\r\n                    Either nth-of-type(3), an id, or seperate ul list and then control them using media queries*/}\r\n                <li onClick={() => togglePanel('browse-3')} data-active={panels.includes('browse-3')}><SaveLogo/></li>\r\n                <li onClick={() => togglePanel('browse-4')} data-active={panels.includes('browse-4')}><UserLogo/></li>\r\n                <li onClick={() => togglePanel('browse-5')} data-active={panels.includes('browse-5')}><InboxFullLogo/></li>\r\n                <li onClick={() => togglePanel('browse-6')} data-active={panels.includes('browse-6')}><ShareLogo/></li>\r\n                <li className={'globe'} onClick={() => togglePanel('browse-7')} data-active={panels.includes('browse-7')}>\r\n                    <GlobeLogo/>\r\n                    <div className=\"dropdown dropdown-caret\" data-hidden={!panels.includes('browse-7')}>\r\n                        <ul>\r\n                            <li>1</li>\r\n                            <li>2</li>\r\n                            <li>3</li>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n            <Search />\r\n            <Profile />\r\n        </div>\r\n        <div className=\"content\">\r\n            <div className=\"panels\">\r\n                <Organisation className=\"panel __padded\" data-show={panels.includes('browse-1')} data-panel={'organisation'} onChangeWidth={updateWidth} />\r\n                <SystemsAndFlows\r\n                    className=\"panel __padded\"\r\n                    data-show={panels.includes('browse-2')}\r\n                    data-panel={'system-and-flows'}\r\n                    onChangeFilter={setSearchText}\r\n                    onChangeWidth={updateWidth}\r\n                />\r\n                <TaggerEditor className=\"panel\" data-show={panels.includes('browse-3')} data-panel={'tagger-editor'} onChangeWidth={updateWidth} />\r\n                <OrganisationDetails className=\"panel __padded\" data-show={panels.includes('browse-4')} data-panel={'organisation-details'} onChangeWidth={updateWidth} />\r\n                <ResizeableDiv className=\"panel __padded\" data-show={panels.includes('browse-5')} data-panel={'system-details'} onChangeWidth={updateWidth}>\r\n                    <div>\r\n                        <h2>System details</h2>\r\n                        <div className=\"selected-system\">\r\n                            Selected system<span className={'id'}>ID: 039982397</span>\r\n                        </div>\r\n                        <Search/>\r\n                        <h3>Description</h3>\r\n                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore</p>\r\n                        <h3>Developer</h3>\r\n                        <Developer firstName={'Name'} lastName={'Surname'} img={null} />\r\n                        <h3>Sub systems</h3>\r\n                        <div className=\"sub-systems\">\r\n                            <div className=\"sub-system\">\r\n                                <SubSystemLogo/>\r\n                                System\r\n                                <span className=\"id\">ID: 039982397</span>\r\n                            </div>\r\n                        </div>\r\n                        <h3>Serviced systems</h3>\r\n                        <div className=\"sub-systems\">\r\n                            <div className=\"sub-system\">\r\n                                <SubSystemLogo/>\r\n                                System\r\n                                <span className=\"id\">ID: 039982397</span>\r\n                            </div>\r\n                            <div className=\"sub-system\">\r\n                                <SubSystemLogo/>\r\n                                System\r\n                                <span className=\"id\">ID: 039982397</span>\r\n                            </div>\r\n                        </div>\r\n                        <h3>Referenced systems</h3>\r\n                        <div className=\"sub-systems\">\r\n                            <div className=\"sub-system\">\r\n                                <SubSystemLogo/>\r\n                                System\r\n                                <span className=\"id\">ID: 039982397</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ResizeableDiv>\r\n                <ResizeableDiv className=\"panel __padded\" data-show={panels.includes('browse-6')} data-panel={'flow-details'}>\r\n                    <div>\r\n                        <h2>Flow Details</h2>\r\n                        <h3>Selected flow</h3>\r\n                        <Search/>\r\n                        <h3>Description</h3>\r\n                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore</p>\r\n                        <div className=\"source-targets\">\r\n                            <div className=\"source-target\">\r\n                                <span className={'name'}>Source</span>\r\n                                <ul>\r\n                                    <li>TEM</li>\r\n                                </ul>\r\n                            </div>\r\n                            <div className=\"source-target\">\r\n                                <span className={'name'}>Target</span>\r\n                                <ul>\r\n                                    <li>GIB</li>\r\n                                    <li>SAP Finance</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <h3>Documentation URL</h3>\r\n                        <a href={'#'}>https//:confluence.entiros.se/xOU90</a>\r\n                    </div>\r\n                </ResizeableDiv>\r\n            </div>\r\n            <div className={'preview'} ref={refPreview}>\r\n                <i className={'fas fa-expand __fullscreen __clickable'} onClick={() => toggleFullscreen(refPreview.current, updateWidth)} />\r\n                <Graph graph={graphReducerObj.data} search={searchText} resizeTo={refPreview} resize={forceResize}/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\nfunction MainWrapper(props) {\r\n    return <BrowserProvider>\r\n        <Main {...props}/>\r\n    </BrowserProvider>\r\n}\r\nexport default withRouter(MainWrapper);"]},"metadata":{},"sourceType":"module"}