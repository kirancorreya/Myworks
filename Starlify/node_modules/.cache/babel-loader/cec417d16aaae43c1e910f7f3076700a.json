{"ast":null,"code":"var _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/Systems.js\";\nimport React, { Component } from \"react\";\nimport { Collapse, Modal, ModalBody, Input, Label } from \"reactstrap\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport subsystem from \"../../../_assets/images/subsystem.png\";\nimport services from \"../../../_assets/images/services.png\";\nimport reference from \"../../../_assets/images/reference.png\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport { connect } from 'react-redux';\n\nfunction collect(props) {\n  if (props.itemEntity) return {\n    item: props.item,\n    itemName: props.itemName,\n    itemId: props.itemId,\n    itemEntity: props.itemEntity\n  };else return {\n    item: props.item,\n    itemName: props.itemName,\n    itemId: props.itemId\n  };\n}\n\nclass Systems extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renameHandleChange = e => {\n      this.setState({\n        itemName: e.target.value\n      });\n    };\n\n    this.addUiToggle = this.addUiToggle.bind(this);\n    this.resetAddUiToggle = this.resetAddUiToggle.bind(this);\n    this.systemMenuToggle = this.systemMenuToggle.bind(this);\n    this.flowsMenuToggle = this.flowsMenuToggle.bind(this);\n    this.systemToggle = this.systemToggle.bind(this);\n    this.flowsToggle = this.flowsToggle.bind(this);\n    this.subSystemToggle = this.subSystemToggle.bind(this);\n    this.systemSelected = this.systemSelected.bind(this);\n    this.close = this.close.bind(this);\n    this.flowsSelected = this.flowsSelected.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.state = {\n      flowAddClass: false,\n      systemAddClass: false,\n      modal: false,\n      flowsCollapse: true,\n      systemsCollapse: true,\n      collapseSystem: false,\n      collapseSubSystem: false,\n      currentSystemIndex: \"\",\n      currentSubSystemIndex: \"\",\n      currentFlowIndex: \"\",\n      systemData: {\n        system: \"\"\n      },\n      showsystemDetail: false,\n      showflowDetail: false,\n      systemDetails: {},\n      flowDetails: {},\n      system: [],\n      flow: [],\n      searchString: \"\",\n      ids: [],\n      search: false,\n      item: [],\n      itemId: '',\n      itemName: '',\n      itemValue: '',\n      itemType: '',\n      itemEntity: '',\n      systemAdd: false,\n      flowAdd: false,\n      systemId: '',\n      servicesList: '',\n      serviceId: '',\n      testData: ''\n    };\n  } //fetch system and flows before mounting occurs\n\n\n  componentWillMount() {\n    this.fetchSystemAndFlows();\n  } //fetch system and flows\n\n\n  fetchSystemAndFlows() {\n    return fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(responseJson => {\n      this.setState({\n        systemData: responseJson\n      });\n    });\n  } //get system details\n\n\n  getSystemDetails(systemId) {\n    return fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/system/\" + systemId, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(responseJson => {\n      console.log(responseJson.services.length);\n      console.log(responseJson.references.length);\n      if (responseJson.services.length > 0 || responseJson.references.length > 0) this.setState({\n        itemType: 'deleteFailed'\n      });\n    });\n  } //manage add more system/flow text box to ui\n\n\n  addUiToggle(event, type) {\n    if (type === 'system') {\n      this.setState(state => ({\n        systemAdd: !state.systemAdd,\n        itemEntity: 'system'\n      }));\n    } else {\n      this.setState(state => ({\n        flowAdd: !state.flowAdd,\n        itemEntity: 'flow'\n      }));\n    }\n  } //setting entity while add more systems/flows\n\n\n  resetAddUiToggle(event, type) {\n    if (type === 'system') {\n      this.setState(state => ({\n        itemEntity: 'system'\n      }));\n    } else {\n      this.setState(state => ({\n        itemEntity: 'flow'\n      }));\n    }\n  } //setting system id on click\n\n\n  systemSelected(systemId) {\n    this.props.systemSelected(systemId);\n  }\n\n  close(menu, type) {\n    this.props.close(menu, type);\n  }\n\n  flowsSelected(flowId, status) {\n    this.props.flowsSelected(flowId, status);\n  }\n\n  systemMenuToggle() {\n    this.setState(state => ({\n      systemsCollapse: !state.systemsCollapse\n    }));\n    this.setState({\n      flowaddClass: !this.state.flowaddClass\n    });\n  }\n\n  flowsMenuToggle() {\n    this.setState(state => ({\n      flowsCollapse: !state.flowsCollapse\n    }));\n  }\n\n  flowsToggle(flowId) {\n    if (this.state.currentFlowIndex === flowId || !this.state.showflowDetail && this.state.search) {\n      this.setState({\n        search: false\n      });\n      this.setState({\n        currentFlowIndex: 0\n      });\n      this.flowsSelected(flowId, true);\n    } else {\n      this.setState({\n        currentFlowIndex: flowId\n      });\n      this.setState({\n        showflowDetail: true\n      });\n      this.flowsSelected(flowId, true);\n      return fetch(process.env.REACT_APP_API + \"/model/2d0a2236-3083-4572-ad7b-a8d2ea94c18c/flow/72ad974f-e4e2-41c2-8838-79ebd240f315\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        this.setState({\n          flowDetail: responseJson\n        });\n      });\n    }\n  } //system listing toggle\n\n\n  systemToggle(systemId) {\n    if (this.state.currentSystemIndex === systemId || !this.state.showsystemDetail && this.state.search) {\n      this.setState({\n        search: false\n      });\n      this.setState({\n        currentSystemIndex: 0\n      });\n      this.systemSelected(systemId);\n    } else {\n      this.setState({\n        currentSystemIndex: systemId\n      });\n      this.systemSelected(systemId);\n    }\n\n    this.props.onHighlightClick(systemId);\n  } //sub system listing toggle\n\n\n  subSystemToggle(systemId) {\n    this.setState({\n      collapseSubSystem: !this.state.collapseSubSystem\n    });\n\n    if (this.state.currentSubSystemIndex === systemId) {\n      this.setState({\n        currentSubSystemIndex: 0\n      });\n      this.systemSelected(systemId);\n    } else {\n      this.setState({\n        currentSubSystemIndex: systemId\n      });\n      this.systemSelected(systemId);\n    }\n  } //create entity \n\n\n  createEntity(event) {\n    let value = event.target.value;\n\n    if (event.key === 'Enter') {\n      event.target.value = '';\n      fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/\".concat(this.state.itemEntity), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        return fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/\".concat(this.state.itemEntity, \"/\") + responseJson.id, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(response => response.json()).then(responseJson => {\n          this.fetchSystemAndFlows();\n        });\n      });\n    }\n  } //create service\n\n\n  createService(event) {\n    let value = event.target.value;\n\n    if ((event.key === 'Enter' || event.type === 'blur') && value) {\n      event.target.value = '';\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/system/\".concat(this.state.itemId, \"/service\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        return fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/service/\" + responseJson.id, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(response => {\n          this.fetchSystemAndFlows();\n        });\n      });\n    }\n  } //create service\n\n\n  createReference(event) {\n    let value = event.target.value;\n\n    if ((event.key === 'Enter' || event.type === 'blur') && value && this.state.serviceId) {\n      event.target.value = '';\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/system/\".concat(this.state.systemId, \"/reference/\").concat(this.state.serviceId), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: value\n        })\n      }).then(response => response.json()).then(responseJson => {\n        return fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/reference/\" + responseJson.id, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(response => response.json()).then(responseJson => {\n          this.fetchSystemAndFlows();\n        });\n      });\n    }\n  } //create entity \n\n\n  createSubSyetem(event) {\n    let value = event.target.value;\n\n    if (event.key === 'Enter') {\n      event.target.value = '';\n      fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/\".concat(this.state.itemEntity, \"/\").concat(this.state.itemId, \"/\").concat(this.state.itemEntity), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        return fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/\".concat(this.state.itemEntity, \"/\") + responseJson.id, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(response => {\n          this.fetchSystemAndFlows();\n        });\n      });\n    }\n  } //Delete entity\n\n\n  deleteEntity() {\n    //console.log(this.state.item.services);\n    if (this.state.itemEntity === 'system' && (this.state.item.services.length > 0 || this.state.item.references.length > 0)) {\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      this.state.itemType = 'deleteFailed';\n      this.setState({\n        modal: true\n      });\n    } else {\n      return fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/\".concat(this.state.itemEntity === 'flow' ? 'flow' : 'modeled', \"/\").concat(this.state.itemId), {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        this.setState(prevState => ({\n          modal: !prevState.modal\n        }));\n        this.fetchSystemAndFlows();\n      });\n    }\n  } //update item value for edit\n\n\n  //Update entity\n  updateEntity(event) {\n    let value = event.target.value;\n\n    if ((event.key === 'Enter' || event.type === 'blur') && this.state.modal && value) {\n      event.target.value = '';\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/\".concat(this.state.itemEntity, \"/\") + this.state.itemId, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: value\n        })\n      }).then(responseJson => {\n        this.fetchSystemAndFlows();\n      });\n    }\n  } //control right click modal\n\n\n  modalToggle(e, data) {\n    //console.log(data)\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n      console.log(data);\n      this.setState({\n        item: data.item,\n        itemId: data.itemId,\n        itemName: data.itemName,\n        itemType: data.itemType,\n        itemEntity: data.itemEntity\n      });\n    }\n  } //get systems and services list for adding new reference\n\n\n  getSystems(event) {\n    let index = event.target.selectedIndex;\n    let id = event.target[index].id;\n    this.setState({\n      systemId: id\n    });\n    let parents = this.state.systemData.systems;\n    let parent = parents.filter(parent => parent.name === event.target.value);\n    if (parent) this.setState({\n      servicesList: parent[0].services\n    });\n  }\n\n  serviceChangeHandle(event) {\n    this.setState({\n      serviceId: event.target.value\n    });\n  }\n\n  subSystem(item) {\n    if (item) {\n      return fetch(process.env.REACT_APP_API + \"/model/6c161cbe-0d86-413b-8ea1-0bbb2ba9e5d6/system1/\" + item, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        this.setState({\n          testData: responseJson\n        });\n      });\n    }\n  }\n\n  render() {\n    let flowBoxClass = [\"flowbox\"];\n\n    if (this.state.flowAddClass) {\n      flowBoxClass.push('green');\n    }\n\n    return React.createElement(\"div\", {\n      className: \"org_browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, React.createElement(ContextMenu, {\n      id: \"system_right_click\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      data: {\n        itemType: 'add_sub_system',\n        itemEntity: 'system'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }, \"Add Sub System\"), React.createElement(MenuItem, {\n      data: {\n        itemType: 'service',\n        itemEntity: 'service'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, \"Add Service\"), React.createElement(MenuItem, {\n      data: {\n        itemType: 'add_reference',\n        itemEntity: 'reference'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, \"Add Reference\"), React.createElement(MenuItem, {\n      data: {\n        itemType: 'delete',\n        itemEntity: 'system'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(MenuItem, {\n      data: {\n        itemType: 'rename',\n        itemEntity: 'system'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, \"Rename\")), React.createElement(ContextMenu, {\n      id: \"default_right_click\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      data: {\n        itemType: 'delete'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(MenuItem, {\n      data: {\n        itemType: 'rename'\n      },\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, \"Rename\")), React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.modalToggle,\n      className: this.props.className,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      className: this.state.itemType === 'delete' ? 'text-center delete-modal-body ' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }, this.state.itemType === 'add_sub_system' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, \"Create new sub system\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-input\",\n      placeholder: \"Add New Sub System\",\n      onBlur: this.createSubSyetem.bind(this),\n      onKeyDown: this.createSubSyetem.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    })), this.state.itemType === 'service' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, \"Create new service.\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-input\",\n      placeholder: \"Add New Service\",\n      onBlur: this.createService.bind(this),\n      onKeyDown: this.createService.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    })), this.state.itemType === 'add_reference' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }, \"Create new reference\"), React.createElement(\"div\", {\n      className: \"row formGroupWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"select\",\n      onChange: this.getSystems.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546\n      },\n      __self: this\n    }, \"System\"), this.state.systemData.systems ? this.state.systemData.systems.map((item, index) => {\n      return this.state.itemId === item.id ? '' : React.createElement(\"option\", {\n        value: item.name,\n        id: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550\n        },\n        __self: this\n      }, item.name);\n    }) : '')), React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"select\",\n      id: \"exampleSelect\",\n      onChange: this.serviceChangeHandle.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560\n      },\n      __self: this\n    }, \"Service\"), this.state.servicesList ? this.state.servicesList.map((item, index) => {\n      return React.createElement(\"option\", {\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564\n        },\n        __self: this\n      }, item.name);\n    }) : '')), React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"create-ref\",\n      type: \"text\",\n      name: \"text\",\n      id: \"example\",\n      placeholder: \"Add New Reference\",\n      onBlur: this.createReference.bind(this),\n      onKeyDown: this.createReference.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    })))), this.state.itemType === 'rename' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578\n      },\n      __self: this\n    }, \"Do you want to rename?\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-input\",\n      placeholder: \"Rename\",\n      value: this.state.itemName || '',\n      onBlur: this.updateEntity.bind(this),\n      onChange: this.renameHandleChange.bind(this),\n      onKeyDown: this.updateEntity.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579\n      },\n      __self: this\n    })), this.state.itemType === 'delete' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592\n      },\n      __self: this\n    }, \"Are you sure?\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593\n      },\n      __self: this\n    }, \"Do you really want to delete these records? \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593\n      },\n      __self: this\n    }), \"Process cannot be undone\"), React.createElement(\"div\", {\n      className: \"delete-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"btn black-btn\",\n      onClick: this.deleteEntity.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596\n      },\n      __self: this\n    }, \"confirm\"), React.createElement(\"button\", {\n      class: \"btn transparent-black-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597\n      },\n      __self: this\n    }, \"cancel\"))), this.state.itemType === 'deleteFailed' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601\n      },\n      __self: this\n    }, \"Not able to delete.System have child objects.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601\n      },\n      __self: this\n    }))))), React.createElement(\"h3\", {\n      className: \"text-center text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605\n      },\n      __self: this\n    }, \"Systems and Flows\", React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon browser_close\",\n      onClick: () => this.close('system', 'menu'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607\n      },\n      __self: this\n    })), React.createElement(VerticalScrollbars, {\n      autoHide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"org-selector\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613\n      },\n      __self: this\n    }, \"Selector\"), React.createElement(\"div\", {\n      className: \"_search\",\n      id: \"searchControl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"search-input\",\n      onKeyUp: this.searchSystem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"icon icon-Search search-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 619\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"systems w-100 d-inline-block montserrat text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"system-search montserrat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"text-white click systemClick \".concat(this.state.systemsCollapse ? 'active ' : ''),\n      style: {\n        marginBottom: \"1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.systemMenuToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628\n      },\n      __self: this\n    }, \"Systems\", React.createElement(\"i\", {\n      className: \"fas fa-chevron-down system-down-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630\n      },\n      __self: this\n    })), !this.state.systemAdd && React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon\",\n      id: \"system\",\n      onClick: e => {\n        this.addUiToggle(e, 'system');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 634\n      },\n      __self: this\n    })), this.state.systemAdd && React.createElement(\"div\", {\n      className: \"extra-add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 644\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"system\",\n      onKeyDown: this.createEntity.bind(this),\n      onFocus: e => {\n        this.resetAddUiToggle(e, 'system');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        this.addUiToggle(e, 'system');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 653\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656\n      },\n      __self: this\n    }))), React.createElement(Collapse, {\n      isOpen: this.state.systemsCollapse,\n      id: \"systemListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660\n      },\n      __self: this\n    }, React.createElement(VerticalScrollbars, {\n      className: \" className={boxClass.join('org-height-50, ')}\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665\n      },\n      __self: this\n    }, this.state.systemData.systems ? this.state.systemData.systems.map((item, index) => {\n      return React.createElement(\"div\", {\n        key: item.id,\n        className: \"listingItem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 669\n        },\n        __self: this\n      }, React.createElement(ContextMenuTrigger, {\n        id: \"system_right_click\",\n        item: item,\n        itemName: item.name,\n        itemId: item.id,\n        collect: collect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 670\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey click \".concat(this.state.currentSystemIndex === item.id ? 'active ' : ''),\n        onClick: () => this.systemToggle(item.id),\n        style: {\n          marginLeft: \"1rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 671\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"system-down-icon left text-white \".concat(item.services || item.references || item.subsystems ? 'fas fa-chevron-down' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 679\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"systemCircle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        id: item.id,\n        onClick: () => this.systemToggle(item.id),\n        className: this.state.ids.includes(item.id) ? \"highlight \" : \"test text-grey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682\n        },\n        __self: this\n      }, item.name))), React.createElement(Collapse, {\n        isOpen: this.state.currentSystemIndex === item.id || this.state.search ? true : false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698\n        },\n        __self: this\n      }, item.services ? item.services.map((service, i) => {\n        return React.createElement(\"div\", {\n          id: service.id,\n          key: service.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 709\n          },\n          __self: this\n        }, React.createElement(ContextMenuTrigger, {\n          id: \"default_right_click\",\n          itemName: service.name,\n          itemId: service.id,\n          itemEntity: \"service\",\n          collect: collect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 710\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"text-grey click\",\n          style: {\n            marginBottom: \"1rem\",\n            marginLeft: \"5rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 711\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"serviceCircle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 719\n          },\n          __self: this\n        }), service.name)));\n      }) : \"\", item.references ? item.references.map((referenceData, i) => {\n        return React.createElement(ContextMenuTrigger, {\n          key: i,\n          id: \"default_right_click\",\n          itemName: referenceData.name,\n          itemId: referenceData.id,\n          itemEntity: \"reference\",\n          collect: collect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 731\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          key: referenceData.id,\n          className: \"text-grey click\",\n          style: {\n            marginBottom: \"1rem\",\n            marginLeft: \"5rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 732\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"referenceArrow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 739\n          },\n          __self: this\n        }, \"\\u2192\"), referenceData.name));\n      }) : \"\", item.subsystems ? item.subsystems.map((subsystems, i) => {\n        this.subSystem(subsystems);\n        return React.createElement(\"div\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 751\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"text-grey click \".concat(this.state.currentSubSystemIndex === subsystems ? 'active ' : ''),\n          onClick: () => this.subSystemToggle(subsystems),\n          style: {\n            marginBottom: \"1rem\",\n            marginLeft: \"3rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 752\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"system-down-icon left text-white \".concat(this.state.testData.services || this.state.testData.references ? 'fas fa-chevron-down' : ''),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 764\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          src: subsystem,\n          alt: \"starlify\",\n          className: \"m-r-15 m-b-5 \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 765\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          id: subsystems,\n          className: this.state.ids.includes(subsystems) ? \"highlight\" : \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 770\n          },\n          __self: this\n        }, this.state.testData.name)), React.createElement(Collapse, {\n          isOpen: this.state.currentSubSystemIndex === subsystems ? true : false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 783\n          },\n          __self: this\n        }, this.state.testData.services ? this.state.testData.services.map((service, i) => {\n          return React.createElement(\"div\", {\n            id: service.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 796\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            className: \"text-grey click\",\n            style: {\n              marginBottom: \"1rem\",\n              marginLeft: \"4rem\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 797\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: services,\n            alt: \"starlify\",\n            className: \"m-r-15 m-b-5 \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 805\n            },\n            __self: this\n          }), service.name));\n        }) : \"\", this.state.testData.references ? this.state.testData.references.map((references, i) => {\n          return React.createElement(\"div\", {\n            id: references.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 822\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            className: \"text-grey click\",\n            style: {\n              marginBottom: \"1rem\",\n              marginLeft: \"4rem\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 823\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: reference,\n            alt: \"starlify\",\n            className: \"m-r-15 m-b-5 \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 831\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 836\n            },\n            __self: this\n          }, \"\\u2192\"), reference.name));\n        }) : \"\"));\n      }) : \"\"));\n    }) : \"\"))), React.createElement(\"div\", {\n      className: \"flows\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 859\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        marginBottom: \"1rem\"\n      },\n      className: \"text-white click flowClick \".concat(this.state.flowsCollapse ? 'active ' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 860\n      },\n      __self: this\n    }, \"Flows\", React.createElement(\"i\", {\n      className: \"fas fa-chevron-down system-down-icon\",\n      onClick: this.flowsMenuToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 864\n      },\n      __self: this\n    }), !this.state.flowAdd && React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon\",\n      id: \"flows\",\n      onClick: e => {\n        this.addUiToggle(e, 'flow');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 866\n      },\n      __self: this\n    })), this.state.flowAdd && React.createElement(\"div\", {\n      className: \"extra-add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 877\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"flow\",\n      onKeyDown: this.createEntity.bind(this),\n      onFocus: e => {\n        this.resetAddUiToggle(e, 'flow');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 878\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        this.addUiToggle(e, 'flow');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 886\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 889\n      },\n      __self: this\n    }))), React.createElement(Collapse, {\n      isOpen: this.state.flowsCollapse,\n      id: \"FlowListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 892\n      },\n      __self: this\n    }, React.createElement(VerticalScrollbars, {\n      className: \"org-height-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 893\n      },\n      __self: this\n    }, this.state.systemData.flows ? this.state.systemData.flows.map((item, index) => {\n      return React.createElement(\"div\", {\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 897\n        },\n        __self: this\n      }, React.createElement(ContextMenuTrigger, {\n        id: \"default_right_click\",\n        itemName: item.name,\n        itemId: item.id,\n        itemEntity: \"flow\",\n        collect: collect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 898\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey click\",\n        style: {\n          marginBottom: \"1rem\",\n          marginLeft: \"2rem\"\n        },\n        onClick: () => this.flowsToggle(item.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 899\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: item.id,\n        className: this.state.ids.includes(item.id) ? \"highlight\" : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 907\n        },\n        __self: this\n      }, item.name))));\n    }) : \"\")))))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onHighlightClick: systemId => {\n      const action = {\n        type: \"HIGHLIGHT\",\n        system: systemId\n      };\n      dispatch(action);\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(Systems);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/Systems.js"],"names":["React","Component","Collapse","Modal","ModalBody","Input","Label","VerticalScrollbars","subsystem","services","reference","ContextMenu","MenuItem","ContextMenuTrigger","connect","collect","props","itemEntity","item","itemName","itemId","Systems","constructor","renameHandleChange","e","setState","target","value","addUiToggle","bind","resetAddUiToggle","systemMenuToggle","flowsMenuToggle","systemToggle","flowsToggle","subSystemToggle","systemSelected","close","flowsSelected","modalToggle","state","flowAddClass","systemAddClass","modal","flowsCollapse","systemsCollapse","collapseSystem","collapseSubSystem","currentSystemIndex","currentSubSystemIndex","currentFlowIndex","systemData","system","showsystemDetail","showflowDetail","systemDetails","flowDetails","flow","searchString","ids","search","itemValue","itemType","systemAdd","flowAdd","systemId","servicesList","serviceId","testData","componentWillMount","fetchSystemAndFlows","fetch","process","env","REACT_APP_API","method","headers","then","response","json","responseJson","getSystemDetails","console","log","length","references","event","type","menu","flowId","status","flowaddClass","flowDetail","onHighlightClick","createEntity","key","id","body","JSON","stringify","name","createService","prevState","createReference","createSubSyetem","deleteEntity","updateEntity","data","getSystems","index","selectedIndex","parents","systems","parent","filter","serviceChangeHandle","subSystem","render","flowBoxClass","push","className","map","searchSystem","marginBottom","marginLeft","subsystems","includes","service","i","referenceData","flows","mapDispatchToProps","dispatch","action"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Collapse, Modal, ModalBody, Input, Label } from \"reactstrap\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport subsystem from \"../../../_assets/images/subsystem.png\";\nimport services from \"../../../_assets/images/services.png\";\nimport reference from \"../../../_assets/images/reference.png\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport { connect } from 'react-redux';\n\n\nfunction collect(props) {\n    if (props.itemEntity)\n        return { item:props.item, itemName: props.itemName, itemId: props.itemId, itemEntity: props.itemEntity };\n    else\n        return { item:props.item, itemName: props.itemName, itemId: props.itemId };\n}\n\nclass Systems extends Component {\n    constructor(props) {\n        super(props);\n        this.addUiToggle = this.addUiToggle.bind(this);\n        this.resetAddUiToggle = this.resetAddUiToggle.bind(this);\n        this.systemMenuToggle = this.systemMenuToggle.bind(this);\n        this.flowsMenuToggle = this.flowsMenuToggle.bind(this);\n        this.systemToggle = this.systemToggle.bind(this);\n        this.flowsToggle = this.flowsToggle.bind(this);\n        this.subSystemToggle = this.subSystemToggle.bind(this);\n        this.systemSelected = this.systemSelected.bind(this);\n        this.close = this.close.bind(this);\n        this.flowsSelected = this.flowsSelected.bind(this);\n        this.modalToggle = this.modalToggle.bind(this);\n        this.state = {\n            flowAddClass: false,\n            systemAddClass: false,\n            modal: false,\n            flowsCollapse: true,\n            systemsCollapse: true,\n            collapseSystem: false,\n            collapseSubSystem: false,\n            currentSystemIndex: \"\",\n            currentSubSystemIndex: \"\",\n            currentFlowIndex: \"\",\n            systemData: { system: \"\" },\n            showsystemDetail: false,\n            showflowDetail: false,\n            systemDetails: {},\n            flowDetails: {},\n            system: [],\n            flow: [],\n            searchString: \"\",\n            ids: [],\n            search: false,\n            item:[],\n            itemId: '',\n            itemName: '',\n            itemValue: '',\n            itemType: '',\n            itemEntity: '',\n            systemAdd: false,\n            flowAdd: false,\n            systemId: '',\n            servicesList: '',\n            serviceId: '',\n            testData: '',\n        };\n    }\n\n    //fetch system and flows before mounting occurs\n    componentWillMount() {\n        this.fetchSystemAndFlows()\n    }\n\n    //fetch system and flows\n    fetchSystemAndFlows() {\n        return fetch(\n            process.env.REACT_APP_API + \"/model/6f13762c-6a71-4f50-aed8-b015d55bbe83\",\n            {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n        )\n            .then(response => response.json())\n            .then(responseJson => {\n                this.setState({ systemData: responseJson });\n            });\n    }\n\n    //get system details\n    getSystemDetails(systemId) {\n    return fetch(\n        process.env.REACT_APP_API +\n        `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/system/` +\n        systemId,\n        {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n         }\n    )\n    .then(response => response.json())\n    .then(responseJson => {\n        console.log(responseJson.services.length)\n        console.log(responseJson.references.length)\n        if(responseJson.services.length > 0  || responseJson.references.length > 0) \n        this.setState({itemType : 'deleteFailed'});\n    });\n}\n    \n\n    //manage add more system/flow text box to ui\n    addUiToggle(event, type) {\n        if (type === 'system') {\n            this.setState(state => ({ systemAdd: !state.systemAdd, itemEntity: 'system' }));\n        } else {\n            this.setState(state => ({ flowAdd: !state.flowAdd, itemEntity: 'flow' }));\n        }\n\n    }\n\n    //setting entity while add more systems/flows\n    resetAddUiToggle(event, type) {\n        if (type === 'system') {\n            this.setState(state => ({ itemEntity: 'system' }));\n        } else {\n            this.setState(state => ({ itemEntity: 'flow' }));\n        }\n\n    }\n\n    //setting system id on click\n    systemSelected(systemId) {\n        this.props.systemSelected(systemId);\n    }\n\n    close(menu, type) {\n        this.props.close(menu, type);\n    }\n\n    flowsSelected(flowId, status) {\n        this.props.flowsSelected(flowId, status);\n    }\n\n    systemMenuToggle() {\n        this.setState(state => ({ systemsCollapse: !state.systemsCollapse }));\n        this.setState({flowaddClass: !this.state.flowaddClass});\n    }\n    flowsMenuToggle() {\n        this.setState(state => ({ flowsCollapse: !state.flowsCollapse }));\n    }\n\n    flowsToggle(flowId) {\n\n        if (\n            this.state.currentFlowIndex === flowId ||\n            (!this.state.showflowDetail && this.state.search)\n        ) {\n            this.setState({ search: false })\n            this.setState({ currentFlowIndex: 0 })\n                ;\n            this.flowsSelected(flowId, true);\n        } else {\n            this.setState({ currentFlowIndex: flowId });\n            this.setState({ showflowDetail: true });\n            this.flowsSelected(flowId, true);\n            return fetch(\n                process.env.REACT_APP_API +\n                \"/model/2d0a2236-3083-4572-ad7b-a8d2ea94c18c/flow/72ad974f-e4e2-41c2-8838-79ebd240f315\",\n                {\n                    method: \"GET\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            )\n                .then(response => response.json())\n                .then(responseJson => {\n                    this.setState({ flowDetail: responseJson });\n                });\n        }\n    }\n\n    //system listing toggle\n    systemToggle(systemId) {\n        if (\n            this.state.currentSystemIndex === systemId ||\n            (!this.state.showsystemDetail && this.state.search)\n        ) {\n            this.setState({ search: false })\n            this.setState({ currentSystemIndex: 0 });\n            this.systemSelected(systemId);\n        } else {\n            this.setState({ currentSystemIndex: systemId });\n            this.systemSelected(systemId);\n        }\n        this.props.onHighlightClick(systemId);\n    }\n\n    //sub system listing toggle\n    subSystemToggle(systemId) {\n        this.setState({ collapseSubSystem: !this.state.collapseSubSystem });\n        if (this.state.currentSubSystemIndex === systemId) {\n            this.setState({ currentSubSystemIndex: 0 })\n            this.systemSelected(systemId);\n\n        } else {\n            this.setState({ currentSubSystemIndex: systemId });\n            this.systemSelected(systemId);\n        }\n    }\n\n    //create entity \n    createEntity(event) {\n        let value = event.target.value;\n        if (event.key === 'Enter') {\n            event.target.value = '';\n            fetch(\n                process.env.REACT_APP_API +\n                `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/${this.state.itemEntity}`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            )\n                .then(response => response.json())\n                .then(responseJson => {\n                    return fetch(\n                        process.env.REACT_APP_API +\n                        `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/${this.state.itemEntity}/` +\n                        responseJson.id,\n                        {\n                            method: \"PATCH\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({ name: value })\n                        }\n                    )\n                        .then(response => response.json())\n                        .then(responseJson => {\n                            this.fetchSystemAndFlows();\n                        });\n                });\n        }\n    }\n\n\n    //create service\n    createService(event) {\n        let value = event.target.value;\n        if ((event.key === 'Enter' || event.type === 'blur') && value) {\n            event.target.value = '';\n            this.setState(prevState => ({\n                modal: !prevState.modal\n            }));\n\n            fetch(\n                process.env.REACT_APP_API +\n                `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/system/${this.state.itemId}/service`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            )\n                .then(response => response.json())\n                .then(responseJson => {\n                    return fetch(\n                        process.env.REACT_APP_API +\n                        `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/service/` + responseJson.id,\n\n                        {\n                            method: \"PATCH\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({ name: value })\n                        }\n                    )\n                        .then(response => {this.fetchSystemAndFlows()})\n                });\n        }\n    }\n\n    //create service\n    createReference(event) {\n        let value = event.target.value;\n        if ((event.key === 'Enter' || event.type === 'blur') && value && this.state.serviceId) {\n            event.target.value = '';\n            this.setState(prevState => ({\n                modal: !prevState.modal\n            }));\n\n            fetch(\n                process.env.REACT_APP_API +\n                `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/system/${this.state.systemId}/reference/${this.state.serviceId}`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({ name: value })\n                }\n            )\n                .then(response => response.json())\n                .then(responseJson => {\n                    return fetch(\n                        process.env.REACT_APP_API +\n                        `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/reference/` + responseJson.id,\n\n                        {\n                            method: \"PATCH\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({ name: value })\n                        }\n                    )\n                        .then(response => response.json())\n                        .then(responseJson => {\n                            this.fetchSystemAndFlows();\n                        })\n                });\n        }\n    }\n\n\n    //create entity \n    createSubSyetem(event) {\n        let value = event.target.value;\n        if (event.key === 'Enter') {\n            event.target.value = '';\n            fetch(\n                process.env.REACT_APP_API +\n                `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/${this.state.itemEntity}/${this.state.itemId}/${this.state.itemEntity}`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            )\n                .then(response => response.json())\n                .then(responseJson => {\n                    return fetch(\n                        process.env.REACT_APP_API +\n                        `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/${this.state.itemEntity}/` +\n                        responseJson.id,\n                        {\n                            method: \"PATCH\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({ name: value })\n                        }\n                    )\n                        .then(response => {this.fetchSystemAndFlows()})\n                });\n        }\n    }\n\n    //Delete entity\n    deleteEntity() {\n        //console.log(this.state.item.services);\n        if(this.state.itemEntity === 'system' && (this.state.item.services.length > 0 || this.state.item.references.length > 0))  {\n            this.setState(prevState => ({\n                modal: !prevState.modal\n            }));\n            this.state.itemType = 'deleteFailed';\n            this.setState({modal: true })\n        } else {\n            return fetch(\n                process.env.REACT_APP_API +\n                `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/${this.state.itemEntity === 'flow' ? 'flow' : 'modeled'}/${this.state.itemId}`,\n                {\n                    method: \"DELETE\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            )\n                .then(response => {\n                    this.setState(prevState => ({\n                        modal: !prevState.modal\n                    }));\n                    this.fetchSystemAndFlows()\n                });\n        }\n   }\n\n    //update item value for edit\n    renameHandleChange = (e) => {\n        this.setState({ itemName: e.target.value });\n    }\n\n    //Update entity\n    updateEntity(event) {\n        let value = event.target.value;\n        if ((event.key === 'Enter' || event.type === 'blur') && this.state.modal && value) { \n            event.target.value = '';\n            this.setState(prevState => ({\n                modal: !prevState.modal\n            }));\n            fetch(\n                process.env.REACT_APP_API +\n                `/model/6f13762c-6a71-4f50-aed8-b015d55bbe83/${this.state.itemEntity}/` +\n                this.state.itemId,\n                {\n                    method: \"PATCH\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({ name: value })\n                }\n            )\n                .then(responseJson => { this.fetchSystemAndFlows() });\n        }\n\n    }\n\n    //control right click modal\n    modalToggle(e, data) {\n        //console.log(data)\n        this.setState(prevState => ({\n            modal: !prevState.modal\n        }));\n\n        if (data) {\n            console.log(data)\n            this.setState({\n                item: data.item,\n                itemId: data.itemId,\n                itemName: data.itemName,\n                itemType: data.itemType,\n                itemEntity: data.itemEntity\n            })\n\n        }\n    }\n\n    //get systems and services list for adding new reference\n    getSystems(event) {\n        let index = event.target.selectedIndex;\n        let id = event.target[index].id\n        this.setState({ systemId: id })\n        let parents = this.state.systemData.systems;\n        let parent = parents.filter(parent => parent.name === event.target.value);\n        if(parent)\n        this.setState({ servicesList: parent[0].services });\n    }\n\n    serviceChangeHandle(event) {\n        this.setState({ serviceId: event.target.value })\n    }\n\n\n    subSystem(item) {\n        if (item) {\n            return fetch(\n                process.env.REACT_APP_API + \"/model/6c161cbe-0d86-413b-8ea1-0bbb2ba9e5d6/system1/\" + item,\n                {\n                    method: \"GET\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            )\n                .then(response => response.json())\n                .then(responseJson => {\n                    this.setState({ testData: responseJson });\n                })\n        }\n\n    }\n\n    render() {\n        let flowBoxClass = [\"flowbox\"];\n        if(this.state.flowAddClass) {\n            flowBoxClass.push('green');\n        }\n        return (\n            <div className=\"org_browser\" >\n              <ContextMenu id=\"system_right_click\">\n                    <MenuItem data={{ itemType: 'add_sub_system', itemEntity: 'system' }} onClick={this.modalToggle}>\n                        Add Sub System\n            </MenuItem>\n                    <MenuItem data={{ itemType: 'service', itemEntity: 'service' }} onClick={this.modalToggle}>\n                        Add Service\n            </MenuItem>\n                    <MenuItem data={{ itemType: 'add_reference', itemEntity: 'reference' }} onClick={this.modalToggle}>\n                        Add Reference\n            </MenuItem>\n                    <MenuItem data={{ itemType: 'delete', itemEntity: 'system' }} onClick={this.modalToggle}>\n                        Delete\n            </MenuItem>\n                    <MenuItem data={{ itemType: 'rename', itemEntity: 'system' }} onClick={this.modalToggle}>\n                        Rename\n            </MenuItem>\n                </ContextMenu>\n            <ContextMenu id=\"default_right_click\">\n\n                    <MenuItem data={{ itemType: 'delete' }} onClick={this.modalToggle}>\n                        Delete\n            </MenuItem>\n                    <MenuItem data={{ itemType: 'rename' }} onClick={this.modalToggle}>\n                        Rename\n            </MenuItem>\n                </ContextMenu>\n                <Modal isOpen={this.state.modal} toggle={this.modalToggle} className={this.props.className}>\n                    <ModalBody className={this.state.itemType === 'delete' ? 'text-center delete-modal-body ' : ''}>\n                        {this.state.itemType === 'add_sub_system' && (\n                            <div>\n                                <h4 className=\"text-center m-b-30\">Create new sub system</h4>\n                                <input\n                                    type=\"text\"\n                                    className=\"text-input\"\n                                    placeholder=\"Add New Sub System\"\n                                    onBlur={this.createSubSyetem.bind(this)}\n                                    onKeyDown={this.createSubSyetem.bind(this)}\n                                />\n                            </div>)}\n                        {this.state.itemType === 'service' && (\n                            <div>\n                                <h4 className=\"text-center m-b-30\">Create new service.</h4>\n                                <input\n                                    type=\"text\"\n                                    className=\"text-input\"\n                                    placeholder=\"Add New Service\"\n                                    onBlur={this.createService.bind(this)}\n                                    onKeyDown={this.createService.bind(this)}\n                                />\n\n                            </div>)}\n                        {this.state.itemType === 'add_reference' && (\n                            <div>\n                                <h4 className=\"text-center m-b-30\">Create new reference</h4>\n                                <div className=\"row formGroupWrapper\">\n                                    <div className=\"form-group col-md-3\">\n                                        {/* <Label for=\"exampleSelect\">System</Label> */}\n                                        <Input type=\"select\" name=\"select\" onChange={this.getSystems.bind(this)}>\n                                            <option>System</option>\n                                            {this.state.systemData.systems\n                                                ? this.state.systemData.systems.map((item, index) => {\n                                                    return (\n                                                        this.state.itemId === item.id ? '' : <option value={item.name} id={item.id}>{item.name}</option>\n\n                                                    )\n                                                }) : ''}\n\n                                        </Input>\n                                    </div>\n                                    <div className=\"form-group col-md-3\">\n                                        {/* <Label for=\"exampleSelect\">Service</Label> */}\n                                        <Input type=\"select\" name=\"select\" id=\"exampleSelect\" onChange={this.serviceChangeHandle.bind(this)}>\n                                            <option>Service</option>\n                                            {this.state.servicesList\n                                                ? this.state.servicesList.map((item, index) => {\n                                                    return (\n                                                        <option value={item.id}>{item.name}</option>\n                                                    )\n                                                }) : ''}\n                                        </Input>\n                                    </div>\n                                    <div className=\"form-group col-md-6\">\n                                        <Input className=\"create-ref\" type=\"text\" name=\"text\" id=\"example\" placeholder=\"Add New Reference\" onBlur={this.createReference.bind(this)}\n                                            onKeyDown={this.createReference.bind(this)} />\n                                    </div>\n                                </div>\n\n                            </div>)}\n                        {this.state.itemType === 'rename' && (\n                            <div>\n                                <h4 className=\"text-center m-b-30\">Do you want to rename?</h4>\n                                <input\n                                    type=\"text\"\n                                    className=\"text-input\"\n                                    placeholder=\"Rename\"\n                                    value={this.state.itemName || ''}\n                                    onBlur={this.updateEntity.bind(this)}\n                                    onChange={this.renameHandleChange.bind(this)}\n                                    onKeyDown={this.updateEntity.bind(this)}\n                                />\n\n                            </div>)}\n                        {this.state.itemType === 'delete' && (\n                            <div>\n                                <h4>Are you sure?</h4>\n                                <p>Do you really want to delete these records? <br />\n                                    Process cannot be undone</p>\n                                <div className=\"delete-button\">\n                                    <button class=\"btn black-btn\" onClick={this.deleteEntity.bind(this)}>confirm</button>\n                                    <button class=\"btn transparent-black-btn\" onClick={this.modalToggle}>cancel</button>\n                                </div></div>)}\n                                {this.state.itemType === 'deleteFailed' && (\n                            <div>\n                                <p>Not able to delete.System have child objects.<br /></p>\n                                </div>)}\n                    </ModalBody>\n                </Modal>\n                <h3 className=\"text-center text-white\">\n                    Systems and Flows\n                    <i className=\"fas fa-times system-down-icon browser_close\" onClick={() => this.close('system', 'menu')} />\n                </h3>\n                <VerticalScrollbars autoHide>\n\n                    <div className=\"browser_wrapper\">\n                        <div className=\"org-selector\">\n                            <p className=\"text-white text-left\">Selector</p>\n                            <div className=\"_search\" id=\"searchControl\">\n                                <input\n                                    type=\"text\"\n                                    className=\"search-input\"\n                                    onKeyUp={this.searchSystem}/>\n                                <span className=\"icon icon-Search search-icon\" />\n                            </div>\n                            <div className=\"systems w-100 d-inline-block montserrat text-grey\">\n                                <div className=\"system-search montserrat\" />\n\n                                <p\n                                    className={`text-white click systemClick ${this.state.systemsCollapse ? 'active ' : ''}`}\n                                    style={{ marginBottom: \"1rem\" }}\n                                >\n                                    <span onClick={this.systemMenuToggle}>\n                                        Systems\n                                    <i className=\"fas fa-chevron-down system-down-icon\" />\n\n                                    </span>\n                                    {!this.state.systemAdd && (\n                                        <i\n                                            className=\"fas fa-plus system-down-icon\"\n                                            id=\"system\"\n\n                                            onClick={(e) => {\n                                                this.addUiToggle(e, 'system')\n                                            }}\n                                        />)}\n                                </p>\n                                \n                                    {this.state.systemAdd && (<div className=\"extra-add\">\n                                        <input\n                                            type=\"text\"\n                                            id=\"system\"\n                                            onKeyDown={this.createEntity.bind(this)}\n                                            onFocus={(e) => {\n                                                this.resetAddUiToggle(e, 'system')\n                                            }}\n                                        />\n                                        <button type=\"button\" onClick={(e) => {\n                                            this.addUiToggle(e, 'system')\n                                        }}>\n                                            <i className=\"fas fa-times\" />\n                                        </button>\n                                    </div>)}\n\n                                    <Collapse\n                                        isOpen={this.state.systemsCollapse}\n                                        id=\"systemListing\"\n\n                                >\n                                    <VerticalScrollbars className=\" className={boxClass.join('org-height-50, ')}\">\n                                        {this.state.systemData.systems\n                                            ? this.state.systemData.systems.map((item, index) => {\n                                                return (\n                                                    <div key={item.id} className=\"listingItem\">\n                                                        <ContextMenuTrigger id=\"system_right_click\" item={item} itemName={item.name} itemId={item.id} collect={collect}>\n                                                            <p\n                                                                className={`text-grey click ${this.state.currentSystemIndex === item.id ? 'active ' : ''}`}\n                                                                onClick={() => this.systemToggle(item.id)}\n                                                                style={{\n                                                                    marginLeft: \"1rem\"\n                                                                }}\n                                                            >\n\n                                                                <i className={`system-down-icon left text-white ${(item.services || item.references || item.subsystems) ? 'fas fa-chevron-down' : ''}`} />\n                                                                <span className=\"systemCircle\" />\n\n                                                                <span\n                                                                    id={item.id}\n                                                                    onClick={() => this.systemToggle(item.id)}\n                                                                    className={\n                                                                        this.state.ids.includes(item.id)\n                                                                            ? \"highlight \"\n                                                                            : \"test text-grey\"\n                                                                    }\n                                                                >\n                                                                    {item.name}\n                                                                </span>\n\n\n\n                                                            </p>\n                                                        </ContextMenuTrigger>\n                                                        <Collapse\n                                                            isOpen={\n                                                                this.state.currentSystemIndex === item.id ||\n                                                                    this.state.search\n                                                                    ? true\n                                                                    : false\n                                                            }\n                                                        >\n                                                            {item.services\n                                                                ? item.services.map((service, i) => {\n                                                                    return (\n                                                                        <div id={service.id} key={service.id}>\n                                                                            <ContextMenuTrigger id=\"default_right_click\" itemName={service.name} itemId={service.id} itemEntity=\"service\" collect={collect}>\n                                                                                <p\n                                                                                    className=\"text-grey click\"\n                                                                                    style={{\n                                                                                        marginBottom: \"1rem\",\n                                                                                        marginLeft: \"5rem\"\n                                                                                    }}\n                                                                                >\n\n                                                                                    <span className=\"serviceCircle\" />\n                                                                                    {service.name}\n                                                                                </p>\n                                                                            </ContextMenuTrigger>\n                                                                        </div>\n                                                                    );\n                                                                })\n                                                                : \"\"}\n\n                                                            {item.references\n                                                                ? item.references.map((referenceData, i) => {\n                                                                    return (\n                                                                        <ContextMenuTrigger key={i} id=\"default_right_click\" itemName={referenceData.name} itemId={referenceData.id} itemEntity=\"reference\" collect={collect}>\n                                                                            <p key={referenceData.id}\n                                                                                className=\"text-grey click\"\n                                                                                style={{\n                                                                                    marginBottom: \"1rem\",\n                                                                                    marginLeft: \"5rem\"\n                                                                                }}\n                                                                            >\n                                                                                <span className=\"referenceArrow\">→</span>\n                                                                                {referenceData.name}\n                                                                            </p>\n                                                                        </ContextMenuTrigger>\n                                                                    );\n                                                                })\n                                                                : \"\"}\n\n                                                            {item.subsystems\n                                                                ? item.subsystems.map((subsystems, i) => {\n                                                                    this.subSystem(subsystems)\n                                                                    return (\n                                                                        <div key={i}>\n                                                                            <p\n                                                                                className={`text-grey click ${this.state.currentSubSystemIndex === subsystems ? 'active ' : ''}`}\n                                                                                onClick={() =>\n                                                                                    this.subSystemToggle(\n                                                                                        subsystems\n                                                                                    )\n                                                                                }\n                                                                                style={{\n                                                                                    marginBottom: \"1rem\",\n                                                                                    marginLeft: \"3rem\"\n                                                                                }}\n                                                                            >\n                                                                                <i className={`system-down-icon left text-white ${(this.state.testData.services || this.state.testData.references) ? 'fas fa-chevron-down' : ''}`} />\n                                                                                <img\n                                                                                    src={subsystem}\n                                                                                    alt=\"starlify\"\n                                                                                    className=\"m-r-15 m-b-5 \"\n                                                                                />\n                                                                                <span\n                                                                                    id={subsystems}\n                                                                                    className={\n                                                                                        this.state.ids.includes(\n                                                                                            subsystems\n                                                                                        )\n                                                                                            ? \"highlight\"\n                                                                                            : \"\"\n                                                                                    }\n                                                                                >\n                                                                                {this.state.testData.name} \n                                                                                </span>\n                                                                            </p>\n                                                                            <Collapse\n                                                                                isOpen={\n                                                                                    this.state\n                                                                                        .currentSubSystemIndex ===\n                                                                                        subsystems\n                                                                                        ? true\n                                                                                        : false\n                                                                                }\n                                                                            >\n                                                                                {this.state.testData.services\n                                                                                    ? this.state.testData.services.map(\n                                                                                        (service, i) => {\n                                                                                            return (\n                                                                                                <div id={service.id}>\n                                                                                                    <p\n                                                                                                        className=\"text-grey click\"\n                                                                                                        style={{\n                                                                                                            marginBottom:\n                                                                                                                \"1rem\",\n                                                                                                            marginLeft: \"4rem\"\n                                                                                                        }}\n                                                                                                    >\n                                                                                                        <img\n                                                                                                            src={services}\n                                                                                                            alt=\"starlify\"\n                                                                                                            className=\"m-r-15 m-b-5 \"\n                                                                                                        />\n                                                                                                        \n                                                                                                        {service.name}\n                                                                                                    </p>\n                                                                                                </div>\n                                                                                            );\n                                                                                        }\n                                                                                    )\n                                                                                    : \"\"}\n                                                                                {this.state.testData.references\n                                                                                    ? this.state.testData.references.map(\n                                                                                        (references, i) => {\n                                                                                            return (\n                                                                                                <div id={references.id}>\n                                                                                                    <p\n                                                                                                        className=\"text-grey click\"\n                                                                                                        style={{\n                                                                                                            marginBottom:\n                                                                                                                \"1rem\",\n                                                                                                            marginLeft: \"4rem\"\n                                                                                                        }}\n                                                                                                    >\n                                                                                                        <img\n                                                                                                            src={reference}\n                                                                                                            alt=\"starlify\"\n                                                                                                            className=\"m-r-15 m-b-5 \"\n                                                                                                        />\n                                                                                                        <div>→</div>\n                                                                                                        {reference.name}\n                                                                                                    </p>\n                                                                                                </div>\n                                                                                            );\n                                                                                        }\n                                                                                    )\n                                                                                    : \"\"}\n                                                                            </Collapse>\n                                                                        </div>\n                                                                    );\n                                                                })\n                                                                : \"\"}\n\n                                                        </Collapse>\n                                                    </div>\n                                                );\n                                            })\n                                            : \"\"}\n                                        </VerticalScrollbars>\n                                    </Collapse>\n                                \n                            </div>\n                            <div className=\"flows\">\n                                <p\n                                    style={{ marginBottom: \"1rem\" }}\n                                    className={`text-white click flowClick ${this.state.flowsCollapse ? 'active ' : ''}`}\n                                >\n                                    Flows<i className=\"fas fa-chevron-down system-down-icon\" onClick={this.flowsMenuToggle} />\n\n                                    {!this.state.flowAdd && (<i\n                                        className=\"fas fa-plus system-down-icon\"\n                                        id=\"flows\"\n\n                                        onClick={(e) => {\n                                            this.addUiToggle(e, 'flow')\n                                        }}\n                                    />)}\n\n                                </p>\n                                \n                                    {this.state.flowAdd && (<div className=\"extra-add\">\n                                        <input\n                                            type=\"text\"\n                                            id=\"flow\"\n                                            onKeyDown={this.createEntity.bind(this)}\n                                            onFocus={(e) => {\n                                                this.resetAddUiToggle(e, 'flow')\n                                            }}\n                                        />\n                                        <button type=\"button\" onClick={(e) => {\n                                            this.addUiToggle(e, 'flow')\n                                        }}>\n                                            <i className=\"fas fa-times\" />\n                                        </button>\n                                    </div>)}\n                                <Collapse isOpen={this.state.flowsCollapse} id=\"FlowListing\">\n                                    <VerticalScrollbars  className=\"org-height-50\">\n                                        {this.state.systemData.flows\n                                            ? this.state.systemData.flows.map((item, index) => {\n                                                return (\n                                                    <div key={item.id}>\n                                                        <ContextMenuTrigger id=\"default_right_click\" itemName={item.name} itemId={item.id} itemEntity=\"flow\" collect={collect}>\n                                                            <p\n                                                                className=\"text-grey click\"\n                                                                style={{\n                                                                    marginBottom: \"1rem\",\n                                                                    marginLeft: \"2rem\"\n                                                                }}\n                                                                onClick={() => this.flowsToggle(item.id)}\n                                                            >\n                                                                <span\n                                                                    id={item.id}\n                                                                    className={\n                                                                        this.state.ids.includes(item.id)\n                                                                            ? \"highlight\"\n                                                                            : \"\"\n                                                                    }\n                                                                >\n                                                                    {item.name}\n                                                                </span>\n                                                            </p>\n                                                        </ContextMenuTrigger>\n                                                    </div>\n                                                );\n                                            })\n                                            : \"\"}\n                                    </VerticalScrollbars>\n                                </Collapse>\n                                \n                            </div>\n                        </div>\n                    </div>\n                </VerticalScrollbars>\n\n            </div>\n        );\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        onHighlightClick: (systemId) => {\n            const action = { type: \"HIGHLIGHT\", system: systemId };\n            dispatch(action);\n        }\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(Systems);\n"]},"metadata":{},"sourceType":"module"}