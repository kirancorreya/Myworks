{"ast":null,"code":"var _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/ModalAcess.js\";\nimport React, { Component } from \"react\";\nimport { Table, Modal, ModalBody, Input, FormGroup, Col, Row, Collapse } from \"reactstrap\";\nimport pen from \"../../../_assets/icons/icons/edit-icon.svg\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport { connect } from \"react-redux\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\n\nclass ModalAcess extends Component {\n  constructor(props) {\n    super(props);\n\n    this.modalToggle = () => {\n      this.setState({\n        popup: !this.state.popup,\n        eventType: null\n      });\n    };\n\n    this.selectModel = e => {\n      this.setState({\n        modeluri: e.target.value\n      });\n      fetch(process.env.REACT_APP_API + e.target.value).then(res => res.json()).then(result => {\n        this.setState({\n          model: result,\n          accessEditor: true\n        });\n      }).catch(error => {\n        this.setState({\n          model: null,\n          accessEditor: false\n        });\n      });\n      var modelArr = e.target.value.split(\"/\");\n      this.fetchModelGrants(modelArr[2]);\n      this.fetchDivisions(this.props.domain);\n    };\n\n    this.fetchModelGrants = modelId => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/grant/\" + modelId).then(res => res.json()).then(json => {\n        this.setState({\n          grants: json\n        });\n      });\n    };\n\n    this.fetchDivisions = domainId => {\n      return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId).then(res => res.json()).then(result => {\n        var org = result.organisation;\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + org.id + \"/organisations\").then(res => res.json()).then(json => {\n          var organisations = json;\n\n          for (var i = 0; i < organisations.length; i++) {\n            let org = organisations[i];\n            org[\"teams\"] = [];\n\n            if (org._links && org._links.length !== 0 && this.state.model !== null) {\n              this.fetchTeams(domainId, this.state.model.id, org.id).then(teams => org[\"teams\"] = teams);\n            }\n          }\n\n          this.setState({\n            divisions: organisations\n          });\n          return true;\n        });\n      });\n    };\n\n    this.fetchTeams = (domainId, modelId, orgid) => {\n      return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/organisations\").then(res => res.json()).then(json => {\n        var organisations = json;\n\n        for (var i = 0; i < organisations.length; i++) {\n          let org = organisations[i];\n          org[\"persons\"] = [];\n\n          if (org._links && org._links.length !== 0) {\n            this.fetchPersons(domainId, modelId, org.id).then(persons => org[\"persons\"] = persons);\n          }\n        }\n\n        return organisations;\n      });\n    };\n\n    this.fetchPersons = (domainId, modelId, orgid) => {\n      return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/persons\").then(res => res.json()).then(persons => {\n        return persons;\n      });\n    };\n\n    this.onGrantChange = (e, grantid) => {\n      if (e.target.checked) {\n        this.addGrantAccess(this.props.domain, this.state.model.id, grantid, e.target.value);\n      } else {\n        this.deleteGrantAccess(this.props.domain, this.state.model.id, grantid, e.target.value);\n      }\n    };\n\n    this.addGrantAccess = (domainId, modelId, grantid, value) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, {\n        method: \"POST\"\n      }).then(result => {\n        console.log(\"added\", result);\n        this.fetchModelGrants(this.state.model.id);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.deleteGrantAccess = (domainId, modelId, grantid, value) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, {\n        method: \"DELETE\"\n      }).then(result => {\n        console.log(\"deleted\", result);\n        this.fetchModelGrants(this.state.model.id);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.close = this.close.bind(this);\n    this.fetchDivisions = this.fetchDivisions.bind(this);\n    this.fetchTeams = this.fetchTeams.bind(this);\n    this.fetchPersons = this.fetchPersons.bind(this);\n    this.fetchModelGrants = this.fetchModelGrants.bind(this);\n    this.grantToggle = this.grantToggle.bind(this);\n    this.state = {\n      modeluri: \"\",\n      model: null,\n      models: [],\n      divisions: [],\n      grants: [],\n      accessEditor: false,\n      popup: false,\n      eventType: null,\n      grantModal: false\n    };\n  }\n\n  grantToggle() {\n    this.setState(prevState => ({\n      grantModal: !prevState.grantModal\n    }));\n  }\n\n  close(type) {\n    this.props.close(type);\n  }\n\n  componentDidMount() {\n    var domainID = this.props.domain;\n\n    if (domainID !== \"\") {\n      fetch(process.env.REACT_APP_API + \"/domain/\" + domainID).then(res => res.json()).then(result => {\n        this.setState({\n          models: result.links\n        });\n      }).catch(error => {\n        this.setState({\n          models: []\n        });\n      });\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    const domain = newProps.domain,\n          type = newProps.type;\n\n    switch (type) {\n      case \"SELECTDOMAIN\":\n        this.setState({\n          modeluri: \"\",\n          model: null,\n          models: [],\n          divisions: [],\n          grants: [],\n          accessEditor: false,\n          popup: false,\n          eventType: null\n        });\n\n        if (domain !== \"\") {\n          fetch(process.env.REACT_APP_API + \"/domain/\" + domain).then(res => res.json()).then(result => {\n            this.setState({\n              models: result.links\n            });\n          }).catch(error => {\n            this.setState({\n              models: []\n            });\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const models = this.state.models;\n    console.log(this.state.divisions);\n    return React.createElement(\"div\", {\n      className: \"browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.popup,\n      toggle: this.modalToggle,\n      className: \"selectModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, this.state.eventType === \"model-choose\" && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"d-inline-block modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Choose model\"), React.createElement(\"button\", {\n      className: \"btn grey-btn modal-top-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \" Done \", React.createElement(\"img\", {\n      src: check,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }), \" \"), React.createElement(\"p\", {\n      className: \"text-white text-size-16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Choose which model you want to edit\"), React.createElement(\"div\", {\n      className: \"model-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, models.map((item, i) => React.createElement(\"li\", {\n      key: \"models_\" + i,\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: \"8\",\n      className: \"modelName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \" \", item.title, \" \"), React.createElement(Col, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"mod_opt\" + i,\n      name: \"modelUri\",\n      value: item.uri,\n      checked: this.state.modeluri === item.uri,\n      onChange: this.selectModel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"mod_opt\" + i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }))))))))), React.createElement(Modal, {\n      isOpen: this.state.grantModal,\n      toggle: this.grantToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"d-inline-block modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Edit access for Division 3\"), React.createElement(\"button\", {\n      className: \"btn grey-btn modal-top-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Done \", React.createElement(\"img\", {\n      src: check,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"modalAccesListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"division_model\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_body_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"modelListWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"modelListHeader text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Read\"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Write\"), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"modelListbody text-white divisionListItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      className: \"divisionitemtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Division\"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-1-1\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-1-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-1-2\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-1-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"text-white subModelListbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"teamListWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"teamListItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      className: \"teamitemtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"Team1\"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-2-1\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-2-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-2-2\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-2-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"developerListWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"developerListItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      className: \"developeritemtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \"Developer1\"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-3-1\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-3-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-3-2\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-3-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"developerListItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      className: \"developeritemtext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, \"Developer2\"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-4-1\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-4-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"checkbox-4-2\",\n      class: \"regular-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"checkbox-4-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }))))))))))))))), this.state.accessEditor === false && React.createElement(\"div\", {\n      className: \"modalAccesListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-key submenu-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"Models Access\"), React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon\",\n      onClick: () => this.close(\"modelAccess\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-right modelChooseWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"modelChoose raleway\",\n      onClick: () => {\n        this.setState({\n          eventType: \"model-choose\",\n          popup: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, \"Choose model\"))), React.createElement(\"div\", {\n      className: \"browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center text-white m-t-65 text-size-18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, \"So you need to give access to your division, teams or developers?\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }), \"You\\u2019ve come to the right place.\"), React.createElement(\"p\", {\n      className: \"text-center text-white m-t-65 text-size-18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, \"Just click the Choose model button and choose what \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }), \"model you need to work in and then you can start adding \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }), \"your division, teams and developers.\"), React.createElement(\"h1\", {\n      className: \"text-center text-white m-t-65\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, \"No chosen model\"))), this.state.accessEditor === true && React.createElement(\"div\", {\n      className: \"modalAccesListing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-key submenu-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, \"Models Access\"), React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon\",\n      onClick: () => this.close(\"modelAccess\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439\n      },\n      __self: this\n    }, \"Edit models access for \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, this.state.model.name)), React.createElement(\"div\", {\n      className: \"text-right modelChooseWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"d-inline-block modelChoose\",\n      onClick: () => {\n        this.setState({\n          eventType: \"model-choose\",\n          popup: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, \"Change model\"))), React.createElement(\"div\", {\n      className: \"browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"division_model\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_body_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, \"Divisions\")), React.createElement(\"div\", {\n      className: \"browser_body_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"modelListWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"modelListHeader text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, \" Read \"), React.createElement(Col, {\n      sm: \"3\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, \" Write \"), React.createElement(Col, {\n      sm: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }))), this.state.divisions && this.state.divisions.length !== 0 && this.state.divisions.map((division, i) => {\n      var divRead = false;\n      var divWrite = false;\n      this.state.grants.forEach(item => {\n        if (item.principal.id === division.id) {\n          divRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n          divWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n        }\n      });\n      return React.createElement(\"li\", {\n        key: \"div_key\" + i,\n        className: \"text-white subModelListbody\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"teamListWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"teamListItem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"5\",\n        className: \"teamitemtext\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, \" \", division.name, \" \"), React.createElement(Col, {\n        sm: \"3\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: divRead ? \"fas fa-check\" : \"fas fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"3\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: divWrite ? \"fas fa-check\" : \"fas fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fas fa-pen\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }), \" \"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"developerListWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }, division.teams.map(team => {\n        var tmRead = false;\n        var tmWrite = false;\n        this.state.grants.forEach(item => {\n          if (item.principal.id === team.id) {\n            tmRead = item.permissions.includes(\"RESOURCE_READ\") ? true : false;\n            tmWrite = item.permissions.includes(\"RESOURCE_ANY\") ? true : false;\n          }\n        });\n        return React.createElement(\"li\", {\n          className: \"developerListItem\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 505\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 506\n          },\n          __self: this\n        }, React.createElement(Col, {\n          sm: \"5\",\n          className: \"developeritemtext\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 507\n          },\n          __self: this\n        }, \" \", team.name, \" \"), React.createElement(Col, {\n          sm: \"3\",\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 508\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: tmRead ? \"fas fa-check\" : \"fas fa-times\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 509\n          },\n          __self: this\n        })), React.createElement(Col, {\n          sm: \"3\",\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 511\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: tmWrite ? \"fas fa-check\" : \"fas fa-times\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 512\n          },\n          __self: this\n        }))));\n      })))));\n    }))), React.createElement(Table, {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      width: \"50%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      width: \"25%\",\n      className: \"text-white text-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, \"Read\"), React.createElement(\"th\", {\n      width: \"25%\",\n      className: \"text-white text-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535\n      },\n      __self: this\n    }, \"Write\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, this.state.divisions && this.state.divisions.length !== 0 && this.state.divisions.map((division, index) => {\n      const perms = [\"RESOURCE_ANY\", \"RESOURCE_READ\"];\n      var divRead = false;\n      var divWrite = false;\n      this.state.grants.forEach((item, i) => {\n        if (item.principal.id === division.id) {\n          divRead = perms.some(r => item.permissions.includes(r)) ? \"checked\" : \"\";\n          divWrite = item.permissions.includes(\"RESOURCE_ANY\") ? \"checked\" : \"\";\n        }\n      });\n      return React.createElement(\"div\", {\n        className: \"tablewrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        key: division.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        width: \"50%\",\n        className: \"text-grey text-left division-table-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556\n        },\n        __self: this\n      }, \" \", division.name, \" \"), React.createElement(\"td\", {\n        width: \"25%\",\n        className: \"division-table-check\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"customCheckbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"read_\" + division.id,\n        checked: divRead,\n        defaultValue: \"RESOURCE_READ\",\n        onChange: e => {\n          this.onGrantChange(e, division.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"read_\" + division.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577\n        },\n        __self: this\n      }))), React.createElement(\"td\", {\n        width: \"25%\",\n        className: \"division-table-check\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"customCheckbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        defaultValue: \"RESOURCE_ANY\",\n        id: \"write_\" + division.id,\n        checked: divWrite,\n        onChange: e => {\n          this.onGrantChange(e, division.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"write_\" + division.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596\n        },\n        __self: this\n      })))));\n    }))))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    domain: state.model.domain,\n    type: state.model.type\n  };\n}\n\nexport default connect(mapStateToProps)(ModalAcess);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/ModalAcess.js"],"names":["React","Component","Table","Modal","ModalBody","Input","FormGroup","Col","Row","Collapse","connect","VerticalScrollbars","ModalAcess","constructor","props","modalToggle","setState","popup","state","eventType","selectModel","e","modeluri","target","value","fetch","process","env","REACT_APP_API","then","res","json","result","model","accessEditor","catch","error","modelArr","split","fetchModelGrants","fetchDivisions","domain","modelId","grants","domainId","org","organisation","id","organisations","i","length","_links","fetchTeams","teams","divisions","orgid","fetchPersons","persons","onGrantChange","grantid","checked","addGrantAccess","deleteGrantAccess","method","console","log","close","bind","grantToggle","models","grantModal","prevState","type","componentDidMount","domainID","links","componentWillReceiveProps","newProps","render","check","map","item","title","uri","name","division","divRead","divWrite","forEach","principal","permissions","includes","team","tmRead","tmWrite","index","perms","some","r","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,SAAzC,EAAoDC,GAApD,EAAyDC,GAAzD,EAA8DC,QAA9D,QAA8E,YAA9E;;;AAGA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,kBAAP,MAA+B,gDAA/B;;AAEA,MAAMC,UAAN,SAAyBX,SAAzB,CAAmC;AACjCY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA8BnBC,WA9BmB,GA8BL,MAAM;AAClB,WAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAE,CAAC,KAAKC,KAAL,CAAWD,KADP;AAEZE,QAAAA,SAAS,EAAE;AAFC,OAAd;AAID,KAnCkB;;AAAA,SAqCnBC,WArCmB,GAqCLC,CAAC,IAAI;AACjB,WAAKL,QAAL,CAAc;AAAEM,QAAAA,QAAQ,EAAED,CAAC,CAACE,MAAF,CAASC;AAArB,OAAd;AACAC,MAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4BP,CAAC,CAACE,MAAF,CAASC,KAAtC,CAAL,CACGK,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,MAAM,IAAI;AACd,aAAKhB,QAAL,CAAc;AACZiB,UAAAA,KAAK,EAAED,MADK;AAEZE,UAAAA,YAAY,EAAE;AAFF,SAAd;AAID,OAPH,EAQGC,KARH,CAQSC,KAAK,IAAI;AACd,aAAKpB,QAAL,CAAc;AACZiB,UAAAA,KAAK,EAAE,IADK;AAEZC,UAAAA,YAAY,EAAE;AAFF,SAAd;AAID,OAbH;AAcE,UAAIG,QAAQ,GAAGhB,CAAC,CAACE,MAAF,CAASC,KAAT,CAAec,KAAf,CAAqB,GAArB,CAAf;AACA,WAAKC,gBAAL,CAAsBF,QAAQ,CAAC,CAAD,CAA9B;AACA,WAAKG,cAAL,CAAoB,KAAK1B,KAAL,CAAW2B,MAA/B;AACH,KAxDkB;;AAAA,SA0DnBF,gBA1DmB,GA0DAG,OAAO,IAAI;AAC5BjB,MAAAA,KAAK,CAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,qBAA5B,GAAoD,KAAKd,KAAL,CAAW2B,MAA/D,GAAwE,SAAxE,GAAoFC,OAAtF,CAAL,CACGb,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQE,IAAI,IAAI;AACZ,aAAKf,QAAL,CAAc;AAAE2B,UAAAA,MAAM,EAAEZ;AAAV,SAAd;AACD,OAJH;AAKD,KAhEkB;;AAAA,SAkEnBS,cAlEmB,GAkEFI,QAAQ,IAAI;AAC3B,aAAOnB,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,qBAA5B,GAAoDgB,QAArD,CAAL,CACJf,IADI,CACCC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADR,EAEJF,IAFI,CAECG,MAAM,IAAI;AAEd,YAAIa,GAAG,GAAGb,MAAM,CAACc,YAAjB;AACArB,QAAAA,KAAK,CAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,qBAA5B,GAAoDgB,QAApD,GAA+D,gBAA/D,GAAkFC,GAAG,CAACE,EAAtF,GAA2F,gBAA7F,CAAL,CACGlB,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQE,IAAI,IAAI;AACZ,cAAIiB,aAAa,GAAGjB,IAApB;;AACA,eAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,aAAa,CAACE,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,gBAAIJ,GAAG,GAAGG,aAAa,CAACC,CAAD,CAAvB;AACAJ,YAAAA,GAAG,CAAC,OAAD,CAAH,GAAe,EAAf;;AACA,gBAAIA,GAAG,CAACM,MAAJ,IAAcN,GAAG,CAACM,MAAJ,CAAWD,MAAX,KAAsB,CAApC,IAAyC,KAAKhC,KAAL,CAAWe,KAAX,KAAqB,IAAlE,EAAwE;AACtE,mBAAKmB,UAAL,CAAgBR,QAAhB,EAA0B,KAAK1B,KAAL,CAAWe,KAAX,CAAiBc,EAA3C,EAA+CF,GAAG,CAACE,EAAnD,EAAuDlB,IAAvD,CACEwB,KAAK,IAAKR,GAAG,CAAC,OAAD,CAAH,GAAeQ,KAD3B;AAGD;AACF;;AACD,eAAKrC,QAAL,CAAc;AACZsC,YAAAA,SAAS,EAAEN;AADC,WAAd;AAGA,iBAAO,IAAP;AACD,SAjBH;AAmBD,OAxBI,CAAP;AAyBD,KA5FkB;;AAAA,SA8FnBI,UA9FmB,GA8FN,CAACR,QAAD,EAAWF,OAAX,EAAoBa,KAApB,KAA8B;AACzC,aAAO9B,KAAK,CAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,qBAA5B,GAAoDgB,QAApD,GAA+D,gBAA/D,GAAkFW,KAAlF,GAA0F,gBAA5F,CAAL,CACJ1B,IADI,CACCC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADR,EAEJF,IAFI,CAECE,IAAI,IAAI;AACZ,YAAIiB,aAAa,GAAGjB,IAApB;;AACA,aAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,aAAa,CAACE,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,cAAIJ,GAAG,GAAGG,aAAa,CAACC,CAAD,CAAvB;AACAJ,UAAAA,GAAG,CAAC,SAAD,CAAH,GAAiB,EAAjB;;AACA,cAAIA,GAAG,CAACM,MAAJ,IAAcN,GAAG,CAACM,MAAJ,CAAWD,MAAX,KAAsB,CAAxC,EAA2C;AACzC,iBAAKM,YAAL,CAAkBZ,QAAlB,EAA4BF,OAA5B,EAAqCG,GAAG,CAACE,EAAzC,EAA6ClB,IAA7C,CACE4B,OAAO,IAAKZ,GAAG,CAAC,SAAD,CAAH,GAAiBY,OAD/B;AAGD;AACF;;AACD,eAAOT,aAAP;AACD,OAdI,CAAP;AAeD,KA9GkB;;AAAA,SAgHnBQ,YAhHmB,GAgHJ,CAACZ,QAAD,EAAWF,OAAX,EAAoBa,KAApB,KAA8B;AAC3C,aAAO9B,KAAK,CAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,qBAA5B,GAAoDgB,QAApD,GAA+D,gBAA/D,GAAkFW,KAAlF,GAA0F,UAA5F,CAAL,CACJ1B,IADI,CACCC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADR,EAEJF,IAFI,CAEC4B,OAAO,IAAI;AACf,eAAOA,OAAP;AACD,OAJI,CAAP;AAKD,KAtHkB;;AAAA,SAwHnBC,aAxHmB,GAwHH,CAACrC,CAAD,EAAIsC,OAAJ,KAAgB;AAC9B,UAAItC,CAAC,CAACE,MAAF,CAASqC,OAAb,EAAsB;AACpB,aAAKC,cAAL,CACE,KAAK/C,KAAL,CAAW2B,MADb,EAEE,KAAKvB,KAAL,CAAWe,KAAX,CAAiBc,EAFnB,EAGEY,OAHF,EAIEtC,CAAC,CAACE,MAAF,CAASC,KAJX;AAMD,OAPD,MAOO;AACL,aAAKsC,iBAAL,CACE,KAAKhD,KAAL,CAAW2B,MADb,EAEE,KAAKvB,KAAL,CAAWe,KAAX,CAAiBc,EAFnB,EAGEY,OAHF,EAIEtC,CAAC,CAACE,MAAF,CAASC,KAJX;AAMD;AACF,KAxIkB;;AAAA,SA0InBqC,cA1ImB,GA0IF,CAACjB,QAAD,EAAWF,OAAX,EAAoBiB,OAApB,EAA6BnC,KAA7B,KAAuC;AACtDC,MAAAA,KAAK,CAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,qBAA5B,GAAoDgB,QAApD,GAA+D,SAA/D,GAA2EF,OAA3E,GAAqF,GAArF,GAA2FiB,OAA3F,GAAqG,cAArG,GAAsHnC,KAAxH,EAA+H;AAAEuC,QAAAA,MAAM,EAAE;AAAV,OAA/H,CAAL,CACGlC,IADH,CACQG,MAAM,IAAI;AACdgC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBjC,MAArB;AACA,aAAKO,gBAAL,CAAsB,KAAKrB,KAAL,CAAWe,KAAX,CAAiBc,EAAvC;AACD,OAJH,EAKGZ,KALH,CAKSC,KAAK,IAAI;AACd4B,QAAAA,OAAO,CAACC,GAAR,CAAY7B,KAAZ;AACD,OAPH;AAQD,KAnJkB;;AAAA,SAqJnB0B,iBArJmB,GAqJC,CAAClB,QAAD,EAAWF,OAAX,EAAoBiB,OAApB,EAA6BnC,KAA7B,KAAuC;AACzDC,MAAAA,KAAK,CAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,qBAA5B,GAAoDgB,QAApD,GAA+D,SAA/D,GAA2EF,OAA3E,GAAqF,GAArF,GAA2FiB,OAA3F,GAAqG,cAArG,GAAsHnC,KAAxH,EAA+H;AAAEuC,QAAAA,MAAM,EAAE;AAAV,OAA/H,CAAL,CACGlC,IADH,CACQG,MAAM,IAAI;AACdgC,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBjC,MAAvB;AACA,aAAKO,gBAAL,CAAsB,KAAKrB,KAAL,CAAWe,KAAX,CAAiBc,EAAvC;AACD,OAJH,EAKGZ,KALH,CAKSC,KAAK,IAAI;AACd4B,QAAAA,OAAO,CAACC,GAAR,CAAY7B,KAAZ;AACD,OAPH;AAQD,KA9JkB;;AAEjB,SAAK8B,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAK3B,cAAL,GAAsB,KAAKA,cAAL,CAAoB2B,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKf,UAAL,GAAkB,KAAKA,UAAL,CAAgBe,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKX,YAAL,GAAoB,KAAKA,YAAL,CAAkBW,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAK5B,gBAAL,GAAwB,KAAKA,gBAAL,CAAsB4B,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKjD,KAAL,GAAa;AACXI,MAAAA,QAAQ,EAAE,EADC;AAEXW,MAAAA,KAAK,EAAE,IAFI;AAGXoC,MAAAA,MAAM,EAAE,EAHG;AAIXf,MAAAA,SAAS,EAAE,EAJA;AAKXX,MAAAA,MAAM,EAAE,EALG;AAMXT,MAAAA,YAAY,EAAE,KANH;AAOXjB,MAAAA,KAAK,EAAE,KAPI;AAQXE,MAAAA,SAAS,EAAE,IARA;AASXmD,MAAAA,UAAU,EAAE;AATD,KAAb;AAWD;;AACDF,EAAAA,WAAW,GAAG;AACZ,SAAKpD,QAAL,CAAcuD,SAAS,KAAK;AAC1BD,MAAAA,UAAU,EAAE,CAACC,SAAS,CAACD;AADG,KAAL,CAAvB;AAGD;;AAEDJ,EAAAA,KAAK,CAACM,IAAD,EAAO;AACV,SAAK1D,KAAL,CAAWoD,KAAX,CAAiBM,IAAjB;AACD;;AAoIDC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,QAAQ,GAAG,KAAK5D,KAAL,CAAW2B,MAA1B;;AACA,QAAIiC,QAAQ,KAAK,EAAjB,EAAqB;AACnBjD,MAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,UAA5B,GAAyC8C,QAA1C,CAAL,CACG7C,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,MAAM,IAAI;AACd,aAAKhB,QAAL,CAAc;AACZqD,UAAAA,MAAM,EAAErC,MAAM,CAAC2C;AADH,SAAd;AAGD,OANH,EAOGxC,KAPH,CAOSC,KAAK,IAAI;AACd,aAAKpB,QAAL,CAAc;AAAEqD,UAAAA,MAAM,EAAE;AAAV,SAAd;AACD,OATH;AAUD;AACF;;AAEDO,EAAAA,yBAAyB,CAACC,QAAD,EAAW;AAAA,UAC1BpC,MAD0B,GACToC,QADS,CAC1BpC,MAD0B;AAAA,UAClB+B,IADkB,GACTK,QADS,CAClBL,IADkB;;AAElC,YAAQA,IAAR;AACE,WAAK,cAAL;AACE,aAAKxD,QAAL,CAAc;AACZM,UAAAA,QAAQ,EAAE,EADE;AAEZW,UAAAA,KAAK,EAAE,IAFK;AAGZoC,UAAAA,MAAM,EAAE,EAHI;AAIZf,UAAAA,SAAS,EAAE,EAJC;AAKZX,UAAAA,MAAM,EAAE,EALI;AAMZT,UAAAA,YAAY,EAAE,KANF;AAOZjB,UAAAA,KAAK,EAAE,KAPK;AAQZE,UAAAA,SAAS,EAAE;AARC,SAAd;;AAUA,YAAIsB,MAAM,KAAK,EAAf,EAAmB;AACjBhB,UAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,aAAZ,GAA4B,UAA5B,GAAyCa,MAA1C,CAAL,CACGZ,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,MAAM,IAAI;AACd,iBAAKhB,QAAL,CAAc;AACZqD,cAAAA,MAAM,EAAErC,MAAM,CAAC2C;AADH,aAAd;AAGD,WANH,EAOGxC,KAPH,CAOSC,KAAK,IAAI;AACd,iBAAKpB,QAAL,CAAc;AAAEqD,cAAAA,MAAM,EAAE;AAAV,aAAd;AACD,WATH;AAUD;;AACD;;AACF;AACE;AA1BJ;AA4BD;;AAEDS,EAAAA,MAAM,GAAG;AACP,UAAMT,MAAM,GAAG,KAAKnD,KAAL,CAAWmD,MAA1B;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK/C,KAAL,CAAWoC,SAAvB;AACA,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,KAAKpC,KAAL,CAAWD,KAA1B;AAAiC,MAAA,MAAM,EAAE,KAAKF,WAA9C;AAA2D,MAAA,SAAS,EAAC,aAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKG,KAAL,CAAWC,SAAX,KAAyB,cAAzB,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,4BAAlB;AAA+C,MAAA,OAAO,EAAE,KAAKJ,WAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAgF;AAAK,MAAA,GAAG,EAAEgE,KAAV;AAAiB,MAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAhF,MAFJ,EAGI;AAAG,MAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAHJ,EAMI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGV,MAAM,CAACW,GAAP,CAAW,CAACC,IAAD,EAAOhC,CAAP,KACV;AAAK,MAAA,GAAG,EAAE,YAAYA,CAAtB;AAAyB,MAAA,SAAS,EAAC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAoCgC,IAAI,CAACC,KAAzC,MADF,EAEE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,EAAE,EAAE,YAAUjC,CAAlC;AAAqC,MAAA,IAAI,EAAC,UAA1C;AAAqD,MAAA,KAAK,EAAEgC,IAAI,CAACE,GAAjE;AAAsE,MAAA,OAAO,EAAE,KAAKjE,KAAL,CAAWI,QAAX,KAAwB2D,IAAI,CAACE,GAA5G;AAAiH,MAAA,QAAQ,EAAE,KAAK/D,WAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAO,MAAA,GAAG,EAAE,YAAU6B,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CAFF,CADD,CADH,CADF,CANJ,CAFJ,CADF,CADF,EAgCE,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,KAAK/B,KAAL,CAAWoD,UAA1B;AAAsC,MAAA,MAAM,EAAE,KAAKF,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,EAIE;AAAQ,MAAA,SAAS,EAAC,4BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACO;AAAK,MAAA,GAAG,EAAEW,KAAV;AAAiB,MAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADP,CAJF,EAOE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAKE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,EAQE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF,CADF,EAaE;AAAI,MAAA,SAAS,EAAC,2CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAIE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAJF,EAYE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAZF,EAoBE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,CADF,CAbF,EAqCE;AAAI,MAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAIE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAJF,EAYE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAZF,EAoBE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,CADF,CADF,EAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAIE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAJF,EAYE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAZF,EAoBE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,CADF,CADF,EAyBE;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAIE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAJF,EAYE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,KAAK,EAAC,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAO,MAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAZF,EAoBE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,CADF,CAzBF,CADF,CAzBF,CADF,CArCF,CADF,CADF,CADF,CADF,CADF,CAPF,CADF,CAhCF,EA0KG,KAAK7D,KAAL,CAAWgB,YAAX,KAA4B,KAA5B,IACC;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,EAGE;AACE,MAAA,SAAS,EAAC,+BADZ;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKgC,KAAL,CAAW,aAAX,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF,EASE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,qBADZ;AAEE,MAAA,OAAO,EAAE,MAAM;AAAE,aAAKlD,QAAL,CAAc;AAAEG,UAAAA,SAAS,EAAE,cAAb;AAA6BF,UAAAA,KAAK,EAAE;AAApC,SAAd;AAA4D,OAF/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CATF,CADF,EAmBE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,yCADF,EAOE;AAAG,MAAA,SAAS,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DACqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADrD,8DAE0D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF1D,yCAPF,EAYE;AAAI,MAAA,SAAS,EAAC,+BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAZF,CAnBF,CA3KJ,EA+MG,KAAKC,KAAL,CAAWgB,YAAX,KAA4B,IAA5B,IACC;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,EAGE;AACE,MAAA,SAAS,EAAC,+BADZ;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKgC,KAAL,CAAW,aAAX,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCACyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKhD,KAAL,CAAWe,KAAX,CAAiBmD,IAAxB,CADzB,CATF,EAYE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,4BADZ;AAEE,MAAA,OAAO,EAAE,MAAM;AAAE,aAAKpE,QAAL,CAAc;AAAEG,UAAAA,SAAS,EAAE,cAAb;AAA6BF,UAAAA,KAAK,EAAE;AAApC,SAAd;AAA4D,OAF/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CAZF,CADF,EAsBE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAGE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,EAIE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,CADF,EAUG,KAAKC,KAAL,CAAWoC,SAAX,IAAwB,KAAKpC,KAAL,CAAWoC,SAAX,CAAqBJ,MAArB,KAAgC,CAAxD,IAA6D,KAAKhC,KAAL,CAAWoC,SAAX,CAAqB0B,GAArB,CAAyB,CAACK,QAAD,EAAWpC,CAAX,KAAiB;AACpG,UAAIqC,OAAO,GAAG,KAAd;AACA,UAAIC,QAAQ,GAAG,KAAf;AACA,WAAKrE,KAAL,CAAWyB,MAAX,CAAkB6C,OAAlB,CAA2BP,IAAD,IAAU;AAClC,YAAIA,IAAI,CAACQ,SAAL,CAAe1C,EAAf,KAAsBsC,QAAQ,CAACtC,EAAnC,EAAuC;AACrCuC,UAAAA,OAAO,GAAGL,IAAI,CAACS,WAAL,CAAiBC,QAAjB,CAA2B,eAA3B,IAA+C,IAA/C,GAAsD,KAAhE;AACAJ,UAAAA,QAAQ,GAAGN,IAAI,CAACS,WAAL,CAAiBC,QAAjB,CAA2B,cAA3B,IAA8C,IAA9C,GAAqD,KAAhE;AACD;AACF,OALD;AAMA,aACE;AAAI,QAAA,GAAG,EAAE,YAAU1C,CAAnB;AAAsB,QAAA,SAAS,EAAC,6BAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAY,QAAA,SAAS,EAAC,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAuCoC,QAAQ,CAACD,IAAhD,MADF,EAEE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAY,QAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAEE,OAAO,GAAG,cAAH,GAAoB,cAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,EAKE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAY,QAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAEC,QAAQ,GAAG,cAAH,GAAoB,cAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CALF,EAQE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAa;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAb,MARF,CADF,CADF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEIF,QAAQ,CAAChC,KAAT,CAAe2B,GAAf,CAAoBY,IAAD,IAAU;AAC3B,YAAIC,MAAM,GAAG,KAAb;AACA,YAAIC,OAAO,GAAG,KAAd;AACA,aAAK5E,KAAL,CAAWyB,MAAX,CAAkB6C,OAAlB,CAA2BP,IAAD,IAAU;AAClC,cAAIA,IAAI,CAACQ,SAAL,CAAe1C,EAAf,KAAsB6C,IAAI,CAAC7C,EAA/B,EAAmC;AACjC8C,YAAAA,MAAM,GAAGZ,IAAI,CAACS,WAAL,CAAiBC,QAAjB,CAA2B,eAA3B,IAA+C,IAA/C,GAAsD,KAA/D;AACAG,YAAAA,OAAO,GAAGb,IAAI,CAACS,WAAL,CAAiBC,QAAjB,CAA2B,cAA3B,IAA8C,IAA9C,GAAqD,KAA/D;AACD;AACF,SALD;AAMA,eACE;AAAI,UAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAY,UAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA4CC,IAAI,CAACR,IAAjD,MADF,EAEE,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAY,UAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAG,UAAA,SAAS,EAAES,MAAM,GAAG,cAAH,GAAoB,cAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAFF,EAKE,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAY,UAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAG,UAAA,SAAS,EAAEC,OAAO,GAAG,cAAH,GAAoB,cAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CALF,CADF,CADF;AAaD,OAtBD,CAFJ,CADF,CAbF,CADF,CADF;AA+CD,KAxD2D,CAVhE,CADF,CADF,EAwEE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAI,MAAA,KAAK,EAAC,KAAV;AAAgB,MAAA,SAAS,EAAC,uBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAKE;AAAI,MAAA,KAAK,EAAC,KAAV;AAAgB,MAAA,SAAS,EAAC,uBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,CADF,CADF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK5E,KAAL,CAAWoC,SAAX,IACC,KAAKpC,KAAL,CAAWoC,SAAX,CAAqBJ,MAArB,KAAgC,CADjC,IAEC,KAAKhC,KAAL,CAAWoC,SAAX,CAAqB0B,GAArB,CAAyB,CAACK,QAAD,EAAWU,KAAX,KAAqB;AAC5C,YAAMC,KAAK,GAAG,CAAC,cAAD,EAAiB,eAAjB,CAAd;AACA,UAAIV,OAAO,GAAG,KAAd;AACA,UAAIC,QAAQ,GAAG,KAAf;AACA,WAAKrE,KAAL,CAAWyB,MAAX,CAAkB6C,OAAlB,CAA0B,CAACP,IAAD,EAAOhC,CAAP,KAAa;AACrC,YAAIgC,IAAI,CAACQ,SAAL,CAAe1C,EAAf,KAAsBsC,QAAQ,CAACtC,EAAnC,EAAuC;AACrCuC,UAAAA,OAAO,GAAGU,KAAK,CAACC,IAAN,CAAWC,CAAC,IAAIjB,IAAI,CAACS,WAAL,CAAiBC,QAAjB,CAA0BO,CAA1B,CAAhB,IAAiD,SAAjD,GAA6D,EAAvE;AACAX,UAAAA,QAAQ,GAAGN,IAAI,CAACS,WAAL,CAAiBC,QAAjB,CAA2B,cAA3B,IAA8C,SAA9C,GAA0D,EAArE;AACD;AACF,OALD;AAMA,aACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,GAAG,EAAEN,QAAQ,CAACtC,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,yCAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG,GAJH,EAKGsC,QAAQ,CAACD,IALZ,EAKkB,GALlB,CADF,EAQE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,sBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,EAAE,EAAE,UAAUC,QAAQ,CAACtC,EAFzB;AAGE,QAAA,OAAO,EAAEuC,OAHX;AAIE,QAAA,YAAY,EAAC,eAJf;AAKE,QAAA,QAAQ,EAAEjE,CAAC,IAAI;AACb,eAAKqC,aAAL,CAAmBrC,CAAnB,EAAsBgE,QAAQ,CAACtC,EAA/B;AACD,SAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAUE;AACE,QAAA,OAAO,EAAE,UAAUsC,QAAQ,CAACtC,EAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,CAJF,CARF,EA2BE;AACE,QAAA,KAAK,EAAC,KADR;AAEE,QAAA,SAAS,EAAC,sBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,YAAY,EAAC,cAFf;AAGE,QAAA,EAAE,EAAE,WAAWsC,QAAQ,CAACtC,EAH1B;AAIE,QAAA,OAAO,EAAEwC,QAJX;AAKE,QAAA,QAAQ,EAAElE,CAAC,IAAI;AACb,eAAKqC,aAAL,CAAmBrC,CAAnB,EAAsBgE,QAAQ,CAACtC,EAA/B;AACD,SAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAUE;AACE,QAAA,OAAO,EAAE,WAAWsC,QAAQ,CAACtC,EAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,CAJF,CA3BF,CADF,CADF;AAoDD,KA9DD,CAHJ,CAZF,CAxEF,CAJF,CADF,CAtBF,CAhNJ,CADF;AA2YD;;AA/lBgC;;AAkmBnC,SAASoD,eAAT,CAAyBjF,KAAzB,EAAgC;AAC9B,SAAO;AACLuB,IAAAA,MAAM,EAAEvB,KAAK,CAACe,KAAN,CAAYQ,MADf;AAEL+B,IAAAA,IAAI,EAAEtD,KAAK,CAACe,KAAN,CAAYuC;AAFb,GAAP;AAID;;AAED,eAAe9D,OAAO,CAACyF,eAAD,CAAP,CAAyBvF,UAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Table, Modal, ModalBody, Input, FormGroup, Col, Row, Collapse } from \"reactstrap\";\nimport pen from \"../../../_assets/icons/icons/edit-icon.svg\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport { connect } from \"react-redux\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\n\nclass ModalAcess extends Component {\n  constructor(props) {\n    super(props);\n    this.close = this.close.bind(this);\n    this.fetchDivisions = this.fetchDivisions.bind(this);\n    this.fetchTeams = this.fetchTeams.bind(this);\n    this.fetchPersons = this.fetchPersons.bind(this);\n    this.fetchModelGrants = this.fetchModelGrants.bind(this);\n    this.grantToggle = this.grantToggle.bind(this);\n    this.state = {\n      modeluri: \"\",\n      model: null,\n      models: [],\n      divisions: [],\n      grants: [],\n      accessEditor: false,\n      popup: false,\n      eventType: null,\n      grantModal: false\n    };\n  }\n  grantToggle() {\n    this.setState(prevState => ({\n      grantModal: !prevState.grantModal\n    }));\n  }\n\n  close(type) {\n    this.props.close(type);\n  }\n\n  modalToggle = () => {\n    this.setState({\n      popup: !this.state.popup,\n      eventType: null\n    });\n  };\n\n  selectModel = e => {\n    this.setState({ modeluri: e.target.value });\n    fetch(process.env.REACT_APP_API + e.target.value)\n      .then(res => res.json())\n      .then(result => {\n        this.setState({\n          model: result,\n          accessEditor: true\n        });\n      })\n      .catch(error => {\n        this.setState({\n          model: null,\n          accessEditor: false\n        });\n      });\n      var modelArr = e.target.value.split(\"/\");\n      this.fetchModelGrants(modelArr[2]);\n      this.fetchDivisions(this.props.domain);\n  };\n\n  fetchModelGrants = modelId => {\n    fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/grant/\" + modelId )\n      .then(res => res.json())\n      .then(json => {\n        this.setState({ grants: json });\n      });\n  };\n\n  fetchDivisions = domainId => {\n    return fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId)\n      .then(res => res.json())\n      .then(result => {\n\n        var org = result.organisation;\n        fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + org.id + \"/organisations\" )\n          .then(res => res.json())\n          .then(json => {\n            var organisations = json;\n            for (var i = 0; i < organisations.length; i++) {\n              let org = organisations[i];\n              org[\"teams\"] = [];\n              if (org._links && org._links.length !== 0 && this.state.model !== null) {\n                this.fetchTeams(domainId, this.state.model.id, org.id).then(\n                  teams => (org[\"teams\"] = teams)\n                );\n              }\n            }\n            this.setState({\n              divisions: organisations\n            });\n            return true;\n          });\n\n      });\n  };\n\n  fetchTeams = (domainId, modelId, orgid) => {\n    return fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/organisations\" )\n      .then(res => res.json())\n      .then(json => {\n        var organisations = json;\n        for (var i = 0; i < organisations.length; i++) {\n          let org = organisations[i];\n          org[\"persons\"] = [];\n          if (org._links && org._links.length !== 0) {\n            this.fetchPersons(domainId, modelId, org.id).then(\n              persons => (org[\"persons\"] = persons)\n            );\n          }\n        }\n        return organisations;\n      });\n  };\n\n  fetchPersons = (domainId, modelId, orgid) => {\n    return fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/organisation/\" + orgid + \"/persons\" )\n      .then(res => res.json())\n      .then(persons => {\n        return persons;\n      });\n  };\n\n  onGrantChange = (e, grantid) => {\n    if (e.target.checked) {\n      this.addGrantAccess(\n        this.props.domain,\n        this.state.model.id,\n        grantid,\n        e.target.value\n      );\n    } else {\n      this.deleteGrantAccess(\n        this.props.domain,\n        this.state.model.id,\n        grantid,\n        e.target.value\n      );\n    }\n  };\n\n  addGrantAccess = (domainId, modelId, grantid, value) => {\n    fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, { method: \"POST\" } )\n      .then(result => {\n        console.log(\"added\", result);\n        this.fetchModelGrants(this.state.model.id);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  deleteGrantAccess = (domainId, modelId, grantid, value) => {\n    fetch( process.env.REACT_APP_API + \"/hypermedia/domain/\" + domainId + \"/grant/\" + modelId + \"/\" + grantid + \"/permission/\" + value, { method: \"DELETE\" } )\n      .then(result => {\n        console.log(\"deleted\", result);\n        this.fetchModelGrants(this.state.model.id);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  componentDidMount() {\n    var domainID = this.props.domain;\n    if (domainID !== \"\") {\n      fetch(process.env.REACT_APP_API + \"/domain/\" + domainID)\n        .then(res => res.json())\n        .then(result => {\n          this.setState({\n            models: result.links\n          });\n        })\n        .catch(error => {\n          this.setState({ models: [] });\n        });\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { domain, type } = newProps;\n    switch (type) {\n      case \"SELECTDOMAIN\":\n        this.setState({\n          modeluri: \"\",\n          model: null,\n          models: [],\n          divisions: [],\n          grants: [],\n          accessEditor: false,\n          popup: false,\n          eventType: null\n        });\n        if (domain !== \"\") {\n          fetch(process.env.REACT_APP_API + \"/domain/\" + domain)\n            .then(res => res.json())\n            .then(result => {\n              this.setState({\n                models: result.links\n              });\n            })\n            .catch(error => {\n              this.setState({ models: [] });\n            });\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const models = this.state.models;\n    console.log(this.state.divisions);\n    return (\n      <div className=\"browser\">\n        <Modal isOpen={this.state.popup} toggle={this.modalToggle} className=\"selectModal\" >\n          <ModalBody>\n            {this.state.eventType === \"model-choose\" && (\n              <div>\n                  <h3 className=\"d-inline-block modal-title\">Choose model</h3>\n                  <button className=\"btn grey-btn modal-top-btn\" onClick={this.modalToggle}> Done <img src={check} alt=\"\" /> </button>\n                  <p className=\"text-white text-size-16\">\n                    Choose which model you want to edit\n                  </p>\n                  <div className=\"model-list\">\n                    <ul>\n                      {models.map((item, i) => (\n                        <li  key={\"models_\" + i} className=\"d-flex\">\n                          <Col md=\"8\" className=\"modelName\"> {item.title} </Col>\n                          <Col md=\"4\">\n                            <input type=\"radio\" id={\"mod_opt\"+i} name=\"modelUri\" value={item.uri} checked={this.state.modeluri === item.uri} onChange={this.selectModel} />\n                            <label for={\"mod_opt\"+i}></label>\n                            <div class=\"check\"></div>\n                          </Col>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n              </div>\n            )}\n\n\n\n\n          </ModalBody>\n        </Modal>\n        <Modal isOpen={this.state.grantModal} toggle={this.grantToggle}>\n          <ModalBody>\n            <h3 className=\"d-inline-block modal-title\">\n              Edit access for Division 3\n            </h3>\n            <button className=\"btn grey-btn modal-top-btn\">\n              Done <img src={check} alt=\"\" />\n            </button>\n            <div className=\"modalAccesListing\">\n              <div className=\"browser_body\">\n                <div className=\"division_model\">\n                  <div className=\"browser_body_content\">\n                    <div>\n                      <ul className=\"modelListWrapper\">\n                        <li className=\"modelListHeader text-white\">\n                          <Row>\n                            <Col sm=\"5\"></Col>\n                            <Col sm=\"3\" className=\"text-center\">\n                              Read\n                            </Col>\n                            <Col sm=\"3\" className=\"text-center\">\n                              Write\n                            </Col>\n                            <Col sm=\"1\"></Col>\n                          </Row>\n                        </li>\n                        <li className=\"modelListbody text-white divisionListItem\">\n                          <Row>\n                            <Col sm=\"5\" className=\"divisionitemtext\">\n                              Division\n                            </Col>\n                            <Col sm=\"3\" className=\"text-center\">\n                              <input\n                                type=\"checkbox\"\n                                id=\"checkbox-1-1\"\n                                class=\"regular-checkbox\"\n                              />\n                              <label for=\"checkbox-1-1\"></label>\n                            </Col>\n                            <Col sm=\"3\" className=\"text-center\">\n                              <input\n                                type=\"checkbox\"\n                                id=\"checkbox-1-2\"\n                                class=\"regular-checkbox\"\n                              />\n                              <label for=\"checkbox-1-2\"></label>\n                            </Col>\n                            <Col sm=\"1\"></Col>\n                          </Row>\n                        </li>\n                        <li className=\"text-white subModelListbody\">\n                          <ul className=\"teamListWrapper\">\n                            <li className=\"teamListItem\">\n                              <Row>\n                                <Col sm=\"5\" className=\"teamitemtext\">\n                                  Team1\n                                </Col>\n                                <Col sm=\"3\" className=\"text-center\">\n                                  <input\n                                    type=\"checkbox\"\n                                    id=\"checkbox-2-1\"\n                                    class=\"regular-checkbox\"\n                                  />\n                                  <label for=\"checkbox-2-1\"></label>\n                                </Col>\n                                <Col sm=\"3\" className=\"text-center\">\n                                  <input\n                                    type=\"checkbox\"\n                                    id=\"checkbox-2-2\"\n                                    class=\"regular-checkbox\"\n                                  />\n                                  <label for=\"checkbox-2-2\"></label>\n                                </Col>\n                                <Col sm=\"1\"></Col>\n                              </Row>\n                            </li>\n                            <li>\n                              <ul className=\"developerListWrapper\">\n                                <li className=\"developerListItem\">\n                                  <Row>\n                                    <Col sm=\"5\" className=\"developeritemtext\">\n                                      Developer1\n                                    </Col>\n                                    <Col sm=\"3\" className=\"text-center\">\n                                      <input\n                                        type=\"checkbox\"\n                                        id=\"checkbox-3-1\"\n                                        class=\"regular-checkbox\"\n                                      />\n                                      <label for=\"checkbox-3-1\"></label>\n                                    </Col>\n                                    <Col sm=\"3\" className=\"text-center\">\n                                      <input\n                                        type=\"checkbox\"\n                                        id=\"checkbox-3-2\"\n                                        class=\"regular-checkbox\"\n                                      />\n                                      <label for=\"checkbox-3-2\"></label>\n                                    </Col>\n                                    <Col sm=\"1\"></Col>\n                                  </Row>\n                                </li>\n                                <li className=\"developerListItem\">\n                                  <Row>\n                                    <Col sm=\"5\" className=\"developeritemtext\">\n                                      Developer2\n                                    </Col>\n                                    <Col sm=\"3\" className=\"text-center\">\n                                      <input\n                                        type=\"checkbox\"\n                                        id=\"checkbox-4-1\"\n                                        class=\"regular-checkbox\"\n                                      />\n                                      <label for=\"checkbox-4-1\"></label>\n                                    </Col>\n                                    <Col sm=\"3\" className=\"text-center\">\n                                      <input\n                                        type=\"checkbox\"\n                                        id=\"checkbox-4-2\"\n                                        class=\"regular-checkbox\"\n                                      />\n                                      <label for=\"checkbox-4-2\"></label>\n                                    </Col>\n                                    <Col sm=\"1\"></Col>\n                                  </Row>\n                                </li>\n                              </ul>\n                            </li>\n                          </ul>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ModalBody>\n        </Modal>\n        {this.state.accessEditor === false && (\n          <div className=\"modalAccesListing\">\n            <div className=\"browser_header text-white\">\n              <div>\n                <i className=\"fas fa-key submenu-icon\"></i>\n                <h3 className=\"d-inline-block\">Models Access</h3>\n                <i\n                  className=\"fas fa-times system-down-icon\"\n                  onClick={() => this.close(\"modelAccess\")}\n                />\n              </div>\n              <div className=\"text-right modelChooseWrapper\">\n                <a\n                  className=\"modelChoose raleway\"\n                  onClick={() => { this.setState({ eventType: \"model-choose\", popup: true }); }}\n                >\n                  Choose model\n                </a>\n              </div>\n            </div>\n            <div className=\"browser_body\">\n              <p className=\"text-center text-white m-t-65 text-size-18\">\n                So you need to give access to your division, teams or\n                developers?\n                <br />\n                Youve come to the right place.\n              </p>\n              <p className=\"text-center text-white m-t-65 text-size-18\">\n                Just click the Choose model button and choose what <br />\n                model you need to work in and then you can start adding <br />\n                your division, teams and developers.\n              </p>\n              <h1 className=\"text-center text-white m-t-65\">No chosen model</h1>\n            </div>\n          </div>\n        )}\n\n        {this.state.accessEditor === true && (\n          <div className=\"modalAccesListing\">\n            <div className=\"browser_header text-white\">\n              <div>\n                <i className=\"fas fa-key submenu-icon\"></i>\n                <h3 className=\"d-inline-block\">Models Access</h3>\n                <i\n                  className=\"fas fa-times system-down-icon\"\n                  onClick={() => this.close(\"modelAccess\")}\n                />\n              </div>\n              <p>\n                Edit models access for <span>{this.state.model.name}</span>\n              </p>\n              <div className=\"text-right modelChooseWrapper\">\n                <a\n                  className=\"d-inline-block modelChoose\"\n                  onClick={() => { this.setState({ eventType: \"model-choose\", popup: true }); }}\n                >\n                  Change model\n                </a>\n              </div>\n            </div>\n            <div className=\"browser_body\">\n              <div className=\"division_model\">\n                <div className=\"browser_body_header text-white\">\n                  <h4 className=\"d-inline-block\">Divisions</h4>\n                </div>\n                <div className=\"browser_body_content\">\n                  <div>\n                    <ul className=\"modelListWrapper\">\n                      <li className=\"modelListHeader text-white\">\n                        <Row>\n                          <Col sm=\"5\"></Col>\n                          <Col sm=\"3\" className=\"text-center\"> Read </Col>\n                          <Col sm=\"3\" className=\"text-center\"> Write </Col>\n                          <Col sm=\"1\"></Col>\n                        </Row>\n                      </li>\n\n                      {this.state.divisions && this.state.divisions.length !== 0 && this.state.divisions.map((division, i) => {\n                          var divRead = false;\n                          var divWrite = false;\n                          this.state.grants.forEach((item) => {\n                            if (item.principal.id === division.id) {\n                              divRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n                              divWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n                            }\n                          });\n                          return (\n                            <li key={\"div_key\"+i} className=\"text-white subModelListbody\">\n                              <ul className=\"teamListWrapper\">\n                                <li className=\"teamListItem\">\n                                  <Row>\n                                    <Col sm=\"5\" className=\"teamitemtext\"> {division.name} </Col>\n                                    <Col sm=\"3\" className=\"text-center\">\n                                      <i className={divRead ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                    </Col>\n                                    <Col sm=\"3\" className=\"text-center\">\n                                      <i className={divWrite ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                    </Col>\n                                    <Col sm=\"1\"> <i className=\"fas fa-pen\"></i> </Col>\n                                  </Row>\n                                </li>\n                                <li>\n                                  <ul className=\"developerListWrapper\">\n                                    {\n                                      division.teams.map((team) => {\n                                        var tmRead = false;\n                                        var tmWrite = false;\n                                        this.state.grants.forEach((item) => {\n                                          if (item.principal.id === team.id) {\n                                            tmRead = item.permissions.includes( \"RESOURCE_READ\" ) ? true : false;\n                                            tmWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? true : false;\n                                          }\n                                        });\n                                        return (\n                                          <li className=\"developerListItem\">\n                                            <Row>\n                                              <Col sm=\"5\" className=\"developeritemtext\"> {team.name} </Col>\n                                              <Col sm=\"3\" className=\"text-center\">\n                                                <i className={tmRead ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                              </Col>\n                                              <Col sm=\"3\" className=\"text-center\">\n                                                <i className={tmWrite ? \"fas fa-check\" : \"fas fa-times\"}></i>\n                                              </Col>\n                                            </Row>\n                                          </li>\n                                        )\n                                      })\n                                    }\n                                  </ul>\n                                </li>\n                              </ul>\n                            </li>\n                          );\n                        })}\n\n                    </ul>\n                  </div>\n                  <Table className=\"text-white\">\n                    <thead>\n                      <tr>\n                        <th width=\"50%\"></th>\n                        <th width=\"25%\" className=\"text-white text-small\">\n                          Read\n                        </th>\n                        <th width=\"25%\" className=\"text-white text-small\">\n                          Write\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {this.state.divisions &&\n                        this.state.divisions.length !== 0 &&\n                        this.state.divisions.map((division, index) => {\n                          const perms = [\"RESOURCE_ANY\", \"RESOURCE_READ\"];\n                          var divRead = false;\n                          var divWrite = false;\n                          this.state.grants.forEach((item, i) => {\n                            if (item.principal.id === division.id) {\n                              divRead = perms.some(r => item.permissions.includes(r) ) ? \"checked\" : \"\";\n                              divWrite = item.permissions.includes( \"RESOURCE_ANY\" ) ? \"checked\" : \"\";\n                            }\n                          });\n                          return (\n                            <div className=\"tablewrapper\">\n                              <tr key={division.id}>\n                                <td\n                                  width=\"50%\"\n                                  className=\"text-grey text-left division-table-name\"\n                                >\n                                  {\" \"}\n                                  {division.name}{\" \"}\n                                </td>\n                                <td\n                                  width=\"25%\"\n                                  className=\"division-table-check\"\n                                >\n                                  <div className=\"customCheckbox\">\n                                    <input\n                                      type=\"checkbox\"\n                                      id={\"read_\" + division.id}\n                                      checked={divRead}\n                                      defaultValue=\"RESOURCE_READ\"\n                                      onChange={e => {\n                                        this.onGrantChange(e, division.id);\n                                      }}\n                                    />\n                                    <label\n                                      htmlFor={\"read_\" + division.id}\n                                    ></label>\n                                  </div>\n                                </td>\n                                <td\n                                  width=\"25%\"\n                                  className=\"division-table-check\"\n                                >\n                                  <div className=\"customCheckbox\">\n                                    <input\n                                      type=\"checkbox\"\n                                      defaultValue=\"RESOURCE_ANY\"\n                                      id={\"write_\" + division.id}\n                                      checked={divWrite}\n                                      onChange={e => {\n                                        this.onGrantChange(e, division.id);\n                                      }}\n                                    />\n                                    <label\n                                      htmlFor={\"write_\" + division.id}\n                                    ></label>\n                                  </div>\n                                </td>\n                              </tr>\n\n                            </div>\n                          );\n                        })}\n                    </tbody>\n                  </Table>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    domain: state.model.domain,\n    type: state.model.type\n  };\n}\n\nexport default connect(mapStateToProps)(ModalAcess);\n"]},"metadata":{},"sourceType":"module"}