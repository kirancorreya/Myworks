{"ast":null,"code":"import _objectSpread from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js\";\nimport React, { Component } from \"react\";\nimport { fetchFlowDetils } from \"../../../store/system/systemActions\";\nimport { connect } from \"react-redux\";\nimport { Modal, ModalBody, FormGroup, Input } from \"reactstrap\";\nimport Select from \"react-select\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport addCircle from \"../../../_assets/icons/icons/add-icon-circle.svg\";\nimport sequence from \"../../../_assets/images/Sequence-diagram.png\";\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = target => {\n      this.setState(_objectSpread({}, this.state, {\n        [target]: !this.state[target]\n      }));\n    };\n\n    this.state = {\n      details: {},\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\",\n        custom: {\n          documentationUrl: \"\"\n        }\n      },\n      filterOptions: [],\n      invocations: [],\n      referenceData: {\n        consumerSystem: \"\",\n        consumedService: \"\",\n        referenceName: \"\"\n      },\n      servicesList: '',\n      invocations: [{}]\n    };\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n  } //show or hide tool tip\n\n\n  handleUrlChange(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = {\n      documentationUrl: event.target.value\n    };\n    this.setState({\n      formData\n    });\n  }\n\n  handleChange(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  handleReferenceChange(event) {\n    const referenceData = this.state.referenceData;\n    referenceData[event.target.name] = event.target.value;\n    this.setState({\n      referenceData\n    });\n    console.log(referenceData);\n  }\n\n  openAddReference(event) {\n    const formData = this.state.formData;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  updateFlow() {\n    fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/flow/\") + this.props.activeFlow, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state.formData)\n    }).then(response => {\n      if (this.state.deletedSourceSystems.length > 0) this.deleteSourceSystems();\n      if (this.state.deletedTargetSystems.length > 0) this.deleteTargetSystems();\n      this.addSourceSystems();\n      this.addTargetSystems();\n      setTimeout(() => {\n        this.props.getFlowDetails(this.props.activeModelId, this.props.activeFlow);\n        this.setState(prevState => ({\n          modal: !prevState.modal\n        }));\n      }, 2000);\n    }).catch(error => console.log(error));\n  }\n\n  addSourceSystems() {\n    console.log(this.state.sourceSystems);\n    this.state.sourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/source/\" + system.value, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  addTargetSystems() {\n    this.state.targetSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/target/\" + system.value, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteSourceSystems() {\n    this.state.deletedSourceSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/source/\" + system.value, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteTargetSystems() {\n    console.log(this.state.deletedTargetSystems);\n    this.state.deletedTargetSystems.map((system, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/flow/\" + this.props.activeFlow + \"/target/\" + system.value, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {}).catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  handleSourceChange(option, event) {\n    console.log(option);\n    let difference = this.state.sourceSystems.filter(x => !option.includes(x)); // calculates diff\n\n    console.log(difference);\n\n    if (difference.length > 0) {\n      this.state.deletedSourceSystems.push(difference[0]);\n    }\n\n    this.setState(state => {\n      return {\n        sourceSystems: option\n      };\n    });\n  }\n\n  handleTargetChange(option) {\n    let difference = this.state.targetSystems.filter(x => !option.includes(x)); // calculates diff\n\n    if (difference.length > 0) {\n      this.state.deletedTargetSystems.push(difference[0]);\n    }\n\n    this.setState(state => {\n      return {\n        targetSystems: option\n      };\n    });\n  } //show or hide description\n\n\n  toggleDescription() {\n    this.setState(state => ({\n      collapse: !state.collapse\n    }));\n  } //closes the detail window\n\n\n  close(type) {\n    this.props.close(type);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.activeFlow !== nextProps.activeFlow) this.props.getFlowDetails(this.props.activeModelId, nextProps.activeFlow);\n  } //get flow details\n\n\n  componentWillMount() {\n    var data = [{\n      \"custom\": {},\n      \"id\": \"3a7a2223-d419-4645-bf87-88cf54013ab9\",\n      \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n      \"index\": \"2\",\n      \"reference\": {\n        \"name\": \"Unknown 2\",\n        \"custom\": {},\n        \"id\": \"6fff9377-8c26-494f-829a-f1a2368d1efe\",\n        \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n      }\n    }, {\n      \"name\": \"\",\n      \"custom\": {},\n      \"id\": \"0b908d3e-a40c-497e-ba7c-4f9ba094eade\",\n      \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n      \"index\": \"7\",\n      \"reference\": {\n        \"name\": \"Unknown 3\",\n        \"custom\": {},\n        \"id\": \"1239bfb1-7e21-4263-a76f-3735062bf75e\",\n        \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n      }\n    }, {\n      \"name\": \"\",\n      \"custom\": {},\n      \"id\": \"004cee92-f898-4172-a9ae-1061c037d3a5\",\n      \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n      \"index\": \"6\",\n      \"reference\": {\n        \"name\": \"Unknown 3\",\n        \"custom\": {},\n        \"id\": \"68c61533-d6aa-4c50-8b02-6bb540b90d0e\",\n        \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n      }\n    }, {\n      \"name\": \"\",\n      \"custom\": {},\n      \"id\": \"33e777d3-3dbf-47cc-8363-bb7f96cae213\",\n      \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n      \"index\": \"5\",\n      \"reference\": {\n        \"name\": \"Unknown 2\",\n        \"custom\": {},\n        \"id\": \"5c1d18e3-8993-468c-aba2-89f21b028725\",\n        \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n      }\n    }, {\n      \"custom\": {},\n      \"id\": \"23525fa8-85ce-4aad-81d5-711ac1fe984c\",\n      \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n      \"index\": \"1\",\n      \"reference\": {\n        \"name\": \"eetertert\",\n        \"custom\": {},\n        \"id\": \"8d4163f4-d723-454e-afda-95a2d079f4db\",\n        \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n      }\n    }, {\n      \"name\": \"\",\n      \"custom\": {},\n      \"id\": \"0b05bc00-cba6-46de-a0dd-5e8a7b997113\",\n      \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n      \"index\": \"4\",\n      \"reference\": {\n        \"name\": \"Unknown 1\",\n        \"custom\": {},\n        \"id\": \"773d0bec-2958-436a-9f6a-bf3385ff4952\",\n        \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n      }\n    }, {\n      \"name\": \"\",\n      \"custom\": {},\n      \"id\": \"20de5001-258e-47f6-9d0a-c4310db509b8\",\n      \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n      \"index\": \"3\",\n      \"reference\": {\n        \"name\": \"demo1\",\n        \"custom\": {},\n        \"id\": \"555b7040-b322-4fe3-aae4-b7dd9e0af69e\",\n        \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n      }\n    }];\n    this.displayInvocation(data);\n    this.props.getFlowDetails(this.props.activeModelId, this.props.activeFlow);\n  }\n\n  displayInvocation(invocationList) {\n    invocationList.map((invocation, i) => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/system/\").concat(this.props.activeFlow, \"/reference/\").concat(invocation.reference.id), {\n        method: \"GET\"\n      }).then(response => response.json()).then(responseJson => {\n        var consumer, service, provider;\n\n        responseJson._links.filter(links => links.rel === 'OF').map((referenceData, i) => {\n          consumer = referenceData.title;\n        });\n\n        responseJson._links.filter(links => links.rel === 'TO').map((serviceData, i) => {\n          service = serviceData.title;\n          fetch(process.env.REACT_APP_API + serviceData.uri, {\n            method: \"GET\"\n          }).then(response => response.json()).then(responseJson => {\n            responseJson._links.filter(links => links.rel === 'OF').map((systemData, i) => {\n              provider = systemData.title;\n            });\n\n            this.state.invocations.push({\n              'consumer': consumer,\n              'service': service,\n              'provider': provider,\n              referenceId: invocation.reference.id\n            });\n            console.log(this.state.invocations);\n          }).catch(error => console.log(error));\n        });\n      }).catch(error => console.log(error));\n    });\n  } //update flow details\n\n\n  updateFlowDetails(event) {\n    let value = event.target.value;\n\n    if ((event.key === \"Enter\" || event.type === \"blur\") && this.state.modal && value) {\n      event.target.value = \"\";\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/flow/\") + this.props.activeFlow, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          description: value\n        })\n      }).then(response => {\n        this.props.getFlowDetails(this.props.activeModel, this.props.activeFlow);\n      }).catch(error => console.log(error));\n    }\n  } //Delete entity\n\n\n  deleteReference(referenceId, event) {\n    return fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/\", 'modeled', \"/\").concat(referenceId), {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {});\n  } //control right click modal\n\n\n  modalToggle(e, data) {\n    this.state.sourceSystems = [];\n    this.state.targetSystems = [];\n    this.state.deletedSourceSystems = [];\n    this.state.deletedTargetSystems = [];\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    this.props.flowDetails._links.filter(links => links.rel === \"SOURCE\").map(source => {\n      this.state.sourceSystems.push({\n        value: source.params.id,\n        label: source.title\n      });\n    });\n\n    this.props.flowDetails._links.filter(links => links.rel === \"TARGET\").map(target => {\n      this.state.targetSystems.push({\n        value: target.params.id,\n        label: target.title\n      });\n    });\n\n    this.setState({\n      formData: {\n        name: this.props.flowDetails.name,\n        description: this.props.flowDetails.description,\n        supportLevel: this.props.flowDetails.supportLevel,\n        custom: {\n          documentationUrl: this.props.flowDetails.custom.documentationUrl\n        }\n      }\n    });\n    this.getSystems();\n  }\n\n  getSystems() {\n    return fetch(process.env.REACT_APP_API + \"/hypermedia/network/\" + this.props.activeModelId + \"/allsystems\").then(res => res.json()).then(response => {\n      this.setState({\n        systems: response\n      });\n      response.map((systems, i) => {\n        this.state.filterOptions.push({\n          value: systems.id,\n          label: systems.name\n        });\n      });\n    }).catch(error => console.log(error));\n  }\n\n  getSystemServices(event) {\n    let parents = this.state.systems;\n    let parent = parents.filter(parent => parent.name === event.target.value);\n    if (parent) this.setState({\n      servicesList: parent[0].services\n    });\n  } //create service\n\n\n  createReference(event) {\n    this.setState(prevState => ({\n      referenceModal: !prevState.referenceModal\n    }));\n    fetch(process.env.REACT_APP_API + \"/hypermedia/network/\".concat(this.props.activeModelId, \"/system/\").concat(this.state.referenceData.consumerSystem, \"/reference/service/\").concat(this.state.referenceData.consumedService), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(responseJson => {\n      return fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/service/\").concat(this.props.activeFlow, \"/invocation/\") + responseJson.id, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(responseJson => {\n        var data = {\n          \"custom\": {},\n          \"id\": \"23525fa8-85ce-4aad-81d5-711ac1fe984c\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"1\",\n          \"reference\": {\n            \"name\": \"eetertert\",\n            \"custom\": {},\n            \"id\": \"8d4163f4-d723-454e-afda-95a2d079f4db\",\n            \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n        };\n        console.log(responseJson);\n      });\n    });\n  }\n\n  render() {\n    var formData = this.state.formData;\n    return React.createElement(\"div\", {\n      className: \"browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"editFlow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"d-inline-block modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571\n      },\n      __self: this\n    }, \"Edit Flow Details\"), React.createElement(\"button\", {\n      className: \"btn grey-btn modal-top-btn\",\n      onClick: this.updateFlow.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572\n      },\n      __self: this\n    }, \"Done \", React.createElement(\"img\", {\n      src: check,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput m-t-50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579\n      },\n      __self: this\n    }, \"Flow name\"), React.createElement(\"input\", {\n      type: \"text\",\n      value: formData.name,\n      name: \"name\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"select-css\",\n      type: \"select\",\n      name: \"supportLevel\",\n      value: formData.supportLevel,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596\n      },\n      __self: this\n    }, \"Support Level\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597\n      },\n      __self: this\n    }, \"Gold\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598\n      },\n      __self: this\n    }, \"Platinum\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599\n      },\n      __self: this\n    }, \"Silver\"), \"))}\"))), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605\n      },\n      __self: this\n    }, \"Documentation URL\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"custom\",\n      value: formData.custom.documentationUrl,\n      onChange: this.handleUrlChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      name: \"description\",\n      value: formData.description,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623\n      },\n      __self: this\n    }, \"Source system\"), React.createElement(\"div\", {\n      className: \"searchbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      sm: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625\n      },\n      __self: this\n    }, React.createElement(Select, {\n      name: \"filters\",\n      placeholder: \"Filters\",\n      value: this.state.sourceSystems,\n      options: this.state.filterOptions,\n      onChange: this.handleSourceChange.bind(this),\n      multi: true,\n      clearable: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"ModalInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 638\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639\n      },\n      __self: this\n    }, \"Target system\"), React.createElement(\"div\", {\n      className: \"searchbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 640\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      sm: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641\n      },\n      __self: this\n    }, React.createElement(Select, {\n      name: \"filters\",\n      placeholder: \"Filters\",\n      value: this.state.targetSystems,\n      options: this.state.filterOptions,\n      onChange: this.handleTargetChange.bind(this),\n      multi: true,\n      clearable: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 642\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"technical row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 654\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"technical-header col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656\n      },\n      __self: this\n    }, \"Technical\"), React.createElement(\"div\", {\n      className: \"addModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.openAddReference.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: addCircle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659\n      },\n      __self: this\n    }), \"Add team\"))), React.createElement(\"div\", {\n      className: \"technical-body col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 666\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667\n      },\n      __self: this\n    }, \"Consumer\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668\n      },\n      __self: this\n    }, \"Provider\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669\n      },\n      __self: this\n    }, \"Service\"), React.createElement(\"li\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 670\n      },\n      __self: this\n    })), this.state.invocations.map((invocation, i) => {\n      return React.createElement(\"ul\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 674\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"col-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 675\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-bars\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 676\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \"col-md-4 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 678\n        },\n        __self: this\n      }, invocation.consumer), React.createElement(\"li\", {\n        className: \"col-md-3 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 679\n        },\n        __self: this\n      }, invocation.provider), React.createElement(\"li\", {\n        className: \"col-md-3 text-white word-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680\n        },\n        __self: this\n      }, invocation.service), React.createElement(\"li\", {\n        className: \"col-md-1 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 683\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash-alt\",\n        onClick: this.deleteReference.bind(this, invocation.referenceId),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 684\n        },\n        __self: this\n      })));\n    }), React.createElement(\"div\", {\n      className: \"sequence\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 687\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 693\n      },\n      __self: this\n    }, \"Create new reference\"), React.createElement(\"div\", {\n      className: \"row formGroupWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 694\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"consumerSystem\",\n      onChange: this.handleReferenceChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 696\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 697\n      },\n      __self: this\n    }, \"Cosnumer System\"), this.state.systems ? this.state.systems.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item.id,\n        id: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 701\n        },\n        __self: this\n      }, item.name);\n    }) : '')), React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"select\",\n      onChange: this.getSystemServices.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 709\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 710\n      },\n      __self: this\n    }, \"Provider System\"), this.state.systems ? this.state.systems.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item.name,\n        id: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 714\n        },\n        __self: this\n      }, item.name);\n    }) : '')), React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"select\",\n      name: \"consumedService\",\n      id: \"exampleSelect\",\n      onChange: this.handleReferenceChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 722\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 723\n      },\n      __self: this\n    }, \"Service\"), this.state.servicesList ? this.state.servicesList.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 727\n        },\n        __self: this\n      }, item.name);\n    }) : '')), React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 732\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn grey-btn modal-top-btn\",\n      onClick: this.createReference.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 733\n      },\n      __self: this\n    }, \"Done\")))))))), React.createElement(\"div\", {\n      className: \"browser_header text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 748\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 749\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-share-alt submenu-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 750\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 751\n      },\n      __self: this\n    }, \"Flow Details\"), React.createElement(\"i\", {\n      className: \"far fa-edit\",\n      onClick: () => this.modalToggle(this, this.props.flowDetails),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 752\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon browser_close\",\n      onClick: () => this.close(\"flowDetail\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 756\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"browser_wrapper browser_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 762\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"name m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 763\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 764\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 765\n      },\n      __self: this\n    }, this.props.flowDetails.name)), React.createElement(\"div\", {\n      className: \"support m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 767\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 768\n      },\n      __self: this\n    }, \"Support level\"), this.props.flowDetails.supportLevel === 1 && React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 770\n      },\n      __self: this\n    }, \"Gold\"), this.props.flowDetails.supportLevel === 2 && React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 773\n      },\n      __self: this\n    }, \"Platinum\"), this.props.flowDetails.supportLevel === 3 && React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 776\n      },\n      __self: this\n    }, \"Silver\")), React.createElement(\"div\", {\n      className: \"url m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 779\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 780\n      },\n      __self: this\n    }, \"Documentation URL\"), React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 781\n      },\n      __self: this\n    }, this.props.flowDetails.custom ? this.props.flowDetails.custom.documentationUrl : \"\")), React.createElement(\"div\", {\n      className: \"desc m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 787\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 788\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"p\", {\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 789\n      },\n      __self: this\n    }, this.props.flowDetails.description)), React.createElement(\"div\", {\n      className: \"system m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 791\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 792\n      },\n      __self: this\n    }, \"Source\"), this.props.flowDetails._links ? this.props.flowDetails._links.filter(links => links.rel === \"SOURCE\").map(source => {\n      return React.createElement(\"p\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 797\n        },\n        __self: this\n      }, source.title);\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"target m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 801\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 802\n      },\n      __self: this\n    }, \"Target\"), this.props.flowDetails._links ? this.props.flowDetails._links.filter(links => links.rel === \"TARGET\").map(target => {\n      return React.createElement(\"p\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 807\n        },\n        __self: this\n      }, target.title);\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"technical row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 811\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"technical-header col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 812\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 813\n      },\n      __self: this\n    }, \"Technical\"), React.createElement(\"div\", {\n      className: \"addModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 814\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 815\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: addCircle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 816\n      },\n      __self: this\n    }), \"Add team\"))), React.createElement(\"div\", {\n      className: \"technical-body col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 821\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 822\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 823\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 824\n      },\n      __self: this\n    }, \"Consumer\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 825\n      },\n      __self: this\n    }, \"Provider\"), React.createElement(\"li\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 826\n      },\n      __self: this\n    }, \"Service\"), React.createElement(\"li\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 827\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 829\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 830\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-bars\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 831\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"col-md-4 text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 833\n      },\n      __self: this\n    }, \"KIB\"), React.createElement(\"li\", {\n      className: \"col-md-3 text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 834\n      },\n      __self: this\n    }, \"NetSuite - Rest API\"), React.createElement(\"li\", {\n      className: \"col-md-3 text-white word-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 835\n      },\n      __self: this\n    }, \"POST: app/site/hosting/restlet.nl?script=450&deploy=1\"), React.createElement(\"li\", {\n      className: \"col-md-1 text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 838\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-trash-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 839\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"sequence\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 842\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: sequence,\n      alt: \"starlify\",\n      className: \"d-block mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 843\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails,\n    activeModelId: state.model.modelId\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlowDetails);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/FlowDetails.js"],"names":["React","Component","fetchFlowDetils","connect","Modal","ModalBody","FormGroup","Input","Select","sequence","FlowDetails","constructor","props","toggle","target","setState","state","details","formData","name","description","supportLevel","custom","documentationUrl","filterOptions","invocations","referenceData","consumerSystem","consumedService","referenceName","servicesList","close","bind","toggleDescription","modalToggle","handleUrlChange","event","value","handleChange","handleReferenceChange","console","log","openAddReference","updateFlow","fetch","process","env","REACT_APP_API","activeModel","activeFlow","method","headers","body","JSON","stringify","then","response","deletedSourceSystems","length","deleteSourceSystems","deletedTargetSystems","deleteTargetSystems","addSourceSystems","addTargetSystems","setTimeout","getFlowDetails","activeModelId","prevState","modal","catch","error","sourceSystems","map","system","i","targetSystems","handleSourceChange","option","difference","filter","x","includes","push","handleTargetChange","collapse","type","componentWillReceiveProps","nextProps","componentWillMount","data","displayInvocation","invocationList","invocation","reference","id","json","responseJson","consumer","service","provider","_links","links","rel","title","serviceData","uri","systemData","referenceId","updateFlowDetails","key","deleteReference","e","flowDetails","source","params","label","getSystems","res","systems","getSystemServices","parents","parent","services","createReference","referenceModal","render","check","addCircle","item","mapDispatchToProps","dispatch","modelId","flowId","mapStateToProps","activeSystem","model","modelUri"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { fetchFlowDetils } from \"../../../store/system/systemActions\";\nimport { connect } from \"react-redux\";\nimport { Modal, ModalBody, FormGroup, Input } from \"reactstrap\";\nimport Select from \"react-select\";\nimport check from \"../../../_assets/icons/icons/check-icon.svg\";\nimport addCircle from \"../../../_assets/icons/icons/add-icon-circle.svg\";\nimport sequence from \"../../../_assets/images/Sequence-diagram.png\";\n\nclass FlowDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: {},\n      formData: {\n        name: \"\",\n        description: \"\",\n        supportLevel: \"\",\n        custom: { documentationUrl: \"\" }\n      },\n      filterOptions: [],\n      invocations : [],\n      referenceData: {\n        consumerSystem : \"\",\n        consumedService : \"\",\n        referenceName : \"\"\n      },\n      servicesList: '',\n      invocations : [{}]\n    };\n\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n  }\n\n  //show or hide tool tip\n  toggle = target => {\n    this.setState({\n      ...this.state,\n      [target]: !this.state[target]\n    });\n  };\n\n  handleUrlChange(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = { documentationUrl: event.target.value };\n    this.setState({\n      formData\n    });\n  }\n\n  handleChange(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  handleReferenceChange(event) {\n    const { referenceData } = this.state;\n    referenceData[event.target.name] = event.target.value;\n    this.setState({\n      referenceData\n    });\n    console.log(referenceData)\n  }\n\n  openAddReference(event) {\n    const { formData } = this.state;\n    formData[event.target.name] = event.target.value;\n    this.setState({\n      formData\n    });\n  }\n\n  updateFlow() {\n    fetch(\n      process.env.REACT_APP_API +\n        `${this.props.activeModel}/flow/` +\n        this.props.activeFlow,\n      {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.state.formData)\n      }\n    )\n      .then(response => {\n        if (this.state.deletedSourceSystems.length > 0)\n          this.deleteSourceSystems();\n        if (this.state.deletedTargetSystems.length > 0)\n          this.deleteTargetSystems();\n        this.addSourceSystems();\n        this.addTargetSystems();\n        setTimeout(() => {\n          this.props.getFlowDetails(\n            this.props.activeModelId,\n            this.props.activeFlow\n          );\n          this.setState(prevState => ({\n            modal: !prevState.modal\n          }));\n        }, 2000);\n      })\n      .catch(error => console.log(error));\n  }\n\n  addSourceSystems() {\n    console.log(this.state.sourceSystems);\n    this.state.sourceSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/source/\" +\n          system.value,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  addTargetSystems() {\n    this.state.targetSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/target/\" +\n          system.value,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteSourceSystems() {\n    this.state.deletedSourceSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/source/\" +\n          system.value,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  deleteTargetSystems() {\n    console.log(this.state.deletedTargetSystems);\n    this.state.deletedTargetSystems.map((system, i) => {\n      fetch(\n        process.env.REACT_APP_API +\n          \"/hypermedia/network/\" +\n          this.props.activeModelId +\n          \"/flow/\" +\n          this.props.activeFlow +\n          \"/target/\" +\n          system.value,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      )\n        .then(response => {})\n        .catch(error => console.log(error));\n      return true;\n    });\n  }\n\n  handleSourceChange(option, event) {\n    console.log(option);\n    let difference = this.state.sourceSystems.filter(x => !option.includes(x)); // calculates diff\n    console.log(difference);\n    if (difference.length > 0) {\n      this.state.deletedSourceSystems.push(difference[0]);\n    }\n    this.setState(state => {\n      return {\n        sourceSystems: option\n      };\n    });\n  }\n\n  handleTargetChange(option) {\n    let difference = this.state.targetSystems.filter(x => !option.includes(x)); // calculates diff\n    if (difference.length > 0) {\n      this.state.deletedTargetSystems.push(difference[0]);\n    }\n    this.setState(state => {\n      return {\n        targetSystems: option\n      };\n    });\n  }\n\n  //show or hide description\n  toggleDescription() {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  //closes the detail window\n  close(type) {\n    this.props.close(type);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (this.props.activeFlow !== nextProps.activeFlow)\n      this.props.getFlowDetails(this.props.activeModelId, nextProps.activeFlow);\n  }\n\n  //get flow details\n  componentWillMount() {\n    var data  = [\n      {\n          \"custom\": {},\n          \"id\": \"3a7a2223-d419-4645-bf87-88cf54013ab9\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"2\",\n          \"reference\": {\n              \"name\": \"Unknown 2\",\n              \"custom\": {},\n              \"id\": \"6fff9377-8c26-494f-829a-f1a2368d1efe\",\n              \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n      },\n      {\n          \"name\": \"\",\n          \"custom\": {},\n          \"id\": \"0b908d3e-a40c-497e-ba7c-4f9ba094eade\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"7\",\n          \"reference\": {\n              \"name\": \"Unknown 3\",\n              \"custom\": {},\n              \"id\": \"1239bfb1-7e21-4263-a76f-3735062bf75e\",\n              \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n      },\n      {\n          \"name\": \"\",\n          \"custom\": {},\n          \"id\": \"004cee92-f898-4172-a9ae-1061c037d3a5\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"6\",\n          \"reference\": {\n              \"name\": \"Unknown 3\",\n              \"custom\": {},\n              \"id\": \"68c61533-d6aa-4c50-8b02-6bb540b90d0e\",\n              \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n      },\n      {\n          \"name\": \"\",\n          \"custom\": {},\n          \"id\": \"33e777d3-3dbf-47cc-8363-bb7f96cae213\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"5\",\n          \"reference\": {\n              \"name\": \"Unknown 2\",\n              \"custom\": {},\n              \"id\": \"5c1d18e3-8993-468c-aba2-89f21b028725\",\n              \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n      },\n      {\n          \"custom\": {},\n          \"id\": \"23525fa8-85ce-4aad-81d5-711ac1fe984c\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"1\",\n          \"reference\": {\n              \"name\": \"eetertert\",\n              \"custom\": {},\n              \"id\": \"8d4163f4-d723-454e-afda-95a2d079f4db\",\n              \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n      },\n      {\n          \"name\": \"\",\n          \"custom\": {},\n          \"id\": \"0b05bc00-cba6-46de-a0dd-5e8a7b997113\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"4\",\n          \"reference\": {\n              \"name\": \"Unknown 1\",\n              \"custom\": {},\n              \"id\": \"773d0bec-2958-436a-9f6a-bf3385ff4952\",\n              \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n      },\n      {\n          \"name\": \"\",\n          \"custom\": {},\n          \"id\": \"20de5001-258e-47f6-9d0a-c4310db509b8\",\n          \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n          \"index\": \"3\",\n          \"reference\": {\n              \"name\": \"demo1\",\n              \"custom\": {},\n              \"id\": \"555b7040-b322-4fe3-aae4-b7dd9e0af69e\",\n              \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n          }\n      }\n  ]\n\n  this.displayInvocation(data)\n\n\n    this.props.getFlowDetails(this.props.activeModelId, this.props.activeFlow);\n  }\n\n  displayInvocation(invocationList){\n    invocationList.map((invocation, i) => {\n\n      fetch(\n        process.env.REACT_APP_API + `/hypermedia/network/${this.props.activeModelId}/system/${this.props.activeFlow}/reference/${invocation.reference.id}`,\n        {\n          method: \"GET\"\n        }\n      )\n      .then(response => response.json())\n      .then(responseJson => {\n        var consumer,service,provider\n         responseJson._links\n          .filter(links => links.rel=== 'OF')\n          .map((referenceData, i) => {consumer = referenceData.title\n          }) \n          responseJson._links\n          .filter(links => links.rel=== 'TO')\n          .map((serviceData, i) => { service = serviceData.title\n            fetch(\n              process.env.REACT_APP_API +\n              serviceData.uri,\n              {\n                method: \"GET\"\n              }\n            )\n            .then(response => response.json())\n            .then(responseJson => {\n               \n               responseJson._links\n          .filter(links => links.rel=== 'OF')\n          .map((systemData, i) => {provider = systemData.title})\n          this.state.invocations.push({'consumer' : consumer, 'service' : service, 'provider' : provider, referenceId : invocation.reference.id})\n          console.log(this.state.invocations)\n              })\n              .catch(error => console.log(error));\n          })\n          \n      })\n      .catch(error => console.log(error));\n\n    \n    \n})\n\n  }\n\n  //update flow details\n  updateFlowDetails(event) {\n    let value = event.target.value;\n    if (\n      (event.key === \"Enter\" || event.type === \"blur\") &&\n      this.state.modal &&\n      value\n    ) {\n      event.target.value = \"\";\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(\n        process.env.REACT_APP_API +\n          `${this.props.activeModel}/flow/` +\n          this.props.activeFlow,\n        {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ description: value })\n        }\n      )\n        .then(response => {\n          this.props.getFlowDetails(\n            this.props.activeModel,\n            this.props.activeFlow\n          );\n        })\n        .catch(error => console.log(error));\n    }\n  }\n\n   //Delete entity\n   deleteReference(referenceId, event) {\n    return fetch(\n      process.env.REACT_APP_API + `/hypermedia/network/${this.props.activeModelId}/${'modeled'}/${referenceId}`,\n      {\n          method: \"DELETE\",\n          headers: {\n              \"Content-Type\": \"application/json\"\n          }\n      }\n  )\n      .then(response => {\n         \n      });\n}\n\n  //control right click modal\n  modalToggle(e, data) {\n    \n  \n    this.state.sourceSystems = [];\n    this.state.targetSystems = [];\n    this.state.deletedSourceSystems = [];\n    this.state.deletedTargetSystems = [];\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    this.props.flowDetails._links\n      .filter(links => links.rel === \"SOURCE\")\n      .map(source => {\n        this.state.sourceSystems.push({\n          value: source.params.id,\n          label: source.title\n        });\n      });\n\n    this.props.flowDetails._links\n      .filter(links => links.rel === \"TARGET\")\n      .map(target => {\n        this.state.targetSystems.push({\n          value: target.params.id,\n          label: target.title\n        });\n      });\n\n    this.setState({\n      formData: {\n        name: this.props.flowDetails.name,\n        description: this.props.flowDetails.description,\n        supportLevel: this.props.flowDetails.supportLevel,\n        custom: {\n          documentationUrl: this.props.flowDetails.custom.documentationUrl\n        }\n      }\n    });\n    this.getSystems();\n  }\n\n  getSystems() {\n    return fetch(\n      process.env.REACT_APP_API +\n        \"/hypermedia/network/\" +\n        this.props.activeModelId +\n        \"/allsystems\"\n    )\n      .then(res => res.json())\n      .then(response => {\n        this.setState({ systems: response });\n        response.map((systems, i) => {\n          this.state.filterOptions.push({\n            value: systems.id,\n            label: systems.name\n          });\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  getSystemServices(event) {\n    let parents = this.state.systems;\n    let parent = parents.filter(parent => parent.name === event.target.value);\n    if (parent)\n        this.setState({ servicesList: parent[0].services });\n  }\n\n  //create service\ncreateReference(event) {\n\n      this.setState(prevState => ({\n        referenceModal: !prevState.referenceModal\n      }));\n\n      fetch(\n          process.env.REACT_APP_API + `/hypermedia/network/${this.props.activeModelId}/system/${this.state.referenceData.consumerSystem}/reference/service/${this.state.referenceData.consumedService}`,\n          {\n              method: \"POST\",\n              headers: {\n                  \"Content-Type\": \"application/json\"\n              }\n          }\n      )\n          \n              .then(response => response.json())\n              .then(responseJson => {\n                return fetch(\n                  process.env.REACT_APP_API + `${this.props.activeModel}/service/${this.props.activeFlow}/invocation/` + responseJson.id,\n\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n\n                }\n            )\n            .then(response => response.json())\n            .then(responseJson => {\n              var data = {\n                \"custom\": {},\n                \"id\": \"23525fa8-85ce-4aad-81d5-711ac1fe984c\",\n                \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\",\n                \"index\": \"1\",\n                \"reference\": {\n                    \"name\": \"eetertert\",\n                    \"custom\": {},\n                    \"id\": \"8d4163f4-d723-454e-afda-95a2d079f4db\",\n                    \"model\": \"a0434a1d-fc55-42b0-996c-10d5a30fb20f\"\n                }\n            }\n                    console.log(responseJson)\n                }\n                )\n                      \n                  }\n                  )\n         \n\n}\n  \n\n  render() {\n    var { formData } = this.state;\n    return (\n      <div className=\"browser\">\n        <Modal isOpen={this.state.modal} toggle={this.modalToggle}>\n          <ModalBody>\n            <div className=\"editFlow\">\n              <h3 className=\"d-inline-block modal-title\">Edit Flow Details</h3>\n              <button\n                className=\"btn grey-btn modal-top-btn\"\n                onClick={this.updateFlow.bind(this)}\n              >\n                Done <img src={check} alt=\"\" />\n              </button>\n              <div className=\"ModalInput m-t-50\">\n                <h4>Flow name</h4>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  name=\"name\"\n                  onChange={this.handleChange.bind(this)}\n                />\n              </div>\n              <div className=\"ModalInput\">\n                <FormGroup>\n                  <Input\n                    className=\"select-css\"\n                    type=\"select\"\n                    name=\"supportLevel\"\n                    value={formData.supportLevel}\n                    onChange={this.handleChange.bind(this)}\n                  >\n                    <option value=\"\">Support Level</option>\n                    <option value=\"1\">Gold</option>\n                    <option value=\"2\">Platinum</option>\n                    <option value=\"3\">Silver</option>\n                    ))}\n                  </Input>\n                </FormGroup>\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Documentation URL</h4>\n                <input\n                  type=\"text\"\n                  name=\"custom\"\n                  value={formData.custom.documentationUrl}\n                  onChange={this.handleUrlChange.bind(this)}\n                />\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Description</h4>\n                <textarea\n                  type=\"text\"\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={this.handleChange.bind(this)}\n                />\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Source system</h4>\n                <div className=\"searchbar\">\n                  <div sm=\"12\">\n                    <Select\n                      name=\"filters\"\n                      placeholder=\"Filters\"\n                      value={this.state.sourceSystems}\n                      options={this.state.filterOptions}\n                      onChange={this.handleSourceChange.bind(this)}\n                      multi\n                      clearable={false}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"ModalInput\">\n                <h4>Target system</h4>\n                <div className=\"searchbar\">\n                  <div sm=\"12\">\n                    <Select\n                      name=\"filters\"\n                      placeholder=\"Filters\"\n                      value={this.state.targetSystems}\n                      options={this.state.filterOptions}\n                      onChange={this.handleTargetChange.bind(this)}\n                      multi\n                      clearable={false}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"technical row\">\n            <div className=\"technical-header col-md-12\">\n              <span className=\"text-grey\">Technical</span>\n              <div className=\"addModal\">\n                <span onClick={this.openAddReference.bind(this)}>\n                  <img src={addCircle} />\n                  Add team\n                </span>\n              </div>\n            </div>\n            <div className=\"technical-body col-md-12\">\n              <ul className=\"row\">\n                <li className=\"col-md-1\"></li>\n                <li className=\"col-md-4\">Consumer</li>\n                <li className=\"col-md-3\">Provider</li>\n                <li className=\"col-md-3\">Service</li>\n                <li className=\"col-md-1\"></li>\n              </ul>\n              {this.state.invocations.map((invocation, i) => {\n                                                    return (\n              <ul className=\"row\">\n                <li className=\"col-md-1\">\n                  <i className=\"fas fa-bars\"></i>\n                </li>\n                <li className=\"col-md-4 text-white\">{invocation.consumer}</li>\n                <li className=\"col-md-3 text-white\">{invocation.provider}</li>\n                <li className=\"col-md-3 text-white word-wrap\">\n                {invocation.service}\n                </li>\n                <li className=\"col-md-1 text-white\">\n                  <i className=\"fas fa-trash-alt\" onClick={this.deleteReference.bind(this,invocation.referenceId)}></i>\n                </li>\n              </ul>)})}\n              <div className=\"sequence\">\n                \n              </div>\n            </div>\n            \n            <div>\n            <h4 className=\"text-center m-b-30\">Create new reference</h4>\n                                <div className=\"row formGroupWrapper\">\n                                <div className=\"form-group col-md-3\">\n                                        <Input type=\"select\" name=\"consumerSystem\" onChange={this.handleReferenceChange.bind(this)}>\n                                            <option>Cosnumer System</option>\n                                            {this.state.systems\n                                                ? this.state.systems.map((item, i) => {\n                                                    return (\n                                                         <option key = {i} value={item.id} id={item.id}>{item.name}</option>\n\n                                                    )\n                                                }) : ''}\n\n                                        </Input>\n                                    </div>\n                                    <div className=\"form-group col-md-3\">\n                                        <Input type=\"select\" name=\"select\" onChange={this.getSystemServices.bind(this)}>\n                                            <option>Provider System</option>\n                                            {this.state.systems\n                                                ? this.state.systems.map((item, i) => {\n                                                    return (\n                                                         <option key = {i} value={item.name} id={item.id}>{item.name}</option>\n\n                                                    )\n                                                }) : ''}\n\n                                        </Input>\n                                    </div>\n                                    <div className=\"form-group col-md-3\">\n                                        <Input type=\"select\" name=\"consumedService\" id=\"exampleSelect\" onChange={this.handleReferenceChange.bind(this)}>\n                                            <option>Service</option>\n                                            {this.state.servicesList\n                                                ? this.state.servicesList.map((item, i) => {\n                                                    return (\n                                                        <option key = {i} value={item.id}>{item.name}</option>\n                                                    )\n                                                }) : ''}\n                                        </Input>\n                                    </div>\n                                    <div className=\"form-group col-md-6\">\n                                    <button\n                className=\"btn grey-btn modal-top-btn\"\n                onClick={this.createReference.bind(this)}\n              >\n                Done \n              </button>\n                                       \n                                    </div>\n                                </div>\n            </div>\n          </div>\n            </div>\n          </ModalBody>\n        </Modal>\n\n        <div className=\"browser_header text-white\">\n          <div>\n            <i className=\"fas fa-share-alt submenu-icon\"></i>\n            <h3 className=\"d-inline-block\">Flow Details</h3>\n            <i\n              className=\"far fa-edit\"\n              onClick={() => this.modalToggle(this, this.props.flowDetails)}\n            ></i>\n            <i\n              className=\"fas fa-times system-down-icon browser_close\"\n              onClick={() => this.close(\"flowDetail\")}\n            />\n          </div>\n        </div>\n        <div className=\"browser_wrapper browser_body\">\n          <div className=\"name m-b-20\">\n            <p className=\"text-grey\">Name</p>\n            <p className=\"text-white\">{this.props.flowDetails.name}</p>\n          </div>\n          <div className=\"support m-b-20\">\n            <p className=\"text-grey\">Support level</p>\n            {this.props.flowDetails.supportLevel === 1 && (\n              <p className=\"text-white\">Gold</p>\n            )}\n            {this.props.flowDetails.supportLevel === 2 && (\n              <p className=\"text-white\">Platinum</p>\n            )}\n            {this.props.flowDetails.supportLevel === 3 && (\n              <p className=\"text-white\">Silver</p>\n            )}\n          </div>\n          <div className=\"url m-b-20\">\n            <p className=\"text-grey\">Documentation URL</p>\n            <p className=\"text-white\">\n              {this.props.flowDetails.custom\n                ? this.props.flowDetails.custom.documentationUrl\n                : \"\"}\n            </p>\n          </div>\n          <div className=\"desc m-b-20\">\n            <p className=\"text-grey\">Description</p>\n            <p className=\"text-white\">{this.props.flowDetails.description}</p>\n          </div>\n          <div className=\"system m-b-20\">\n            <p className=\"text-grey\">Source</p>\n            {this.props.flowDetails._links\n              ? this.props.flowDetails._links\n                  .filter(links => links.rel === \"SOURCE\")\n                  .map(source => {\n                    return <p className=\"text-white\">{source.title}</p>;\n                  })\n              : \"\"}\n          </div>\n          <div className=\"target m-b-20\">\n            <p className=\"text-grey\">Target</p>\n            {this.props.flowDetails._links\n              ? this.props.flowDetails._links\n                  .filter(links => links.rel === \"TARGET\")\n                  .map(target => {\n                    return <p className=\"text-white\">{target.title}</p>;\n                  })\n              : \"\"}\n          </div>\n          <div className=\"technical row\">\n            <div className=\"technical-header col-md-12\">\n              <span className=\"text-grey\">Technical</span>\n              <div className=\"addModal\">\n                <span>\n                  <img src={addCircle} />\n                  Add team\n                </span>\n              </div>\n            </div>\n            <div className=\"technical-body col-md-12\">\n              <ul className=\"row\">\n                <li className=\"col-md-1\"></li>\n                <li className=\"col-md-4\">Consumer</li>\n                <li className=\"col-md-3\">Provider</li>\n                <li className=\"col-md-3\">Service</li>\n                <li className=\"col-md-1\"></li>\n              </ul>\n              <ul className=\"row\">\n                <li className=\"col-md-1\">\n                  <i className=\"fas fa-bars\"></i>\n                </li>\n                <li className=\"col-md-4 text-white\">KIB</li>\n                <li className=\"col-md-3 text-white\">NetSuite - Rest API</li>\n                <li className=\"col-md-3 text-white word-wrap\">\n                  POST: app/site/hosting/restlet.nl?script=450&deploy=1\n                </li>\n                <li className=\"col-md-1 text-white\">\n                  <i className=\"fas fa-trash-alt\"></i>\n                </li>\n              </ul>\n              <div className=\"sequence\">\n                <img\n                  src={sequence}\n                  alt=\"starlify\"\n                  className=\"d-block mx-auto\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getFlowDetails: (modelId, flowId) => {\n      dispatch(fetchFlowDetils(modelId, flowId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeFlow: state.system.activeFlow,\n    activeModel: state.model.modelUri,\n    flowDetails: state.system.flowDetails,\n    activeModelId: state.model.modelId\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FlowDetails);\n"]},"metadata":{},"sourceType":"module"}