{"ast":null,"code":"module.exports = integrate;\n\nfunction integrate(bodies, timeStep) {\n  var tx = 0,\n      ty = 0,\n      tz = 0,\n      i,\n      max = bodies.length;\n\n  for (i = 0; i < max; ++i) {\n    var body = bodies[i],\n        coeff = timeStep * timeStep / body.mass;\n    body.pos.x = 2 * body.pos.x - body.prevPos.x + body.force.x * coeff;\n    body.pos.y = 2 * body.pos.y - body.prevPos.y + body.force.y * coeff;\n    body.pos.z = 2 * body.pos.z - body.prevPos.z + body.force.z * coeff;\n    tx += Math.abs(body.pos.x - body.prevPos.x);\n    ty += Math.abs(body.pos.y - body.prevPos.y);\n    tz += Math.abs(body.pos.z - body.prevPos.z);\n  }\n\n  return (tx * tx + ty * ty + tz * tz) / bodies.length;\n}","map":null,"metadata":{},"sourceType":"script"}