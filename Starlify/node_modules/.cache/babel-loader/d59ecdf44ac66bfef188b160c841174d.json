{"ast":null,"code":"var _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/Organisation.js\";\nimport React, { Component } from \"react\";\nimport { Modal, ModalBody, Input } from \"reactstrap\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { connect } from \"react-redux\";\nimport { fetchDivisions, fetchTeams, fetchPersons } from \"../../../store/organisation/orgActions\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\n\nclass Organisation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.rightClick = (e, data) => {\n      this.setState({\n        popup: !this.state.popup\n      });\n      var type = data.target.getAttribute(\"data-type\") + \"-\" + data.eventType;\n      var id = data.target.id;\n      var name = data.target.textContent;\n      this.setState({\n        itemid: id,\n        itemname: name,\n        eventType: type\n      });\n    };\n\n    this.modalToggle = () => {\n      this.setState({\n        itemid: null,\n        itemname: null,\n        popup: !this.state.popup,\n        eventType: null\n      });\n    };\n\n    this.addDivision = e => {\n      var value = e.target.value;\n\n      if (e.key === 'Enter') {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + this.props.orgid + \"/organisation\", {\n          method: \"POST\"\n        }).then(res => res.json()).then(result => {\n          fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + result.id, {\n            method: \"PATCH\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              name: value\n            })\n          }).then(res => res.json()).then(result => {\n            this.props.onfetchDivisions(this.props.domain);\n            this.modalToggle();\n          });\n        });\n      }\n    };\n\n    this.renameDivision = e => {\n      var value = e.target.value;\n\n      if (e.key === 'Enter') {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + this.state.itemid, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(res => res.json()).then(result => {\n          document.getElementById(result.id).textContent = result.name;\n          this.modalToggle();\n        });\n      }\n    };\n\n    this.deleteDivision = () => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + this.state.itemid, {\n        method: \"DELETE\"\n      }).then(result => {\n        console.log(result);\n\n        switch (result.status) {\n          case 200:\n            this.props.onfetchDivisions(this.props.domain);\n            this.modalToggle();\n            break;\n\n          case 403:\n            this.setState({\n              eventType: \"delete-403\"\n            });\n            break;\n\n          default:\n        }\n      });\n    };\n\n    this.addTeam = e => {\n      var value = e.target.value;\n\n      if (e.key === 'Enter') {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + this.props.division + \"/organisation\", {\n          method: \"POST\"\n        }).then(res => res.json()).then(result => {\n          fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + result.id, {\n            method: \"PATCH\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              name: value\n            })\n          }).then(res => res.json()).then(result => {\n            this.props.onClickDivision(this.props.domain, this.props.division);\n            this.modalToggle();\n          });\n        });\n      }\n    };\n\n    this.renameTeam = e => {\n      var value = e.target.value;\n\n      if (e.key === 'Enter') {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + this.state.itemid, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(res => res.json()).then(result => {\n          document.getElementById(result.id).textContent = result.name;\n          this.modalToggle();\n        });\n      }\n    };\n\n    this.deleteTeam = () => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + this.state.itemid, {\n        method: \"DELETE\"\n      }).then(result => {\n        switch (result.status) {\n          case 200:\n            this.props.onClickDivision(this.props.domain, this.props.division);\n            this.modalToggle();\n            break;\n\n          case 403:\n            this.setState({\n              eventType: \"delete-403\"\n            });\n            break;\n\n          default:\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.addPerson = e => {\n      var value = e.target.value;\n\n      if (e.key === 'Enter') {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/organisation/\" + this.props.team + \"/person\", {\n          method: \"POST\"\n        }).then(res => res.json()).then(result => {\n          fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/person/\" + result.id, {\n            method: \"PATCH\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              name: value\n            })\n          }).then(res => res.json()).then(result => {\n            this.props.onClickTeam(this.props.domain, this.props.team);\n            this.modalToggle();\n          });\n        });\n      }\n    };\n\n    this.renamePerson = e => {\n      var value = e.target.value;\n\n      if (e.key === 'Enter') {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/person/\" + this.state.itemid, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: value\n          })\n        }).then(res => res.json()).then(result => {\n          document.getElementById(result.id).textContent = result.name;\n          this.modalToggle();\n        });\n      }\n    };\n\n    this.deletePerson = () => {\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\" + this.props.domain + \"/person/\" + this.state.itemid, {\n        method: \"DELETE\"\n      }).then(result => {\n        this.props.onClickTeam(this.props.domain, this.props.team);\n        this.modalToggle();\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.close = this.close.bind(this);\n    this.rightClick = this.rightClick.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.state = {\n      itemid: null,\n      itemname: null,\n      popup: false,\n      eventType: null\n    };\n  } //closes the organisation section\n\n\n  close(menu, type) {\n    this.props.close(menu, type);\n  }\n\n  componentDidMount() {\n    if (this.props.domain !== \"\") {\n      if (this.props.division === \"\" || this.props.team === \"\") {\n        this.props.onfetchDivisions(this.props.domain);\n      }\n    }\n  }\n\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n\n    if (oldProps.domain !== newProps.domain) {\n      this.props.onfetchDivisions(newProps.domain);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"org_browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(ContextMenu, {\n      id: \"org_right_click\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      data: {\n        eventType: 'rename'\n      },\n      onClick: this.rightClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Rename\"), React.createElement(MenuItem, {\n      data: {\n        eventType: 'delete'\n      },\n      onClick: this.rightClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"Delete\")), React.createElement(Modal, {\n      isOpen: this.state.popup,\n      toggle: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, this.state.eventType === 'division-add' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Add Division\"), React.createElement(Input, {\n      type: \"text\",\n      className: \"text-input\",\n      onKeyDown: this.addDivision.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    })), this.state.eventType === 'division-rename' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Rename Division\"), React.createElement(Input, {\n      type: \"text\",\n      className: \"text-input\",\n      defaultValue: this.state.itemname,\n      onKeyDown: this.renameDivision.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    })), this.state.eventType === 'division-delete' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Are you sure?\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Do you really want to delete division \", this.state.itemname, \"? \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), \"Process cannot be undone\"), React.createElement(\"div\", {\n      className: \"delete-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn black-btn\",\n      onClick: this.deleteDivision.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"confirm\"), React.createElement(\"button\", {\n      className: \"btn transparent-black-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"cancel\"))), this.state.eventType === 'team-add' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Add Team\"), React.createElement(Input, {\n      type: \"text\",\n      className: \"text-input\",\n      onKeyDown: this.addTeam.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), this.state.eventType === 'team-rename' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"Rename Team\"), React.createElement(Input, {\n      type: \"text\",\n      className: \"text-input\",\n      defaultValue: this.state.itemname,\n      onKeyDown: this.renameTeam.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    })), this.state.eventType === 'team-delete' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"Are you sure?\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"Do you really want to delete team \", this.state.itemname, \"? \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }), \"Process cannot be undone\"), React.createElement(\"div\", {\n      className: \"delete-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn black-btn\",\n      onClick: this.deleteTeam.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"confirm\"), React.createElement(\"button\", {\n      className: \"btn transparent-black-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"cancel\"))), this.state.eventType === 'person-add' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"Add Person\"), React.createElement(Input, {\n      type: \"text\",\n      className: \"text-input\",\n      onKeyDown: this.addPerson.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    })), this.state.eventType === 'person-rename' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"text-center m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"Rename Person\"), React.createElement(Input, {\n      type: \"text\",\n      className: \"text-input\",\n      defaultValue: this.state.itemname,\n      onKeyDown: this.renamePerson.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    })), this.state.eventType === 'person-delete' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"Are you sure?\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Do you really want to delete person \", this.state.itemname, \"? \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }), \"Process cannot be undone\"), React.createElement(\"div\", {\n      className: \"delete-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn black-btn\",\n      onClick: this.deletePerson.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"confirm\"), React.createElement(\"button\", {\n      className: \"btn transparent-black-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, \"cancel\"))), this.state.eventType === 'delete-403' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"Unable to delete!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"Please check section contains any child objects before try to remove.\"), React.createElement(\"div\", {\n      className: \"delete-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn transparent-black-btn\",\n      onClick: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, \"cancel\"))))), React.createElement(\"h3\", {\n      className: \"text-center text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"Organisation Browser\", React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon browser_close\",\n      onClick: () => this.close('organisation', 'menu'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    })), React.createElement(VerticalScrollbars, {\n      style: {\n        width: 350\n      },\n      autoHide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"org-selector\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, \"Org selector\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"search-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"icon icon-Search search-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    })), this.props.orgid !== \"\" && React.createElement(\"div\", {\n      className: \"division w-100 d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, \"Division \", React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon\",\n      onClick: () => {\n        this.setState({\n          eventType: \"division-add\",\n          popup: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }), \" \"), this.props.divisions.length !== 0 && React.createElement(VerticalScrollbars, {\n      style: {\n        height: 120\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, this.props.divisions.map((item, index) => {\n      let active = item.id === this.props.division ? \"active\" : \"\";\n      return React.createElement(ContextMenuTrigger, {\n        key: item.id,\n        id: \"org_right_click\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"division-item \" + active,\n        id: item.id,\n        \"data-type\": \"division\",\n        onClick: e => this.props.onClickDivision(this.props.domain, e.target.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, item.name));\n    })))), this.props.division !== \"\" && React.createElement(\"div\", {\n      className: \"team\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, \"Team \", React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon\",\n      onClick: () => {\n        this.setState({\n          eventType: \"team-add\",\n          popup: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    })), this.props.teams.length !== 0 && React.createElement(\"div\", {\n      className: \"team-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(VerticalScrollbars, {\n      style: {\n        height: 150\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, this.props.teams.map((item, index) => {\n      let active = item.id === this.props.team ? \"active\" : \"\";\n      return React.createElement(ContextMenuTrigger, {\n        key: item.id,\n        id: \"org_right_click\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        key: item.id,\n        className: \"team-item \" + active,\n        id: item.id,\n        \"data-type\": \"team\",\n        onClick: e => this.props.onClickTeam(this.props.domain, item.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, item.name));\n    }))))), this.props.team !== \"\" && React.createElement(\"div\", {\n      className: \"developer w-100 d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, \"Developer \", React.createElement(\"i\", {\n      className: \"fas fa-plus system-down-icon\",\n      onClick: () => {\n        this.setState({\n          eventType: \"person-add\",\n          popup: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }), \" \"), this.props.persons.length !== 0 && React.createElement(VerticalScrollbars, {\n      style: {\n        height: 180\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, this.props.persons.map((item, index) => {\n      return React.createElement(ContextMenuTrigger, {\n        key: item.id,\n        id: \"org_right_click\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        key: item.id,\n        id: item.id,\n        className: \"developer-item\",\n        \"data-type\": \"person\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, item.name));\n    })))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    domain: state.model.domain,\n    orgid: state.organisation.orgid,\n    division: state.organisation.division,\n    divisions: state.organisation.divisions,\n    team: state.organisation.team,\n    teams: state.organisation.teams,\n    persons: state.organisation.persons\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onfetchDivisions: domainId => {\n      dispatch(fetchDivisions(domainId));\n    },\n    onClickDivision: (domainId, divId) => {\n      const action = {\n        type: \"SELECT_DIVISION\",\n        division: divId\n      };\n      dispatch(fetchTeams(domainId, divId));\n      dispatch(action);\n    },\n    onClickTeam: (domainId, teamId) => {\n      const action = {\n        type: \"SELECT_TEAM\",\n        team: teamId\n      };\n      dispatch(fetchPersons(domainId, teamId));\n      dispatch(action);\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Organisation);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/Organisation.js"],"names":["React","Component","Modal","ModalBody","Input","VerticalScrollbars","connect","fetchDivisions","fetchTeams","fetchPersons","ContextMenu","MenuItem","ContextMenuTrigger","Organisation","constructor","props","rightClick","e","data","setState","popup","state","type","target","getAttribute","eventType","id","name","textContent","itemid","itemname","modalToggle","addDivision","value","key","fetch","process","env","REACT_APP_API","domain","orgid","method","then","res","json","result","headers","body","JSON","stringify","onfetchDivisions","renameDivision","document","getElementById","deleteDivision","console","log","status","addTeam","division","onClickDivision","renameTeam","deleteTeam","catch","error","addPerson","team","onClickTeam","renamePerson","deletePerson","close","bind","menu","componentDidMount","componentDidUpdate","oldProps","newProps","render","width","divisions","length","height","map","item","index","active","teams","persons","mapStateToProps","model","organisation","mapDispatchToProps","dispatch","domainId","divId","action","teamId"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, ModalBody, Input } from \"reactstrap\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { connect } from \"react-redux\";\nimport {fetchDivisions, fetchTeams, fetchPersons} from \"../../../store/organisation/orgActions\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\n\nclass Organisation extends Component {\n\n  constructor(props) {\n    super(props);\n    this.close = this.close.bind(this);\n    this.rightClick = this.rightClick.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.state = {\n      itemid: null,\n      itemname: null,\n      popup: false,\n      eventType: null\n    }\n  }\n\n  //closes the organisation section\n  close(menu,type) {\n    this.props.close(menu,type);\n  }\n\n  componentDidMount(){\n    if (this.props.domain !== \"\") {\n      if (this.props.division === \"\" || this.props.team === \"\") {\n        this.props.onfetchDivisions(this.props.domain);\n      }\n    }\n  }\n\n  componentDidUpdate(oldProps) {\n    const newProps = this.props\n    if(oldProps.domain !== newProps.domain) {\n      this.props.onfetchDivisions(newProps.domain);\n    }\n  }\n\n  rightClick = (e, data) => {\n    this.setState({popup: !this.state.popup})\n    var type = data.target.getAttribute(\"data-type\") + \"-\" + data.eventType;\n    var id = data.target.id;\n    var name = data.target.textContent;\n    this.setState({\n      itemid: id,\n      itemname: name,\n      eventType: type\n    })\n  }\n\n  modalToggle = () => {\n    this.setState({\n      itemid: null,\n      itemname: null,\n      popup: !this.state.popup,\n      eventType: null\n    });\n  }\n\n  addDivision = (e) => {\n    var value = e.target.value;\n    if(e.key === 'Enter'){\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+this.props.orgid+\"/organisation\",\n        { method: \"POST\" }\n      )\n      .then(res => res.json())\n      .then((result) => {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+result.id,\n          {\n            method: \"PATCH\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ name: value })\n          }\n        )\n        .then(res => res.json())\n        .then((result) => {\n          this.props.onfetchDivisions(this.props.domain);\n          this.modalToggle();\n        });\n      });\n    }\n  }\n\n  renameDivision = (e) => {\n    var value = e.target.value;\n    if(e.key === 'Enter'){\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+this.state.itemid,\n        {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ name: value })\n        }\n      )\n      .then(res => res.json())\n      .then((result) => {\n        document.getElementById(result.id).textContent = result.name;\n        this.modalToggle();\n      });\n    }\n  }\n\n  deleteDivision = () => {\n    fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+this.state.itemid,\n      { method: \"DELETE\" }\n    )\n    .then((result) => {\n      console.log(result);\n      switch (result.status) {\n        case 200:\n            this.props.onfetchDivisions(this.props.domain);\n            this.modalToggle();\n          break;\n        case 403:\n            this.setState({eventType: \"delete-403\"})\n          break;\n        default:\n      }\n    });\n  }\n\n  addTeam = (e) => {\n    var value = e.target.value;\n    if(e.key === 'Enter'){\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+this.props.division+\"/organisation\",\n        { method: \"POST\" }\n      )\n      .then(res => res.json())\n      .then((result) => {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+result.id,\n          {\n            method: \"PATCH\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ name: value })\n          }\n        )\n        .then(res => res.json())\n        .then((result) => {\n          this.props.onClickDivision(this.props.domain, this.props.division);\n          this.modalToggle();\n        });\n      });\n    }\n  }\n\n  renameTeam = (e) => {\n    var value = e.target.value;\n    if(e.key === 'Enter'){\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+this.state.itemid,\n        {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ name: value })\n        }\n      )\n      .then(res => res.json())\n      .then((result) => {\n        document.getElementById(result.id).textContent = result.name;\n        this.modalToggle();\n      });\n    }\n  }\n\n  deleteTeam = () => {\n    fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+this.state.itemid,\n      { method: \"DELETE\" }\n    )\n    .then((result) => {\n      switch (result.status) {\n        case 200:\n            this.props.onClickDivision(this.props.domain, this.props.division);\n            this.modalToggle();\n          break;\n        case 403:\n            this.setState({eventType: \"delete-403\"})\n          break;\n        default:\n      }\n    })\n    .catch(error=>{console.log(error)});\n  }\n\n  addPerson = (e) => {\n    var value = e.target.value;\n    if(e.key === 'Enter'){\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/organisation/\"+this.props.team+\"/person\",\n        { method: \"POST\" }\n      )\n      .then(res => res.json())\n      .then((result) => {\n        fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/person/\"+result.id,\n          {\n            method: \"PATCH\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ name: value })\n          }\n        )\n        .then(res => res.json())\n        .then((result) => {\n          this.props.onClickTeam(this.props.domain, this.props.team);\n          this.modalToggle();\n        });\n      });\n    }\n  }\n\n  renamePerson = (e) => {\n    var value = e.target.value;\n    if(e.key === 'Enter'){\n      fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/person/\"+this.state.itemid,\n        {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ name: value })\n        }\n      )\n      .then(res => res.json())\n      .then((result) => {\n        document.getElementById(result.id).textContent = result.name;\n        this.modalToggle();\n      });\n    }\n  }\n\n  deletePerson = () => {\n    fetch(process.env.REACT_APP_API + \"/hypermedia/domain/\"+this.props.domain+\"/person/\"+this.state.itemid,\n      { method: \"DELETE\" }\n    )\n    .then((result) => {\n      this.props.onClickTeam(this.props.domain, this.props.team);\n      this.modalToggle();\n    })\n    .catch(error=>{console.log(error)});\n  }\n\n  render() {\n    return (\n      <div className=\"org_browser\">\n\n        <ContextMenu id=\"org_right_click\">\n          <MenuItem data={{ eventType: 'rename' }} onClick={this.rightClick}>Rename</MenuItem>\n          <MenuItem data={{ eventType: 'delete' }} onClick={this.rightClick}>Delete</MenuItem>\n        </ContextMenu>\n\n        <Modal isOpen={this.state.popup} toggle={this.modalToggle} >\n          <ModalBody>\n            {this.state.eventType === 'division-add' && (\n              <div>\n                <h4 className=\"text-center m-b-30\">Add Division</h4>\n                <Input\n                  type=\"text\"\n                  className=\"text-input\"\n                  onKeyDown={this.addDivision.bind(this)}\n                />\n              </div>\n            )}\n            {this.state.eventType === 'division-rename' && (\n              <div>\n                <h4 className=\"text-center m-b-30\">Rename Division</h4>\n                <Input\n                  type=\"text\"\n                  className=\"text-input\"\n                  defaultValue={this.state.itemname}\n                  onKeyDown={this.renameDivision.bind(this)}\n                />\n              </div>\n            )}\n            {this.state.eventType === 'division-delete' && (\n              <div>\n              <h4>Are you sure?</h4>\n              <p>Do you really want to delete division {this.state.itemname}? <br />\n              Process cannot be undone</p>\n              <div className=\"delete-button\">\n                <button className=\"btn black-btn\" onClick={this.deleteDivision.bind(this)}>confirm</button>\n                <button className=\"btn transparent-black-btn\" onClick={this.modalToggle}>cancel</button>\n              </div></div>\n            )}\n            {this.state.eventType === 'team-add' && (\n              <div>\n                <h4 className=\"text-center m-b-30\">Add Team</h4>\n                <Input\n                  type=\"text\"\n                  className=\"text-input\"\n                  onKeyDown={this.addTeam.bind(this)}\n                />\n              </div>\n            )}\n            {this.state.eventType === 'team-rename' && (\n              <div>\n                <h4 className=\"text-center m-b-30\">Rename Team</h4>\n                <Input\n                  type=\"text\"\n                  className=\"text-input\"\n                  defaultValue={this.state.itemname}\n                  onKeyDown={this.renameTeam.bind(this)}\n                />\n              </div>\n            )}\n            {this.state.eventType === 'team-delete' && (\n              <div>\n              <h4>Are you sure?</h4>\n              <p>Do you really want to delete team {this.state.itemname}? <br />\n              Process cannot be undone</p>\n              <div className=\"delete-button\">\n                <button className=\"btn black-btn\" onClick={this.deleteTeam.bind(this)}>confirm</button>\n                <button className=\"btn transparent-black-btn\" onClick={this.modalToggle}>cancel</button>\n              </div></div>\n            )}\n            {this.state.eventType === 'person-add' && (\n              <div>\n                <h4 className=\"text-center m-b-30\">Add Person</h4>\n                <Input\n                  type=\"text\"\n                  className=\"text-input\"\n                  onKeyDown={this.addPerson.bind(this)}\n                />\n              </div>\n            )}\n            {this.state.eventType === 'person-rename' && (\n              <div>\n                <h4 className=\"text-center m-b-30\">Rename Person</h4>\n                <Input\n                  type=\"text\"\n                  className=\"text-input\"\n                  defaultValue={this.state.itemname}\n                  onKeyDown={this.renamePerson.bind(this)}\n                />\n              </div>\n            )}\n            {this.state.eventType === 'person-delete' && (\n              <div>\n              <h4>Are you sure?</h4>\n              <p>Do you really want to delete person {this.state.itemname}? <br />\n              Process cannot be undone</p>\n              <div className=\"delete-button\">\n                <button className=\"btn black-btn\" onClick={this.deletePerson.bind(this)}>confirm</button>\n                <button className=\"btn transparent-black-btn\" onClick={this.modalToggle}>cancel</button>\n              </div></div>\n            )}\n            {this.state.eventType === 'delete-403' && (\n              <div>\n                <h4>Unable to delete!</h4>\n                <p>Please check section contains any child objects before try to remove.</p>\n                <div className=\"delete-button\">\n                  <button className=\"btn transparent-black-btn\" onClick={this.modalToggle}>cancel</button>\n                </div>\n              </div>\n            )}\n          </ModalBody>\n        </Modal>\n\n        <h3 className=\"text-center text-white\">\n          Organisation Browser\n          <i className=\"fas fa-times system-down-icon browser_close\" onClick={() => this.close('organisation','menu')} />\n        </h3>\n        <VerticalScrollbars style={{ width: 350 }} autoHide>\n          <div className=\"browser_wrapper\">\n            <div className=\"org-selector\">\n              <p className=\"text-white text-left\">Org selector</p>\n              <input type=\"text\" className=\"search-input\" />\n              <span className=\"icon icon-Search search-icon\" />\n            </div>\n\n            {this.props.orgid !== \"\" &&\n              <div className=\"division w-100 d-inline-block\">\n                <p className=\"text-white text-left\">Division <i className=\"fas fa-plus system-down-icon\" onClick={()=>{this.setState({eventType:\"division-add\",popup:true})}} /> </p>\n                {this.props.divisions.length !== 0 &&\n                  <VerticalScrollbars style={{ height: 120 }}>\n                    <ul>\n                      {\n                        this.props.divisions.map((item, index) => {\n                          let active = (item.id === this.props.division ? \"active\" : \"\");\n                          return (\n                            <ContextMenuTrigger key={item.id} id=\"org_right_click\">\n                              <li className={\"division-item \"+active} id={item.id} data-type=\"division\" onClick={(e) => this.props.onClickDivision(this.props.domain, e.target.id)}>\n                                {item.name}\n                              </li>\n                            </ContextMenuTrigger>\n                          )\n                        })\n                      }\n                    </ul>\n                  </VerticalScrollbars>\n                }\n              </div>\n            }\n\n            {this.props.division !== \"\" &&\n              <div className=\"team\">\n                <p className=\"text-white text-left\">Team <i className=\"fas fa-plus system-down-icon\" onClick={()=>{this.setState({eventType:\"team-add\",popup:true})}} /></p>\n                {this.props.teams.length !== 0 &&\n                  <div className=\"team-container\">\n                    <VerticalScrollbars style={{ height: 150 }}>\n                      <ul>\n                        {\n                          this.props.teams.map((item, index) => {\n                            let active = (item.id === this.props.team ? \"active\" : \"\");\n                            return (\n                              <ContextMenuTrigger key={item.id} id=\"org_right_click\">\n                                <li key={item.id} className={\"team-item \"+active} id={item.id} data-type=\"team\"\n                                onClick={(e) => this.props.onClickTeam(this.props.domain, item.id)}>\n                                  {item.name}\n                                </li>\n                              </ContextMenuTrigger>\n                            )\n                          })\n                        }\n                      </ul>\n                    </VerticalScrollbars>\n                  </div>\n                }\n              </div>\n            }\n\n            {this.props.team !== \"\" &&\n              <div className=\"developer w-100 d-inline-block\">\n                <p className=\"text-white text-left\">Developer <i className=\"fas fa-plus system-down-icon\" onClick={()=>{this.setState({eventType:\"person-add\",popup:true})}} /> </p>\n                {this.props.persons.length !== 0 &&\n                  <VerticalScrollbars style={{ height: 180 }}>\n                    <ul className=\"text-left\">\n                      {this.props.persons.map((item, index) => {\n                        return (\n                          <ContextMenuTrigger key={item.id} id=\"org_right_click\">\n                            <li key={item.id} id={item.id} className=\"developer-item\" data-type=\"person\">\n                              {item.name}\n                            </li>\n                          </ContextMenuTrigger>\n                        )\n                      })}\n                    </ul>\n                  </VerticalScrollbars>\n                }\n              </div>\n            }\n\n          </div>\n        </VerticalScrollbars>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    domain: state.model.domain,\n    orgid: state.organisation.orgid,\n    division: state.organisation.division,\n    divisions: state.organisation.divisions,\n    team: state.organisation.team,\n    teams: state.organisation.teams,\n    persons: state.organisation.persons\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onfetchDivisions: domainId => {\n      dispatch(fetchDivisions(domainId));\n    },\n    onClickDivision: (domainId, divId) => {\n      const action = { type: \"SELECT_DIVISION\", division: divId };\n      dispatch(fetchTeams(domainId, divId));\n      dispatch(action);\n    },\n    onClickTeam: (domainId, teamId) => {\n      const action = { type: \"SELECT_TEAM\", team: teamId };\n      dispatch(fetchPersons(domainId, teamId));\n      dispatch(action);\n    }\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Organisation);\n"]},"metadata":{},"sourceType":"module"}