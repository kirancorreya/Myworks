{"ast":null,"code":"import _objectSpread from \"/Users/kirancorreya/Site/Starlify/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/SystemDetails.js\";\nimport React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport { Collapse, Modal, ModalBody, Tooltip } from \"reactstrap\";\nimport { fetchSystemDetils } from \"../../../store/system/systemActions\";\nimport { connect } from \"react-redux\";\n\nclass SystemDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = target => {\n      this.setState(_objectSpread({}, this.state, {\n        [target]: !this.state[target]\n      }));\n    };\n\n    this.state = {\n      collapse: true,\n      systemCollapseId: false,\n      subSystemCollapseId: false,\n      modal: false,\n      details: {}\n    };\n    this.close = this.close.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.updateSystemDetails = this.updateSystemDetails.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.activeSystem != nextProps.activeSystem) this.props.getSystemDetails(this.props.activeModel, nextProps.activeSystem);\n  }\n\n  componentWillMount() {\n    this.props.getSystemDetails(this.props.activeModel, this.props.activeSystem);\n  }\n\n  updateSystemDetails(event) {\n    let value = event.target.value;\n\n    if ((event.key === \"Enter\" || event.type === \"blur\") && this.state.modal && value) {\n      event.target.value = \"\";\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(process.env.REACT_APP_API + \"\".concat(this.props.activeModel, \"/system/\") + this.props.systemDetails.id, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          description: value\n        })\n      }).then(response => this.props.getSystemDetails(this.props.activeModel, this.props.systemDetails.id)).catch(error => console.log(error));\n    }\n  }\n\n  toggleDescription() {\n    this.setState(state => ({\n      collapse: !state.collapse\n    }));\n  } //Closes the system details section\n\n\n  close(menu, type) {\n    this.props.close(menu, type);\n  } //control right click modal\n\n\n  modalToggle(e, data) {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n      this.setState({\n        details: {\n          description: data.description\n        }\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"org_browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.modalToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: this.state.details.description,\n      onBlur: this.updateSystemDetails.bind(this),\n      onKeyDown: this.updateSystemDetails.bind(this),\n      placeholder: \"Add Description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })))), React.createElement(\"h3\", {\n      className: \"text-center text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"System Details\", React.createElement(\"i\", {\n      className: \"fas fa-times system-down-icon browser_close\",\n      onClick: () => this.close(\"systemDetail\", \"menuDetail\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"far fa-edit\",\n      onClick: () => this.modalToggle(this, this.props.systemDetails),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(VerticalScrollbars, {\n      autoHide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"browser_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"org-selector\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"system-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.props.systemDetails.name), React.createElement(\"i\", {\n      className: \"fas fa-chevron-down system-down-icon\",\n      onClick: this.toggleDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })), React.createElement(Tooltip, {\n      placement: \"top\",\n      toggle: () => this.toggle(\"system-detail-name\"),\n      isOpen: this.state[\"system-detail-name\"],\n      autohide: false,\n      target: \"system-detail-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, this.props.systemDetails.id)), React.createElement(\"div\", {\n      className: \"col-md-6 m-b-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Support lvl: Gold\")), React.createElement(Collapse, {\n      isOpen: this.state.collapse,\n      className: \"systemDetailsDisc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, this.props.systemDetails.description ? this.props.systemDetails.description : \"No Description\"))), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Sub systems\"), this.props.systemDetails.subsystemLinks ? this.props.systemDetails.subsystemLinks.map((subsystem, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"d-flex w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"systemCircle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, subsystem.title))));\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Services\"), this.props.systemDetails.services ? this.props.systemDetails.services.map((services, i) => {\n      return React.createElement(\"div\", {\n        key: services.id,\n        className: \"d-flex w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"serviceCircle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        id: \"service-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, services.name)), React.createElement(Tooltip, {\n        placement: \"top\",\n        toggle: () => this.toggle(\"service-\".concat(i)),\n        isOpen: this.state[\"service-\".concat(i)],\n        autohide: false,\n        target: \"service-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, services.id)));\n    }) : \"\"), React.createElement(\"div\", {\n      className: \"ob-block row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-white text-left col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"References\"), this.props.systemDetails.references ? this.props.systemDetails.references.map((references, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"d-flex w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-grey text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"referenceArrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"\\u2192\"), React.createElement(\"span\", {\n        id: \"reference-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, references.name)), React.createElement(Tooltip, {\n        placement: \"top\",\n        toggle: () => this.toggle(\"reference-\".concat(i)),\n        isOpen: this.state[\"reference-\".concat(i)],\n        autohide: false,\n        target: \"reference-\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, references.id)));\n    }) : \"\"))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getSystemDetails: (modelId, systemId) => {\n      dispatch(fetchSystemDetils(modelId, systemId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeModel: state.model.modelUri,\n    systemDetails: state.system.systemDetails\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SystemDetails);","map":{"version":3,"sources":["/Users/kirancorreya/Site/Starlify/src/pages/dashboard/browsers/SystemDetails.js"],"names":["React","Component","VerticalScrollbars","ContextMenu","MenuItem","ContextMenuTrigger","Collapse","Modal","ModalBody","Tooltip","fetchSystemDetils","connect","SystemDetails","constructor","props","toggle","target","setState","state","collapse","systemCollapseId","subSystemCollapseId","modal","details","close","bind","toggleDescription","modalToggle","updateSystemDetails","componentWillReceiveProps","nextProps","activeSystem","getSystemDetails","activeModel","componentWillMount","event","value","key","type","prevState","fetch","process","env","REACT_APP_API","systemDetails","id","method","headers","body","JSON","stringify","description","then","response","catch","error","console","log","menu","e","data","render","name","subsystemLinks","map","subsystem","i","title","services","references","mapDispatchToProps","dispatch","modelId","systemId","mapStateToProps","model","modelUri","system"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport VerticalScrollbars from \"../../../_assets/Scrollbars/VerticalScrollbars\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport { Collapse, Modal, ModalBody, Tooltip } from \"reactstrap\";\nimport { fetchSystemDetils } from \"../../../store/system/systemActions\";\nimport { connect } from \"react-redux\";\n\nclass SystemDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapse: true,\n      systemCollapseId: false,\n      subSystemCollapseId: false,\n      modal: false,\n      details: {}\n    };\n    this.close = this.close.bind(this);\n    this.toggleDescription = this.toggleDescription.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.modalToggle = this.modalToggle.bind(this);\n    this.updateSystemDetails = this.updateSystemDetails.bind(this);\n  }\n\n  toggle = target => {\n    this.setState({\n      ...this.state,\n      [target]: !this.state[target]\n    });\n  };\n  componentWillReceiveProps(nextProps) {\n    if (this.props.activeSystem != nextProps.activeSystem)\n      this.props.getSystemDetails(\n        this.props.activeModel,\n        nextProps.activeSystem\n      );\n  }\n  componentWillMount() {\n    this.props.getSystemDetails(\n      this.props.activeModel,\n      this.props.activeSystem\n    );\n  }\n\n  updateSystemDetails(event) {\n    let value = event.target.value;\n    if (\n      (event.key === \"Enter\" || event.type === \"blur\") &&\n      this.state.modal &&\n      value\n    ) {\n      event.target.value = \"\";\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n      fetch(\n        process.env.REACT_APP_API +\n          `${this.props.activeModel}/system/` +\n          this.props.systemDetails.id,\n        {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({ description: value })\n        }\n      )\n        .then(response =>\n          this.props.getSystemDetails(\n            this.props.activeModel,\n            this.props.systemDetails.id\n          )\n        )\n        .catch(error => console.log(error));\n    }\n  }\n\n  toggleDescription() {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  //Closes the system details section\n  close(menu, type) {\n    this.props.close(menu, type);\n  }\n\n  //control right click modal\n  modalToggle(e, data) {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n\n    if (data) {\n      this.setState({\n        details: { description: data.description }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"org_browser\">\n        <Modal isOpen={this.state.modal} toggle={this.modalToggle}>\n          <ModalBody>\n            <div>\n              <input\n                defaultValue={this.state.details.description}\n                onBlur={this.updateSystemDetails.bind(this)}\n                onKeyDown={this.updateSystemDetails.bind(this)}\n                placeholder=\"Add Description\"\n              ></input>\n            </div>\n          </ModalBody>\n        </Modal>\n        <h3 className=\"text-center text-white\">\n          System Details\n          <i\n            className=\"fas fa-times system-down-icon browser_close\"\n            onClick={() => this.close(\"systemDetail\", \"menuDetail\")}\n          />\n          <i\n            className=\"far fa-edit\"\n            onClick={() => this.modalToggle(this, this.props.systemDetails)}\n          ></i>\n        </h3>\n\n        <VerticalScrollbars autoHide>\n          <div className=\"browser_wrapper\">\n            <div className=\"org-selector\">\n              <p className=\"text-white text-left\"></p>\n            </div>\n            <div className=\"ob-block row\">\n              <div className=\"col-md-6 m-b-20\">\n                <p className=\"text-white text-left\">\n                  <span id=\"system-detail-name\">\n                    {this.props.systemDetails.name}\n                  </span>\n\n                  <i\n                    className=\"fas fa-chevron-down system-down-icon\"\n                    onClick={this.toggleDescription}\n                  />\n                </p>\n                <Tooltip\n                  placement=\"top\"\n                  toggle={() => this.toggle(\"system-detail-name\")}\n                  isOpen={this.state[\"system-detail-name\"]}\n                  autohide={false}\n                  target={\"system-detail-name\"}\n                >\n                  {this.props.systemDetails.id}\n                </Tooltip>\n              </div>\n              <div className=\"col-md-6 m-b-20\">\n                <p className=\"text-white text-left\">Support lvl: Gold</p>\n              </div>\n              <Collapse\n                isOpen={this.state.collapse}\n                className=\"systemDetailsDisc\"\n              >\n                <p className=\"text-grey\">\n                  {this.props.systemDetails.description\n                    ? this.props.systemDetails.description\n                    : \"No Description\"}\n                </p>\n              </Collapse>\n            </div>\n\n            <div className=\"ob-block row\">\n              <p className=\"text-white text-left col-md-12\">Sub systems</p>\n              {this.props.systemDetails.subsystemLinks\n                ? this.props.systemDetails.subsystemLinks.map(\n                    (subsystem, i) => {\n                      return (\n                        <div key={i} className=\"d-flex w-100\">\n                          <div className=\"col-md-12\">\n                            <p className=\"text-grey text-left\">\n                              <span className=\"systemCircle\"></span>\n                              <span>{subsystem.title}</span>\n                            </p>\n                          </div>\n                        </div>\n                      );\n                    }\n                  )\n                : \"\"}\n            </div>\n            <div className=\"ob-block row\">\n              <p className=\"text-white text-left col-md-12\">Services</p>\n              {this.props.systemDetails.services\n                ? this.props.systemDetails.services.map((services, i) => {\n                    return (\n                      <div key={services.id} className=\"d-flex w-100\">\n                        <div className=\"col-md-12\">\n                          <p className=\"text-grey text-left\">\n                            <span className=\"serviceCircle\" />\n\n                            <span id={`service-${i}`}>{services.name}</span>\n                          </p>\n                          <Tooltip\n                            placement=\"top\"\n                            toggle={() => this.toggle(`service-${i}`)}\n                            isOpen={this.state[`service-${i}`]}\n                            autohide={false}\n                            target={`service-${i}`}\n                          >\n                            {services.id}\n                          </Tooltip>\n                        </div>\n                      </div>\n                    );\n                  })\n                : \"\"}\n            </div>\n            <div className=\"ob-block row\">\n              <p className=\"text-white text-left col-md-12\">References</p>\n              {this.props.systemDetails.references\n                ? this.props.systemDetails.references.map((references, i) => {\n                    return (\n                      <div key={i} className=\"d-flex w-100\">\n                        <div className=\"col-md-12\">\n                          <p className=\"text-grey text-left\">\n                            <span className=\"referenceArrow\">→</span>\n\n                            <span id={`reference-${i}`}>{references.name}</span>\n                          </p>\n                          <Tooltip\n                            placement=\"top\"\n                            toggle={() => this.toggle(`reference-${i}`)}\n                            isOpen={this.state[`reference-${i}`]}\n                            autohide={false}\n                            target={`reference-${i}`}\n                          >\n                            {references.id}\n                          </Tooltip>\n                        </div>\n                      </div>\n                    );\n                  })\n                : \"\"}\n            </div>\n          </div>\n        </VerticalScrollbars>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getSystemDetails: (modelId, systemId) => {\n      dispatch(fetchSystemDetils(modelId, systemId));\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeSystem: state.model.activeSystem,\n    activeModel: state.model.modelUri,\n    systemDetails: state.system.systemDetails\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SystemDetails);\n"]},"metadata":{},"sourceType":"module"}